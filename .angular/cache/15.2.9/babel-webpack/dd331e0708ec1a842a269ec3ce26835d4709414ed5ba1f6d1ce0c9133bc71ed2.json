{"ast":null,"code":"'use strict';\n\nvar requirePromise = require('./requirePromise');\nrequirePromise();\nvar $TypeError = require('es-errors/type');\nvar PromiseResolve = require('es-abstract/2023/PromiseResolve');\nvar IsCallable = require('es-abstract/2023/IsCallable');\nvar SpeciesConstructor = require('es-abstract/2023/SpeciesConstructor');\nvar Type = require('es-abstract/2023/Type');\nvar setFunctionName = require('set-function-name');\nvar OriginalPromise = Promise;\nvar createThenFinally = function CreateThenFinally(C, onFinally) {\n  return function (value) {\n    var result = onFinally();\n    var promise = PromiseResolve(C, result);\n    var valueThunk = function () {\n      return value;\n    };\n    return promise.then(valueThunk);\n  };\n};\nvar createCatchFinally = function CreateCatchFinally(C, onFinally) {\n  return function (reason) {\n    var result = onFinally();\n    var promise = PromiseResolve(C, result);\n    var thrower = function () {\n      throw reason;\n    };\n    return promise.then(thrower);\n  };\n};\n\n/* eslint no-invalid-this: 0 */\n\nmodule.exports = setFunctionName(function finally_(onFinally) {\n  var promise = this;\n  if (Type(promise) !== 'Object') {\n    throw new $TypeError('receiver is not an Object');\n  }\n  var C = SpeciesConstructor(promise, OriginalPromise); // may throw\n\n  var thenFinally = onFinally;\n  var catchFinally = onFinally;\n  if (IsCallable(onFinally)) {\n    thenFinally = createThenFinally(C, onFinally);\n    catchFinally = createCatchFinally(C, onFinally);\n  }\n  return promise.then(thenFinally, catchFinally);\n}, 'finally', true);","map":{"version":3,"names":["requirePromise","require","$TypeError","PromiseResolve","IsCallable","SpeciesConstructor","Type","setFunctionName","OriginalPromise","Promise","createThenFinally","CreateThenFinally","C","onFinally","value","result","promise","valueThunk","then","createCatchFinally","CreateCatchFinally","reason","thrower","module","exports","finally_","thenFinally","catchFinally"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/promise.prototype.finally/implementation.js"],"sourcesContent":["'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nrequirePromise();\n\nvar $TypeError = require('es-errors/type');\n\nvar PromiseResolve = require('es-abstract/2023/PromiseResolve');\nvar IsCallable = require('es-abstract/2023/IsCallable');\nvar SpeciesConstructor = require('es-abstract/2023/SpeciesConstructor');\nvar Type = require('es-abstract/2023/Type');\n\nvar setFunctionName = require('set-function-name');\n\nvar OriginalPromise = Promise;\n\nvar createThenFinally = function CreateThenFinally(C, onFinally) {\n\treturn function (value) {\n\t\tvar result = onFinally();\n\t\tvar promise = PromiseResolve(C, result);\n\t\tvar valueThunk = function () {\n\t\t\treturn value;\n\t\t};\n\t\treturn promise.then(valueThunk);\n\t};\n};\n\nvar createCatchFinally = function CreateCatchFinally(C, onFinally) {\n\treturn function (reason) {\n\t\tvar result = onFinally();\n\t\tvar promise = PromiseResolve(C, result);\n\t\tvar thrower = function () {\n\t\t\tthrow reason;\n\t\t};\n\t\treturn promise.then(thrower);\n\t};\n};\n\n/* eslint no-invalid-this: 0 */\n\nmodule.exports = setFunctionName(function finally_(onFinally) {\n\tvar promise = this;\n\n\tif (Type(promise) !== 'Object') {\n\t\tthrow new $TypeError('receiver is not an Object');\n\t}\n\n\tvar C = SpeciesConstructor(promise, OriginalPromise); // may throw\n\n\tvar thenFinally = onFinally;\n\tvar catchFinally = onFinally;\n\tif (IsCallable(onFinally)) {\n\t\tthenFinally = createThenFinally(C, onFinally);\n\t\tcatchFinally = createCatchFinally(C, onFinally);\n\t}\n\n\treturn promise.then(thenFinally, catchFinally);\n}, 'finally', true);\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,cAAc,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAEhDD,cAAc,CAAC,CAAC;AAEhB,IAAIE,UAAU,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAE1C,IAAIE,cAAc,GAAGF,OAAO,CAAC,iCAAiC,CAAC;AAC/D,IAAIG,UAAU,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AACvD,IAAII,kBAAkB,GAAGJ,OAAO,CAAC,qCAAqC,CAAC;AACvE,IAAIK,IAAI,GAAGL,OAAO,CAAC,uBAAuB,CAAC;AAE3C,IAAIM,eAAe,GAAGN,OAAO,CAAC,mBAAmB,CAAC;AAElD,IAAIO,eAAe,GAAGC,OAAO;AAE7B,IAAIC,iBAAiB,GAAG,SAASC,iBAAiBA,CAACC,CAAC,EAAEC,SAAS,EAAE;EAChE,OAAO,UAAUC,KAAK,EAAE;IACvB,IAAIC,MAAM,GAAGF,SAAS,CAAC,CAAC;IACxB,IAAIG,OAAO,GAAGb,cAAc,CAACS,CAAC,EAAEG,MAAM,CAAC;IACvC,IAAIE,UAAU,GAAG,SAAAA,CAAA,EAAY;MAC5B,OAAOH,KAAK;IACb,CAAC;IACD,OAAOE,OAAO,CAACE,IAAI,CAACD,UAAU,CAAC;EAChC,CAAC;AACF,CAAC;AAED,IAAIE,kBAAkB,GAAG,SAASC,kBAAkBA,CAACR,CAAC,EAAEC,SAAS,EAAE;EAClE,OAAO,UAAUQ,MAAM,EAAE;IACxB,IAAIN,MAAM,GAAGF,SAAS,CAAC,CAAC;IACxB,IAAIG,OAAO,GAAGb,cAAc,CAACS,CAAC,EAAEG,MAAM,CAAC;IACvC,IAAIO,OAAO,GAAG,SAAAA,CAAA,EAAY;MACzB,MAAMD,MAAM;IACb,CAAC;IACD,OAAOL,OAAO,CAACE,IAAI,CAACI,OAAO,CAAC;EAC7B,CAAC;AACF,CAAC;;AAED;;AAEAC,MAAM,CAACC,OAAO,GAAGjB,eAAe,CAAC,SAASkB,QAAQA,CAACZ,SAAS,EAAE;EAC7D,IAAIG,OAAO,GAAG,IAAI;EAElB,IAAIV,IAAI,CAACU,OAAO,CAAC,KAAK,QAAQ,EAAE;IAC/B,MAAM,IAAId,UAAU,CAAC,2BAA2B,CAAC;EAClD;EAEA,IAAIU,CAAC,GAAGP,kBAAkB,CAACW,OAAO,EAAER,eAAe,CAAC,CAAC,CAAC;;EAEtD,IAAIkB,WAAW,GAAGb,SAAS;EAC3B,IAAIc,YAAY,GAAGd,SAAS;EAC5B,IAAIT,UAAU,CAACS,SAAS,CAAC,EAAE;IAC1Ba,WAAW,GAAGhB,iBAAiB,CAACE,CAAC,EAAEC,SAAS,CAAC;IAC7Cc,YAAY,GAAGR,kBAAkB,CAACP,CAAC,EAAEC,SAAS,CAAC;EAChD;EAEA,OAAOG,OAAO,CAACE,IAAI,CAACQ,WAAW,EAAEC,YAAY,CAAC;AAC/C,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}