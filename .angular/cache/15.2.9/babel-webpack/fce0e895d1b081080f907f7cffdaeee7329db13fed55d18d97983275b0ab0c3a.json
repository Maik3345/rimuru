{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.freeze.js\";\nvar _templateObject;\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.concat.js\";\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\nimport dedent from 'ts-dedent';\nimport deprecate from 'util-deprecate';\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { clearStyles, addGridStyle } from '../helpers';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nvar deprecatedCellSizeWarning = deprecate(function () {}, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    Backgrounds Addon: The cell size parameter has been changed.\\n\\n    - parameters.grid.cellSize should now be parameters.backgrounds.grid.cellSize\\n    See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-grid-parameter\\n  \"]))));\nexport var withGrid = function withGrid(StoryFn, context) {\n  var _globals$BACKGROUNDS_, _parameters$grid, _gridParameters$offse, _gridParameters$offse2;\n  var globals = context.globals,\n    parameters = context.parameters;\n  var gridParameters = parameters[BACKGROUNDS_PARAM_KEY].grid;\n  var isActive = ((_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.grid) === true && gridParameters.disable !== true;\n  var cellAmount = gridParameters.cellAmount,\n    cellSize = gridParameters.cellSize,\n    opacity = gridParameters.opacity;\n  var isInDocs = context.viewMode === 'docs';\n  var gridSize;\n  if ((_parameters$grid = parameters.grid) !== null && _parameters$grid !== void 0 && _parameters$grid.cellSize) {\n    gridSize = parameters.grid.cellSize;\n    deprecatedCellSizeWarning();\n  } else {\n    gridSize = cellSize;\n  }\n  var isLayoutPadded = parameters.layout === undefined || parameters.layout === 'padded'; // 16px offset in the grid to account for padded layout\n\n  var defaultOffset = isLayoutPadded ? 16 : 0;\n  var offsetX = (_gridParameters$offse = gridParameters.offsetX) !== null && _gridParameters$offse !== void 0 ? _gridParameters$offse : isInDocs ? 20 : defaultOffset;\n  var offsetY = (_gridParameters$offse2 = gridParameters.offsetY) !== null && _gridParameters$offse2 !== void 0 ? _gridParameters$offse2 : isInDocs ? 20 : defaultOffset;\n  var gridStyles = useMemo(function () {\n    var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n    var backgroundSize = [\"\".concat(gridSize * cellAmount, \"px \").concat(gridSize * cellAmount, \"px\"), \"\".concat(gridSize * cellAmount, \"px \").concat(gridSize * cellAmount, \"px\"), \"\".concat(gridSize, \"px \").concat(gridSize, \"px\"), \"\".concat(gridSize, \"px \").concat(gridSize, \"px\")].join(', ');\n    return \"\\n      \".concat(selector, \" {\\n        background-size: \").concat(backgroundSize, \" !important;\\n        background-position: \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px !important;\\n        background-blend-mode: difference !important;\\n        background-image: linear-gradient(rgba(130, 130, 130, \").concat(opacity, \") 1px, transparent 1px),\\n         linear-gradient(90deg, rgba(130, 130, 130, \").concat(opacity, \") 1px, transparent 1px),\\n         linear-gradient(rgba(130, 130, 130, \").concat(opacity / 2, \") 1px, transparent 1px),\\n         linear-gradient(90deg, rgba(130, 130, 130, \").concat(opacity / 2, \") 1px, transparent 1px) !important;\\n      }\\n    \");\n  }, [gridSize]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-grid-docs-\".concat(context.id) : \"addon-backgrounds-grid\";\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n    addGridStyle(selectorId, gridStyles);\n  }, [isActive, gridStyles, context]);\n  return StoryFn();\n};","map":{"version":3,"names":["_templateObject","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","dedent","deprecate","useMemo","useEffect","clearStyles","addGridStyle","PARAM_KEY","BACKGROUNDS_PARAM_KEY","deprecatedCellSizeWarning","withGrid","StoryFn","context","_globals$BACKGROUNDS_","_parameters$grid","_gridParameters$offse","_gridParameters$offse2","globals","parameters","gridParameters","grid","isActive","disable","cellAmount","cellSize","opacity","isInDocs","viewMode","gridSize","isLayoutPadded","layout","undefined","defaultOffset","offsetX","offsetY","gridStyles","selector","concat","id","backgroundSize","join","selectorId"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addon-backgrounds/dist/esm/decorators/withGrid.js"],"sourcesContent":["import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.freeze.js\";\n\nvar _templateObject;\n\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.concat.js\";\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport dedent from 'ts-dedent';\nimport deprecate from 'util-deprecate';\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { clearStyles, addGridStyle } from '../helpers';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nvar deprecatedCellSizeWarning = deprecate(function () {}, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    Backgrounds Addon: The cell size parameter has been changed.\\n\\n    - parameters.grid.cellSize should now be parameters.backgrounds.grid.cellSize\\n    See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-grid-parameter\\n  \"]))));\nexport var withGrid = function withGrid(StoryFn, context) {\n  var _globals$BACKGROUNDS_, _parameters$grid, _gridParameters$offse, _gridParameters$offse2;\n\n  var globals = context.globals,\n      parameters = context.parameters;\n  var gridParameters = parameters[BACKGROUNDS_PARAM_KEY].grid;\n  var isActive = ((_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.grid) === true && gridParameters.disable !== true;\n  var cellAmount = gridParameters.cellAmount,\n      cellSize = gridParameters.cellSize,\n      opacity = gridParameters.opacity;\n  var isInDocs = context.viewMode === 'docs';\n  var gridSize;\n\n  if ((_parameters$grid = parameters.grid) !== null && _parameters$grid !== void 0 && _parameters$grid.cellSize) {\n    gridSize = parameters.grid.cellSize;\n    deprecatedCellSizeWarning();\n  } else {\n    gridSize = cellSize;\n  }\n\n  var isLayoutPadded = parameters.layout === undefined || parameters.layout === 'padded'; // 16px offset in the grid to account for padded layout\n\n  var defaultOffset = isLayoutPadded ? 16 : 0;\n  var offsetX = (_gridParameters$offse = gridParameters.offsetX) !== null && _gridParameters$offse !== void 0 ? _gridParameters$offse : isInDocs ? 20 : defaultOffset;\n  var offsetY = (_gridParameters$offse2 = gridParameters.offsetY) !== null && _gridParameters$offse2 !== void 0 ? _gridParameters$offse2 : isInDocs ? 20 : defaultOffset;\n  var gridStyles = useMemo(function () {\n    var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n    var backgroundSize = [\"\".concat(gridSize * cellAmount, \"px \").concat(gridSize * cellAmount, \"px\"), \"\".concat(gridSize * cellAmount, \"px \").concat(gridSize * cellAmount, \"px\"), \"\".concat(gridSize, \"px \").concat(gridSize, \"px\"), \"\".concat(gridSize, \"px \").concat(gridSize, \"px\")].join(', ');\n    return \"\\n      \".concat(selector, \" {\\n        background-size: \").concat(backgroundSize, \" !important;\\n        background-position: \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px, \").concat(offsetX, \"px \").concat(offsetY, \"px !important;\\n        background-blend-mode: difference !important;\\n        background-image: linear-gradient(rgba(130, 130, 130, \").concat(opacity, \") 1px, transparent 1px),\\n         linear-gradient(90deg, rgba(130, 130, 130, \").concat(opacity, \") 1px, transparent 1px),\\n         linear-gradient(rgba(130, 130, 130, \").concat(opacity / 2, \") 1px, transparent 1px),\\n         linear-gradient(90deg, rgba(130, 130, 130, \").concat(opacity / 2, \") 1px, transparent 1px) !important;\\n      }\\n    \");\n  }, [gridSize]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-grid-docs-\".concat(context.id) : \"addon-backgrounds-grid\";\n\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n\n    addGridStyle(selectorId, gridStyles);\n  }, [isActive, gridStyles, context]);\n  return StoryFn();\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}