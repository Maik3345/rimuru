{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prepareForInline = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst p_limit_1 = __importDefault(require(\"p-limit\"));\nconst nanoid_1 = require(\"nanoid\");\nconst renderer_1 = require(\"../../renderer\");\nconst limit = p_limit_1.default(1);\n/**\n * Uses the angular renderer to generate a story. Uses p-limit to run synchronously\n */\nexports.prepareForInline = (storyFn, {\n  id,\n  parameters,\n  component\n}) => {\n  const el = react_1.default.useRef();\n  react_1.default.useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      limit(() => __awaiter(void 0, void 0, void 0, function* () {\n        const renderer = yield renderer_1.rendererFactory.getRendererInstance(`${id}-${nanoid_1.nanoid(10)}`.toLowerCase(), el.current);\n        if (renderer) {\n          yield renderer.render({\n            forced: false,\n            component,\n            parameters,\n            storyFnAngular: storyFn(),\n            targetDOMNode: el.current\n          });\n        }\n      }));\n    }))();\n  });\n  return react_1.default.createElement('div', {\n    ref: el\n  });\n};","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","prepareForInline","react_1","require","p_limit_1","nanoid_1","renderer_1","limit","default","storyFn","id","parameters","component","el","useRef","useEffect","renderer","rendererFactory","getRendererInstance","nanoid","toLowerCase","current","render","forced","storyFnAngular","targetDOMNode","createElement","ref"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/angular/dist/ts3.9/client/docs/prepareForInline.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepareForInline = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst p_limit_1 = __importDefault(require(\"p-limit\"));\nconst nanoid_1 = require(\"nanoid\");\nconst renderer_1 = require(\"../../renderer\");\nconst limit = p_limit_1.default(1);\n/**\n * Uses the angular renderer to generate a story. Uses p-limit to run synchronously\n */\nexports.prepareForInline = (storyFn, { id, parameters, component }) => {\n    const el = react_1.default.useRef();\n    react_1.default.useEffect(() => {\n        (() => __awaiter(void 0, void 0, void 0, function* () {\n            limit(() => __awaiter(void 0, void 0, void 0, function* () {\n                const renderer = yield renderer_1.rendererFactory.getRendererInstance(`${id}-${nanoid_1.nanoid(10)}`.toLowerCase(), el.current);\n                if (renderer) {\n                    yield renderer.render({\n                        forced: false,\n                        component,\n                        parameters,\n                        storyFnAngular: storyFn(),\n                        targetDOMNode: el.current,\n                    });\n                }\n            }));\n        }))();\n    });\n    return react_1.default.createElement('div', {\n        ref: el,\n    });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}