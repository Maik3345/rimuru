{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nvar _excluded = [\"withSource\", \"mdxSource\", \"children\"];\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.map.js\";\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { useContext } from 'react';\nimport { MDXProvider } from '@mdx-js/react';\nimport { toId, storyNameFromExport } from '@storybook/csf';\nimport { resetComponents, Preview as PurePreview, PreviewSkeleton } from '@storybook/components';\nimport { DocsContext } from './DocsContext';\nimport { SourceContext } from './SourceContainer';\nimport { getSourceProps, SourceState } from './Source';\nimport { useStories } from './useStory';\nimport { CURRENT_SELECTION } from './types';\nexport { SourceState };\nvar getPreviewProps = function getPreviewProps(_ref, docsContext, sourceContext) {\n  var withSource = _ref.withSource,\n    mdxSource = _ref.mdxSource,\n    children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var mdxComponentAnnotations = docsContext.mdxComponentAnnotations,\n    mdxStoryNameToKey = docsContext.mdxStoryNameToKey;\n  var sourceState = withSource;\n  var isLoading = false;\n  if (sourceState === SourceState.NONE) {\n    return {\n      isLoading: isLoading,\n      previewProps: props\n    };\n  }\n  if (mdxSource) {\n    return {\n      isLoading: isLoading,\n      previewProps: Object.assign({}, props, {\n        withSource: getSourceProps({\n          code: decodeURI(mdxSource)\n        }, docsContext, sourceContext)\n      })\n    };\n  }\n  var childArray = Array.isArray(children) ? children : [children];\n  var storyChildren = childArray.filter(function (c) {\n    return c.props && (c.props.id || c.props.name);\n  });\n  var targetIds = storyChildren.map(function (s) {\n    return s.props.id || toId(mdxComponentAnnotations.id || mdxComponentAnnotations.title, storyNameFromExport(mdxStoryNameToKey[s.props.name]));\n  });\n  var sourceProps = getSourceProps({\n    ids: targetIds\n  }, docsContext, sourceContext);\n  if (!sourceState) sourceState = sourceProps.state;\n  var storyIds = targetIds.map(function (targetId) {\n    return targetId === CURRENT_SELECTION ? docsContext.id : targetId;\n  });\n  var stories = useStories(storyIds, docsContext);\n  isLoading = stories.some(function (s) {\n    return !s;\n  });\n  return {\n    isLoading: isLoading,\n    previewProps: Object.assign({}, props, {\n      // pass through columns etc.\n      withSource: sourceProps,\n      isExpanded: sourceState === SourceState.OPEN\n    })\n  };\n};\nexport var Canvas = function Canvas(props) {\n  var docsContext = useContext(DocsContext);\n  var sourceContext = useContext(SourceContext);\n  var _getPreviewProps = getPreviewProps(props, docsContext, sourceContext),\n    isLoading = _getPreviewProps.isLoading,\n    previewProps = _getPreviewProps.previewProps;\n  var children = props.children;\n  if (isLoading) return /*#__PURE__*/React.createElement(PreviewSkeleton, null);\n  return /*#__PURE__*/React.createElement(MDXProvider, {\n    components: resetComponents\n  }, /*#__PURE__*/React.createElement(PurePreview, previewProps, children));\n};","map":{"version":3,"names":["_excluded","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","React","useContext","MDXProvider","toId","storyNameFromExport","resetComponents","Preview","PurePreview","PreviewSkeleton","DocsContext","SourceContext","getSourceProps","SourceState","useStories","CURRENT_SELECTION","getPreviewProps","_ref","docsContext","sourceContext","withSource","mdxSource","children","props","mdxComponentAnnotations","mdxStoryNameToKey","sourceState","isLoading","NONE","previewProps","assign","code","decodeURI","childArray","Array","isArray","storyChildren","filter","c","id","name","targetIds","map","s","title","sourceProps","ids","state","storyIds","targetId","stories","some","isExpanded","OPEN","Canvas","_getPreviewProps","createElement","components"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addon-docs/dist/esm/blocks/Canvas.js"],"sourcesContent":["import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nvar _excluded = [\"withSource\", \"mdxSource\", \"children\"];\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.map.js\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useContext } from 'react';\nimport { MDXProvider } from '@mdx-js/react';\nimport { toId, storyNameFromExport } from '@storybook/csf';\nimport { resetComponents, Preview as PurePreview, PreviewSkeleton } from '@storybook/components';\nimport { DocsContext } from './DocsContext';\nimport { SourceContext } from './SourceContainer';\nimport { getSourceProps, SourceState } from './Source';\nimport { useStories } from './useStory';\nimport { CURRENT_SELECTION } from './types';\nexport { SourceState };\n\nvar getPreviewProps = function getPreviewProps(_ref, docsContext, sourceContext) {\n  var withSource = _ref.withSource,\n      mdxSource = _ref.mdxSource,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var mdxComponentAnnotations = docsContext.mdxComponentAnnotations,\n      mdxStoryNameToKey = docsContext.mdxStoryNameToKey;\n  var sourceState = withSource;\n  var isLoading = false;\n\n  if (sourceState === SourceState.NONE) {\n    return {\n      isLoading: isLoading,\n      previewProps: props\n    };\n  }\n\n  if (mdxSource) {\n    return {\n      isLoading: isLoading,\n      previewProps: Object.assign({}, props, {\n        withSource: getSourceProps({\n          code: decodeURI(mdxSource)\n        }, docsContext, sourceContext)\n      })\n    };\n  }\n\n  var childArray = Array.isArray(children) ? children : [children];\n  var storyChildren = childArray.filter(function (c) {\n    return c.props && (c.props.id || c.props.name);\n  });\n  var targetIds = storyChildren.map(function (s) {\n    return s.props.id || toId(mdxComponentAnnotations.id || mdxComponentAnnotations.title, storyNameFromExport(mdxStoryNameToKey[s.props.name]));\n  });\n  var sourceProps = getSourceProps({\n    ids: targetIds\n  }, docsContext, sourceContext);\n  if (!sourceState) sourceState = sourceProps.state;\n  var storyIds = targetIds.map(function (targetId) {\n    return targetId === CURRENT_SELECTION ? docsContext.id : targetId;\n  });\n  var stories = useStories(storyIds, docsContext);\n  isLoading = stories.some(function (s) {\n    return !s;\n  });\n  return {\n    isLoading: isLoading,\n    previewProps: Object.assign({}, props, {\n      // pass through columns etc.\n      withSource: sourceProps,\n      isExpanded: sourceState === SourceState.OPEN\n    })\n  };\n};\n\nexport var Canvas = function Canvas(props) {\n  var docsContext = useContext(DocsContext);\n  var sourceContext = useContext(SourceContext);\n\n  var _getPreviewProps = getPreviewProps(props, docsContext, sourceContext),\n      isLoading = _getPreviewProps.isLoading,\n      previewProps = _getPreviewProps.previewProps;\n\n  var children = props.children;\n  if (isLoading) return /*#__PURE__*/React.createElement(PreviewSkeleton, null);\n  return /*#__PURE__*/React.createElement(MDXProvider, {\n    components: resetComponents\n  }, /*#__PURE__*/React.createElement(PurePreview, previewProps, children));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}