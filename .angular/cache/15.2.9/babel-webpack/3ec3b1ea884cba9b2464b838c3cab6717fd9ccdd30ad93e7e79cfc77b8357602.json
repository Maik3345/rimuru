{"ast":null,"code":"import global from 'global';\nexport var deepElementFromPoint = function deepElementFromPoint(x, y) {\n  var element = global.document.elementFromPoint(x, y);\n  var crawlShadows = function crawlShadows(node) {\n    if (node && node.shadowRoot) {\n      var nestedElement = node.shadowRoot.elementFromPoint(x, y); // Nested node is same as the root one\n\n      if (node.isEqualNode(nestedElement)) {\n        return node;\n      } // The nested node has shadow DOM too so continue crawling\n\n      if (nestedElement.shadowRoot) {\n        return crawlShadows(nestedElement);\n      } // No more shadow DOM\n\n      return nestedElement;\n    }\n    return node;\n  };\n  var shadowElement = crawlShadows(element);\n  return shadowElement || element;\n};","map":{"version":3,"names":["global","deepElementFromPoint","x","y","element","document","elementFromPoint","crawlShadows","node","shadowRoot","nestedElement","isEqualNode","shadowElement"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addon-measure/dist/esm/util.js"],"sourcesContent":["import global from 'global';\nexport var deepElementFromPoint = function deepElementFromPoint(x, y) {\n  var element = global.document.elementFromPoint(x, y);\n\n  var crawlShadows = function crawlShadows(node) {\n    if (node && node.shadowRoot) {\n      var nestedElement = node.shadowRoot.elementFromPoint(x, y); // Nested node is same as the root one\n\n      if (node.isEqualNode(nestedElement)) {\n        return node;\n      } // The nested node has shadow DOM too so continue crawling\n\n\n      if (nestedElement.shadowRoot) {\n        return crawlShadows(nestedElement);\n      } // No more shadow DOM\n\n\n      return nestedElement;\n    }\n\n    return node;\n  };\n\n  var shadowElement = crawlShadows(element);\n  return shadowElement || element;\n};"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,OAAO,IAAIC,oBAAoB,GAAG,SAASA,oBAAoBA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACpE,IAAIC,OAAO,GAAGJ,MAAM,CAACK,QAAQ,CAACC,gBAAgB,CAACJ,CAAC,EAAEC,CAAC,CAAC;EAEpD,IAAII,YAAY,GAAG,SAASA,YAAYA,CAACC,IAAI,EAAE;IAC7C,IAAIA,IAAI,IAAIA,IAAI,CAACC,UAAU,EAAE;MAC3B,IAAIC,aAAa,GAAGF,IAAI,CAACC,UAAU,CAACH,gBAAgB,CAACJ,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;;MAE5D,IAAIK,IAAI,CAACG,WAAW,CAACD,aAAa,CAAC,EAAE;QACnC,OAAOF,IAAI;MACb,CAAC,CAAC;;MAGF,IAAIE,aAAa,CAACD,UAAU,EAAE;QAC5B,OAAOF,YAAY,CAACG,aAAa,CAAC;MACpC,CAAC,CAAC;;MAGF,OAAOA,aAAa;IACtB;IAEA,OAAOF,IAAI;EACb,CAAC;EAED,IAAII,aAAa,GAAGL,YAAY,CAACH,OAAO,CAAC;EACzC,OAAOQ,aAAa,IAAIR,OAAO;AACjC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}