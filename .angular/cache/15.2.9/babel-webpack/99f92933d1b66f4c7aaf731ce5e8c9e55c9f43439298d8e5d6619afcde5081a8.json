{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.weak-map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport global from 'global';\nimport { logger } from '@storybook/client-logger';\nimport { FORCE_RE_RENDER, STORY_RENDERED, UPDATE_STORY_ARGS, RESET_STORY_ARGS, UPDATE_GLOBALS } from '@storybook/core-events';\nimport { addons } from './index';\nvar globalWindow = global.window;\nexport var HooksContext = /*#__PURE__*/function () {\n  function HooksContext() {\n    var _this = this;\n    _classCallCheck(this, HooksContext);\n    this.hookListsMap = void 0;\n    this.mountedDecorators = void 0;\n    this.prevMountedDecorators = void 0;\n    this.currentHooks = void 0;\n    this.nextHookIndex = void 0;\n    this.currentPhase = void 0;\n    this.currentEffects = void 0;\n    this.prevEffects = void 0;\n    this.currentDecoratorName = void 0;\n    this.hasUpdates = void 0;\n    this.currentContext = void 0;\n    this.renderListener = function (storyId) {\n      if (storyId !== _this.currentContext.id) return;\n      _this.triggerEffects();\n      _this.currentContext = null;\n      _this.removeRenderListeners();\n    };\n    this.init();\n  }\n  _createClass(HooksContext, [{\n    key: \"init\",\n    value: function init() {\n      this.hookListsMap = new WeakMap();\n      this.mountedDecorators = new Set();\n      this.prevMountedDecorators = this.mountedDecorators;\n      this.currentHooks = [];\n      this.nextHookIndex = 0;\n      this.currentPhase = 'NONE';\n      this.currentEffects = [];\n      this.prevEffects = [];\n      this.currentDecoratorName = null;\n      this.hasUpdates = false;\n      this.currentContext = null;\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this.prevEffects.forEach(function (effect) {\n        if (effect.destroy) {\n          effect.destroy();\n        }\n      });\n      this.init();\n      this.removeRenderListeners();\n    }\n  }, {\n    key: \"getNextHook\",\n    value: function getNextHook() {\n      var hook = this.currentHooks[this.nextHookIndex];\n      this.nextHookIndex += 1;\n      return hook;\n    }\n  }, {\n    key: \"triggerEffects\",\n    value: function triggerEffects() {\n      var _this2 = this;\n\n      // destroy removed effects\n      this.prevEffects.forEach(function (effect) {\n        if (!_this2.currentEffects.includes(effect) && effect.destroy) {\n          effect.destroy();\n        }\n      }); // trigger added effects\n\n      this.currentEffects.forEach(function (effect) {\n        if (!_this2.prevEffects.includes(effect)) {\n          // eslint-disable-next-line no-param-reassign\n          effect.destroy = effect.create();\n        }\n      });\n      this.prevEffects = this.currentEffects;\n      this.currentEffects = [];\n    }\n  }, {\n    key: \"addRenderListeners\",\n    value: function addRenderListeners() {\n      this.removeRenderListeners();\n      var channel = addons.getChannel();\n      channel.on(STORY_RENDERED, this.renderListener);\n    }\n  }, {\n    key: \"removeRenderListeners\",\n    value: function removeRenderListeners() {\n      var channel = addons.getChannel();\n      channel.removeListener(STORY_RENDERED, this.renderListener);\n    }\n  }]);\n  return HooksContext;\n}();\nfunction hookify(fn) {\n  return function () {\n    var _ref = typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'function' ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 0 ? undefined : arguments[0],\n      hooks = _ref.hooks;\n    var prevPhase = hooks.currentPhase;\n    var prevHooks = hooks.currentHooks;\n    var prevNextHookIndex = hooks.nextHookIndex;\n    var prevDecoratorName = hooks.currentDecoratorName;\n    hooks.currentDecoratorName = fn.name;\n    if (hooks.prevMountedDecorators.has(fn)) {\n      hooks.currentPhase = 'UPDATE';\n      hooks.currentHooks = hooks.hookListsMap.get(fn) || [];\n    } else {\n      hooks.currentPhase = 'MOUNT';\n      hooks.currentHooks = [];\n      hooks.hookListsMap.set(fn, hooks.currentHooks);\n      hooks.prevMountedDecorators.add(fn);\n    }\n    hooks.nextHookIndex = 0;\n    var prevContext = globalWindow.STORYBOOK_HOOKS_CONTEXT;\n    globalWindow.STORYBOOK_HOOKS_CONTEXT = hooks;\n    var result = fn.apply(void 0, arguments);\n    globalWindow.STORYBOOK_HOOKS_CONTEXT = prevContext;\n    if (hooks.currentPhase === 'UPDATE' && hooks.getNextHook() != null) {\n      throw new Error('Rendered fewer hooks than expected. This may be caused by an accidental early return statement.');\n    }\n    hooks.currentPhase = prevPhase;\n    hooks.currentHooks = prevHooks;\n    hooks.nextHookIndex = prevNextHookIndex;\n    hooks.currentDecoratorName = prevDecoratorName;\n    return result;\n  };\n} // Counter to prevent infinite loops.\n\nvar numberOfRenders = 0;\nvar RENDER_LIMIT = 25;\nexport var applyHooks = function applyHooks(applyDecorators) {\n  return function (storyFn, decorators) {\n    var decorated = applyDecorators(hookify(storyFn), decorators.map(function (decorator) {\n      return hookify(decorator);\n    }));\n    return function (context) {\n      var _ref2 = context,\n        hooks = _ref2.hooks;\n      hooks.prevMountedDecorators = hooks.mountedDecorators;\n      hooks.mountedDecorators = new Set([storyFn].concat(_toConsumableArray(decorators)));\n      hooks.currentContext = context;\n      hooks.hasUpdates = false;\n      var result = decorated(context);\n      numberOfRenders = 1;\n      while (hooks.hasUpdates) {\n        hooks.hasUpdates = false;\n        hooks.currentEffects = [];\n        result = decorated(context);\n        numberOfRenders += 1;\n        if (numberOfRenders > RENDER_LIMIT) {\n          throw new Error('Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.');\n        }\n      }\n      hooks.addRenderListeners();\n      return result;\n    };\n  };\n};\nvar areDepsEqual = function areDepsEqual(deps, nextDeps) {\n  return deps.length === nextDeps.length && deps.every(function (dep, i) {\n    return dep === nextDeps[i];\n  });\n};\nvar invalidHooksError = function invalidHooksError() {\n  return new Error('Storybook preview hooks can only be called inside decorators and story functions.');\n};\nfunction getHooksContextOrNull() {\n  return globalWindow.STORYBOOK_HOOKS_CONTEXT || null;\n}\nfunction getHooksContextOrThrow() {\n  var hooks = getHooksContextOrNull();\n  if (hooks == null) {\n    throw invalidHooksError();\n  }\n  return hooks;\n}\nfunction useHook(name, callback, deps) {\n  var hooks = getHooksContextOrThrow();\n  if (hooks.currentPhase === 'MOUNT') {\n    if (deps != null && !Array.isArray(deps)) {\n      logger.warn(\"\".concat(name, \" received a final argument that is not an array (instead, received \").concat(deps, \"). When specified, the final argument must be an array.\"));\n    }\n    var _hook = {\n      name: name,\n      deps: deps\n    };\n    hooks.currentHooks.push(_hook);\n    callback(_hook);\n    return _hook;\n  }\n  if (hooks.currentPhase === 'UPDATE') {\n    var _hook2 = hooks.getNextHook();\n    if (_hook2 == null) {\n      throw new Error('Rendered more hooks than during the previous render.');\n    }\n    if (_hook2.name !== name) {\n      logger.warn(\"Storybook has detected a change in the order of Hooks\".concat(hooks.currentDecoratorName ? \" called by \".concat(hooks.currentDecoratorName) : '', \". This will lead to bugs and errors if not fixed.\"));\n    }\n    if (deps != null && _hook2.deps == null) {\n      logger.warn(\"\".concat(name, \" received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.\"));\n    }\n    if (deps != null && _hook2.deps != null && deps.length !== _hook2.deps.length) {\n      logger.warn(\"The final argument passed to \".concat(name, \" changed size between renders. The order and size of this array must remain constant.\\nPrevious: \").concat(_hook2.deps, \"\\nIncoming: \").concat(deps));\n    }\n    if (deps == null || _hook2.deps == null || !areDepsEqual(deps, _hook2.deps)) {\n      callback(_hook2);\n      _hook2.deps = deps;\n    }\n    return _hook2;\n  }\n  throw invalidHooksError();\n}\nfunction useMemoLike(name, nextCreate, deps) {\n  var _useHook = useHook(name, function (hook) {\n      // eslint-disable-next-line no-param-reassign\n      hook.memoizedState = nextCreate();\n    }, deps),\n    memoizedState = _useHook.memoizedState;\n  return memoizedState;\n}\n/* Returns a memoized value, see https://reactjs.org/docs/hooks-reference.html#usememo */\n\nexport function useMemo(nextCreate, deps) {\n  return useMemoLike('useMemo', nextCreate, deps);\n}\n/* Returns a memoized callback, see https://reactjs.org/docs/hooks-reference.html#usecallback */\n\nexport function useCallback(callback, deps) {\n  return useMemoLike('useCallback', function () {\n    return callback;\n  }, deps);\n}\nfunction useRefLike(name, initialValue) {\n  return useMemoLike(name, function () {\n    return {\n      current: initialValue\n    };\n  }, []);\n}\n/* Returns a mutable ref object, see https://reactjs.org/docs/hooks-reference.html#useref */\n\nexport function useRef(initialValue) {\n  return useRefLike('useRef', initialValue);\n}\nfunction triggerUpdate() {\n  var hooks = getHooksContextOrNull(); // Rerun storyFn if updates were triggered synchronously, force rerender otherwise\n\n  if (hooks != null && hooks.currentPhase !== 'NONE') {\n    hooks.hasUpdates = true;\n  } else {\n    try {\n      addons.getChannel().emit(FORCE_RE_RENDER);\n    } catch (e) {\n      logger.warn('State updates of Storybook preview hooks work only in browser');\n    }\n  }\n}\nfunction useStateLike(name, initialState) {\n  var stateRef = useRefLike(name,\n  // @ts-ignore S type should never be function, but there's no way to tell that to TypeScript\n  typeof initialState === 'function' ? initialState() : initialState);\n  var setState = function setState(update) {\n    // @ts-ignore S type should never be function, but there's no way to tell that to TypeScript\n    stateRef.current = typeof update === 'function' ? update(stateRef.current) : update;\n    triggerUpdate();\n  };\n  return [stateRef.current, setState];\n}\n/* Returns a stateful value, and a function to update it, see https://reactjs.org/docs/hooks-reference.html#usestate */\n\nexport function useState(initialState) {\n  return useStateLike('useState', initialState);\n}\n/* A redux-like alternative to useState, see https://reactjs.org/docs/hooks-reference.html#usereducer */\n\nexport function useReducer(reducer, initialArg, init) {\n  var initialState = init != null ? function () {\n    return init(initialArg);\n  } : initialArg;\n  var _useStateLike = useStateLike('useReducer', initialState),\n    _useStateLike2 = _slicedToArray(_useStateLike, 2),\n    state = _useStateLike2[0],\n    setState = _useStateLike2[1];\n  var dispatch = function dispatch(action) {\n    return setState(function (prevState) {\n      return reducer(prevState, action);\n    });\n  };\n  return [state, dispatch];\n}\n/*\n  Triggers a side effect, see https://reactjs.org/docs/hooks-reference.html#usestate\n  Effects are triggered synchronously after rendering the story\n*/\n\nexport function useEffect(create, deps) {\n  var hooks = getHooksContextOrThrow();\n  var effect = useMemoLike('useEffect', function () {\n    return {\n      create: create\n    };\n  }, deps);\n  if (!hooks.currentEffects.includes(effect)) {\n    hooks.currentEffects.push(effect);\n  }\n}\n\n/* Accepts a map of Storybook channel event listeners, returns an emit function */\nexport function useChannel(eventMap) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var channel = addons.getChannel();\n  useEffect(function () {\n    Object.entries(eventMap).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        type = _ref4[0],\n        listener = _ref4[1];\n      return channel.on(type, listener);\n    });\n    return function () {\n      Object.entries(eventMap).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n          type = _ref6[0],\n          listener = _ref6[1];\n        return channel.removeListener(type, listener);\n      });\n    };\n  }, [].concat(_toConsumableArray(Object.keys(eventMap)), _toConsumableArray(deps)));\n  return useCallback(channel.emit.bind(channel), [channel]);\n}\n/* Returns current story context */\n\nexport function useStoryContext() {\n  var _getHooksContextOrThr = getHooksContextOrThrow(),\n    currentContext = _getHooksContextOrThr.currentContext;\n  if (currentContext == null) {\n    throw invalidHooksError();\n  }\n  return currentContext;\n}\n/* Returns current value of a story parameter */\n\nexport function useParameter(parameterKey, defaultValue) {\n  var _useStoryContext = useStoryContext(),\n    parameters = _useStoryContext.parameters;\n  if (parameterKey) {\n    var _parameters$parameter;\n    return (_parameters$parameter = parameters[parameterKey]) !== null && _parameters$parameter !== void 0 ? _parameters$parameter : defaultValue;\n  }\n  return undefined;\n}\n/* Returns current value of story args */\n\nexport function useArgs() {\n  var channel = addons.getChannel();\n  var _useStoryContext2 = useStoryContext(),\n    storyId = _useStoryContext2.id,\n    args = _useStoryContext2.args;\n  var updateArgs = useCallback(function (updatedArgs) {\n    return channel.emit(UPDATE_STORY_ARGS, {\n      storyId: storyId,\n      updatedArgs: updatedArgs\n    });\n  }, [channel, storyId]);\n  var resetArgs = useCallback(function (argNames) {\n    return channel.emit(RESET_STORY_ARGS, {\n      storyId: storyId,\n      argNames: argNames\n    });\n  }, [channel, storyId]);\n  return [args, updateArgs, resetArgs];\n}\n/* Returns current value of global args */\n\nexport function useGlobals() {\n  var channel = addons.getChannel();\n  var _useStoryContext3 = useStoryContext(),\n    globals = _useStoryContext3.globals;\n  var updateGlobals = useCallback(function (newGlobals) {\n    return channel.emit(UPDATE_GLOBALS, {\n      globals: newGlobals\n    });\n  }, [channel]);\n  return [globals, updateGlobals];\n}","map":{"version":3,"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","from","test","iter","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","global","logger","FORCE_RE_RENDER","STORY_RENDERED","UPDATE_STORY_ARGS","RESET_STORY_ARGS","UPDATE_GLOBALS","addons","globalWindow","window","HooksContext","_this","hookListsMap","mountedDecorators","prevMountedDecorators","currentHooks","nextHookIndex","currentPhase","currentEffects","prevEffects","currentDecoratorName","hasUpdates","currentContext","renderListener","storyId","id","triggerEffects","removeRenderListeners","init","WeakMap","Set","clean","forEach","effect","destroy","getNextHook","hook","_this2","includes","create","addRenderListeners","channel","getChannel","on","removeListener","hookify","fn","_ref","arguments","undefined","hooks","prevPhase","prevHooks","prevNextHookIndex","prevDecoratorName","has","get","set","add","prevContext","STORYBOOK_HOOKS_CONTEXT","result","apply","Error","numberOfRenders","RENDER_LIMIT","applyHooks","applyDecorators","storyFn","decorators","decorated","map","decorator","context","_ref2","concat","areDepsEqual","deps","nextDeps","every","dep","invalidHooksError","getHooksContextOrNull","getHooksContextOrThrow","useHook","callback","warn","_hook","_hook2","useMemoLike","nextCreate","_useHook","memoizedState","useMemo","useCallback","useRefLike","initialValue","current","useRef","triggerUpdate","emit","e","useStateLike","initialState","stateRef","setState","update","useState","useReducer","reducer","initialArg","_useStateLike","_useStateLike2","state","dispatch","action","prevState","useEffect","useChannel","eventMap","entries","_ref3","_ref4","type","listener","_ref5","_ref6","keys","bind","useStoryContext","_getHooksContextOrThr","useParameter","parameterKey","defaultValue","_useStoryContext","parameters","_parameters$parameter","useArgs","_useStoryContext2","args","updateArgs","updatedArgs","resetArgs","argNames","useGlobals","_useStoryContext3","globals","updateGlobals","newGlobals"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addons/dist/esm/hooks.js"],"sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.weak-map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport global from 'global';\nimport { logger } from '@storybook/client-logger';\nimport { FORCE_RE_RENDER, STORY_RENDERED, UPDATE_STORY_ARGS, RESET_STORY_ARGS, UPDATE_GLOBALS } from '@storybook/core-events';\nimport { addons } from './index';\nvar globalWindow = global.window;\nexport var HooksContext = /*#__PURE__*/function () {\n  function HooksContext() {\n    var _this = this;\n\n    _classCallCheck(this, HooksContext);\n\n    this.hookListsMap = void 0;\n    this.mountedDecorators = void 0;\n    this.prevMountedDecorators = void 0;\n    this.currentHooks = void 0;\n    this.nextHookIndex = void 0;\n    this.currentPhase = void 0;\n    this.currentEffects = void 0;\n    this.prevEffects = void 0;\n    this.currentDecoratorName = void 0;\n    this.hasUpdates = void 0;\n    this.currentContext = void 0;\n\n    this.renderListener = function (storyId) {\n      if (storyId !== _this.currentContext.id) return;\n\n      _this.triggerEffects();\n\n      _this.currentContext = null;\n\n      _this.removeRenderListeners();\n    };\n\n    this.init();\n  }\n\n  _createClass(HooksContext, [{\n    key: \"init\",\n    value: function init() {\n      this.hookListsMap = new WeakMap();\n      this.mountedDecorators = new Set();\n      this.prevMountedDecorators = this.mountedDecorators;\n      this.currentHooks = [];\n      this.nextHookIndex = 0;\n      this.currentPhase = 'NONE';\n      this.currentEffects = [];\n      this.prevEffects = [];\n      this.currentDecoratorName = null;\n      this.hasUpdates = false;\n      this.currentContext = null;\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this.prevEffects.forEach(function (effect) {\n        if (effect.destroy) {\n          effect.destroy();\n        }\n      });\n      this.init();\n      this.removeRenderListeners();\n    }\n  }, {\n    key: \"getNextHook\",\n    value: function getNextHook() {\n      var hook = this.currentHooks[this.nextHookIndex];\n      this.nextHookIndex += 1;\n      return hook;\n    }\n  }, {\n    key: \"triggerEffects\",\n    value: function triggerEffects() {\n      var _this2 = this;\n\n      // destroy removed effects\n      this.prevEffects.forEach(function (effect) {\n        if (!_this2.currentEffects.includes(effect) && effect.destroy) {\n          effect.destroy();\n        }\n      }); // trigger added effects\n\n      this.currentEffects.forEach(function (effect) {\n        if (!_this2.prevEffects.includes(effect)) {\n          // eslint-disable-next-line no-param-reassign\n          effect.destroy = effect.create();\n        }\n      });\n      this.prevEffects = this.currentEffects;\n      this.currentEffects = [];\n    }\n  }, {\n    key: \"addRenderListeners\",\n    value: function addRenderListeners() {\n      this.removeRenderListeners();\n      var channel = addons.getChannel();\n      channel.on(STORY_RENDERED, this.renderListener);\n    }\n  }, {\n    key: \"removeRenderListeners\",\n    value: function removeRenderListeners() {\n      var channel = addons.getChannel();\n      channel.removeListener(STORY_RENDERED, this.renderListener);\n    }\n  }]);\n\n  return HooksContext;\n}();\n\nfunction hookify(fn) {\n  return function () {\n    var _ref = typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'function' ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 0 ? undefined : arguments[0],\n        hooks = _ref.hooks;\n\n    var prevPhase = hooks.currentPhase;\n    var prevHooks = hooks.currentHooks;\n    var prevNextHookIndex = hooks.nextHookIndex;\n    var prevDecoratorName = hooks.currentDecoratorName;\n    hooks.currentDecoratorName = fn.name;\n\n    if (hooks.prevMountedDecorators.has(fn)) {\n      hooks.currentPhase = 'UPDATE';\n      hooks.currentHooks = hooks.hookListsMap.get(fn) || [];\n    } else {\n      hooks.currentPhase = 'MOUNT';\n      hooks.currentHooks = [];\n      hooks.hookListsMap.set(fn, hooks.currentHooks);\n      hooks.prevMountedDecorators.add(fn);\n    }\n\n    hooks.nextHookIndex = 0;\n    var prevContext = globalWindow.STORYBOOK_HOOKS_CONTEXT;\n    globalWindow.STORYBOOK_HOOKS_CONTEXT = hooks;\n    var result = fn.apply(void 0, arguments);\n    globalWindow.STORYBOOK_HOOKS_CONTEXT = prevContext;\n\n    if (hooks.currentPhase === 'UPDATE' && hooks.getNextHook() != null) {\n      throw new Error('Rendered fewer hooks than expected. This may be caused by an accidental early return statement.');\n    }\n\n    hooks.currentPhase = prevPhase;\n    hooks.currentHooks = prevHooks;\n    hooks.nextHookIndex = prevNextHookIndex;\n    hooks.currentDecoratorName = prevDecoratorName;\n    return result;\n  };\n} // Counter to prevent infinite loops.\n\n\nvar numberOfRenders = 0;\nvar RENDER_LIMIT = 25;\nexport var applyHooks = function applyHooks(applyDecorators) {\n  return function (storyFn, decorators) {\n    var decorated = applyDecorators(hookify(storyFn), decorators.map(function (decorator) {\n      return hookify(decorator);\n    }));\n    return function (context) {\n      var _ref2 = context,\n          hooks = _ref2.hooks;\n      hooks.prevMountedDecorators = hooks.mountedDecorators;\n      hooks.mountedDecorators = new Set([storyFn].concat(_toConsumableArray(decorators)));\n      hooks.currentContext = context;\n      hooks.hasUpdates = false;\n      var result = decorated(context);\n      numberOfRenders = 1;\n\n      while (hooks.hasUpdates) {\n        hooks.hasUpdates = false;\n        hooks.currentEffects = [];\n        result = decorated(context);\n        numberOfRenders += 1;\n\n        if (numberOfRenders > RENDER_LIMIT) {\n          throw new Error('Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.');\n        }\n      }\n\n      hooks.addRenderListeners();\n      return result;\n    };\n  };\n};\n\nvar areDepsEqual = function areDepsEqual(deps, nextDeps) {\n  return deps.length === nextDeps.length && deps.every(function (dep, i) {\n    return dep === nextDeps[i];\n  });\n};\n\nvar invalidHooksError = function invalidHooksError() {\n  return new Error('Storybook preview hooks can only be called inside decorators and story functions.');\n};\n\nfunction getHooksContextOrNull() {\n  return globalWindow.STORYBOOK_HOOKS_CONTEXT || null;\n}\n\nfunction getHooksContextOrThrow() {\n  var hooks = getHooksContextOrNull();\n\n  if (hooks == null) {\n    throw invalidHooksError();\n  }\n\n  return hooks;\n}\n\nfunction useHook(name, callback, deps) {\n  var hooks = getHooksContextOrThrow();\n\n  if (hooks.currentPhase === 'MOUNT') {\n    if (deps != null && !Array.isArray(deps)) {\n      logger.warn(\"\".concat(name, \" received a final argument that is not an array (instead, received \").concat(deps, \"). When specified, the final argument must be an array.\"));\n    }\n\n    var _hook = {\n      name: name,\n      deps: deps\n    };\n    hooks.currentHooks.push(_hook);\n    callback(_hook);\n    return _hook;\n  }\n\n  if (hooks.currentPhase === 'UPDATE') {\n    var _hook2 = hooks.getNextHook();\n\n    if (_hook2 == null) {\n      throw new Error('Rendered more hooks than during the previous render.');\n    }\n\n    if (_hook2.name !== name) {\n      logger.warn(\"Storybook has detected a change in the order of Hooks\".concat(hooks.currentDecoratorName ? \" called by \".concat(hooks.currentDecoratorName) : '', \". This will lead to bugs and errors if not fixed.\"));\n    }\n\n    if (deps != null && _hook2.deps == null) {\n      logger.warn(\"\".concat(name, \" received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.\"));\n    }\n\n    if (deps != null && _hook2.deps != null && deps.length !== _hook2.deps.length) {\n      logger.warn(\"The final argument passed to \".concat(name, \" changed size between renders. The order and size of this array must remain constant.\\nPrevious: \").concat(_hook2.deps, \"\\nIncoming: \").concat(deps));\n    }\n\n    if (deps == null || _hook2.deps == null || !areDepsEqual(deps, _hook2.deps)) {\n      callback(_hook2);\n      _hook2.deps = deps;\n    }\n\n    return _hook2;\n  }\n\n  throw invalidHooksError();\n}\n\nfunction useMemoLike(name, nextCreate, deps) {\n  var _useHook = useHook(name, function (hook) {\n    // eslint-disable-next-line no-param-reassign\n    hook.memoizedState = nextCreate();\n  }, deps),\n      memoizedState = _useHook.memoizedState;\n\n  return memoizedState;\n}\n/* Returns a memoized value, see https://reactjs.org/docs/hooks-reference.html#usememo */\n\n\nexport function useMemo(nextCreate, deps) {\n  return useMemoLike('useMemo', nextCreate, deps);\n}\n/* Returns a memoized callback, see https://reactjs.org/docs/hooks-reference.html#usecallback */\n\nexport function useCallback(callback, deps) {\n  return useMemoLike('useCallback', function () {\n    return callback;\n  }, deps);\n}\n\nfunction useRefLike(name, initialValue) {\n  return useMemoLike(name, function () {\n    return {\n      current: initialValue\n    };\n  }, []);\n}\n/* Returns a mutable ref object, see https://reactjs.org/docs/hooks-reference.html#useref */\n\n\nexport function useRef(initialValue) {\n  return useRefLike('useRef', initialValue);\n}\n\nfunction triggerUpdate() {\n  var hooks = getHooksContextOrNull(); // Rerun storyFn if updates were triggered synchronously, force rerender otherwise\n\n  if (hooks != null && hooks.currentPhase !== 'NONE') {\n    hooks.hasUpdates = true;\n  } else {\n    try {\n      addons.getChannel().emit(FORCE_RE_RENDER);\n    } catch (e) {\n      logger.warn('State updates of Storybook preview hooks work only in browser');\n    }\n  }\n}\n\nfunction useStateLike(name, initialState) {\n  var stateRef = useRefLike(name, // @ts-ignore S type should never be function, but there's no way to tell that to TypeScript\n  typeof initialState === 'function' ? initialState() : initialState);\n\n  var setState = function setState(update) {\n    // @ts-ignore S type should never be function, but there's no way to tell that to TypeScript\n    stateRef.current = typeof update === 'function' ? update(stateRef.current) : update;\n    triggerUpdate();\n  };\n\n  return [stateRef.current, setState];\n}\n/* Returns a stateful value, and a function to update it, see https://reactjs.org/docs/hooks-reference.html#usestate */\n\n\nexport function useState(initialState) {\n  return useStateLike('useState', initialState);\n}\n/* A redux-like alternative to useState, see https://reactjs.org/docs/hooks-reference.html#usereducer */\n\nexport function useReducer(reducer, initialArg, init) {\n  var initialState = init != null ? function () {\n    return init(initialArg);\n  } : initialArg;\n\n  var _useStateLike = useStateLike('useReducer', initialState),\n      _useStateLike2 = _slicedToArray(_useStateLike, 2),\n      state = _useStateLike2[0],\n      setState = _useStateLike2[1];\n\n  var dispatch = function dispatch(action) {\n    return setState(function (prevState) {\n      return reducer(prevState, action);\n    });\n  };\n\n  return [state, dispatch];\n}\n/*\n  Triggers a side effect, see https://reactjs.org/docs/hooks-reference.html#usestate\n  Effects are triggered synchronously after rendering the story\n*/\n\nexport function useEffect(create, deps) {\n  var hooks = getHooksContextOrThrow();\n  var effect = useMemoLike('useEffect', function () {\n    return {\n      create: create\n    };\n  }, deps);\n\n  if (!hooks.currentEffects.includes(effect)) {\n    hooks.currentEffects.push(effect);\n  }\n}\n\n/* Accepts a map of Storybook channel event listeners, returns an emit function */\nexport function useChannel(eventMap) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var channel = addons.getChannel();\n  useEffect(function () {\n    Object.entries(eventMap).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          type = _ref4[0],\n          listener = _ref4[1];\n\n      return channel.on(type, listener);\n    });\n    return function () {\n      Object.entries(eventMap).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            type = _ref6[0],\n            listener = _ref6[1];\n\n        return channel.removeListener(type, listener);\n      });\n    };\n  }, [].concat(_toConsumableArray(Object.keys(eventMap)), _toConsumableArray(deps)));\n  return useCallback(channel.emit.bind(channel), [channel]);\n}\n/* Returns current story context */\n\nexport function useStoryContext() {\n  var _getHooksContextOrThr = getHooksContextOrThrow(),\n      currentContext = _getHooksContextOrThr.currentContext;\n\n  if (currentContext == null) {\n    throw invalidHooksError();\n  }\n\n  return currentContext;\n}\n/* Returns current value of a story parameter */\n\nexport function useParameter(parameterKey, defaultValue) {\n  var _useStoryContext = useStoryContext(),\n      parameters = _useStoryContext.parameters;\n\n  if (parameterKey) {\n    var _parameters$parameter;\n\n    return (_parameters$parameter = parameters[parameterKey]) !== null && _parameters$parameter !== void 0 ? _parameters$parameter : defaultValue;\n  }\n\n  return undefined;\n}\n/* Returns current value of story args */\n\nexport function useArgs() {\n  var channel = addons.getChannel();\n\n  var _useStoryContext2 = useStoryContext(),\n      storyId = _useStoryContext2.id,\n      args = _useStoryContext2.args;\n\n  var updateArgs = useCallback(function (updatedArgs) {\n    return channel.emit(UPDATE_STORY_ARGS, {\n      storyId: storyId,\n      updatedArgs: updatedArgs\n    });\n  }, [channel, storyId]);\n  var resetArgs = useCallback(function (argNames) {\n    return channel.emit(RESET_STORY_ARGS, {\n      storyId: storyId,\n      argNames: argNames\n    });\n  }, [channel, storyId]);\n  return [args, updateArgs, resetArgs];\n}\n/* Returns current value of global args */\n\nexport function useGlobals() {\n  var channel = addons.getChannel();\n\n  var _useStoryContext3 = useStoryContext(),\n      globals = _useStoryContext3.globals;\n\n  var updateGlobals = useCallback(function (newGlobals) {\n    return channel.emit(UPDATE_GLOBALS, {\n      globals: newGlobals\n    });\n  }, [channel]);\n  return [globals, updateGlobals];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}