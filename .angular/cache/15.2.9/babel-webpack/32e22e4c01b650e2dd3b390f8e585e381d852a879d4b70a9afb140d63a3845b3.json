{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decorateStory = void 0;\nconst store_1 = require(\"@storybook/store\");\nconst ComputesTemplateFromComponent_1 = require(\"./angular-beta/ComputesTemplateFromComponent\");\nfunction decorateStory(mainStoryFn, decorators) {\n  const returnDecorators = [cleanArgsDecorator, ...decorators].reduce((previousStoryFn, decorator) => context => {\n    const decoratedStory = decorator(update => {\n      return previousStoryFn(Object.assign(Object.assign({}, context), store_1.sanitizeStoryContextUpdate(update)));\n    }, context);\n    return decoratedStory;\n  }, context => prepareMain(mainStoryFn(context), context));\n  return returnDecorators;\n}\nexports.default = decorateStory;\nexports.decorateStory = decorateStory;\nconst prepareMain = (story, context) => {\n  var _a;\n  let {\n    template\n  } = story;\n  const component = (_a = story.component) !== null && _a !== void 0 ? _a : context.component;\n  const userDefinedTemplate = !hasNoTemplate(template);\n  if (!userDefinedTemplate && component) {\n    template = ComputesTemplateFromComponent_1.computesTemplateFromComponent(component, story.props, '');\n  }\n  return Object.assign(Object.assign({}, story), template ? {\n    template,\n    userDefinedTemplate\n  } : {});\n};\nfunction hasNoTemplate(template) {\n  return template === null || template === undefined;\n}\nconst cleanArgsDecorator = (storyFn, context) => {\n  if (!context.argTypes || !context.args) {\n    return storyFn();\n  }\n  const argsToClean = context.args;\n  context.args = Object.entries(argsToClean).reduce((obj, [key, arg]) => {\n    const argType = context.argTypes[key];\n    // Only keeps args with a control or an action in argTypes\n    if (argType.action || argType.control) {\n      return Object.assign(Object.assign({}, obj), {\n        [key]: arg\n      });\n    }\n    return obj;\n  }, {});\n  return storyFn();\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","decorateStory","store_1","require","ComputesTemplateFromComponent_1","mainStoryFn","decorators","returnDecorators","cleanArgsDecorator","reduce","previousStoryFn","decorator","context","decoratedStory","update","assign","sanitizeStoryContextUpdate","prepareMain","default","story","_a","template","component","userDefinedTemplate","hasNoTemplate","computesTemplateFromComponent","props","undefined","storyFn","argTypes","args","argsToClean","entries","obj","key","arg","argType","action","control"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/angular/dist/ts3.9/client/preview/decorateStory.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decorateStory = void 0;\nconst store_1 = require(\"@storybook/store\");\nconst ComputesTemplateFromComponent_1 = require(\"./angular-beta/ComputesTemplateFromComponent\");\nfunction decorateStory(mainStoryFn, decorators) {\n    const returnDecorators = [cleanArgsDecorator, ...decorators].reduce((previousStoryFn, decorator) => (context) => {\n        const decoratedStory = decorator((update) => {\n            return previousStoryFn(Object.assign(Object.assign({}, context), store_1.sanitizeStoryContextUpdate(update)));\n        }, context);\n        return decoratedStory;\n    }, (context) => prepareMain(mainStoryFn(context), context));\n    return returnDecorators;\n}\nexports.default = decorateStory;\nexports.decorateStory = decorateStory;\nconst prepareMain = (story, context) => {\n    var _a;\n    let { template } = story;\n    const component = (_a = story.component) !== null && _a !== void 0 ? _a : context.component;\n    const userDefinedTemplate = !hasNoTemplate(template);\n    if (!userDefinedTemplate && component) {\n        template = ComputesTemplateFromComponent_1.computesTemplateFromComponent(component, story.props, '');\n    }\n    return Object.assign(Object.assign({}, story), (template ? { template, userDefinedTemplate } : {}));\n};\nfunction hasNoTemplate(template) {\n    return template === null || template === undefined;\n}\nconst cleanArgsDecorator = (storyFn, context) => {\n    if (!context.argTypes || !context.args) {\n        return storyFn();\n    }\n    const argsToClean = context.args;\n    context.args = Object.entries(argsToClean).reduce((obj, [key, arg]) => {\n        const argType = context.argTypes[key];\n        // Only keeps args with a control or an action in argTypes\n        if (argType.action || argType.control) {\n            return Object.assign(Object.assign({}, obj), { [key]: arg });\n        }\n        return obj;\n    }, {});\n    return storyFn();\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}