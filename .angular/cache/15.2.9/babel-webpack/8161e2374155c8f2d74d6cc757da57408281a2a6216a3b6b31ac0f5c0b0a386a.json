{"ast":null,"code":"/*!\n * https://github.com/paulmillr/es6-shim\n * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n *   and contributors,  MIT License\n * es6-shim: v0.35.4\n * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE\n * Details and documentation:\n * https://github.com/paulmillr/es6-shim/\n */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var _apply = Function.call.bind(Function.apply);\n  var _call = Function.call.bind(Function.call);\n  var isArray = Array.isArray;\n  var keys = Object.keys;\n  var not = function notThunker(func) {\n    return function notThunk() {\n      return !_apply(func, this, arguments);\n    };\n  };\n  var throwsError = function (func) {\n    try {\n      func();\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  var valueOrFalseIfThrows = function valueOrFalseIfThrows(func) {\n    try {\n      return func();\n    } catch (e) {\n      return false;\n    }\n  };\n  var isCallableWithoutNew = not(throwsError);\n  var arePropertyDescriptorsSupported = function () {\n    // if Object.defineProperty exists but throws, it's IE 8\n    return !throwsError(function () {\n      return Object.defineProperty({}, 'x', {\n        get: function () {}\n      }); // eslint-disable-line getter-return\n    });\n  };\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var functionsHaveNames = function foo() {}.name === 'foo';\n  var _forEach = Function.call.bind(Array.prototype.forEach);\n  var _reduce = Function.call.bind(Array.prototype.reduce);\n  var _filter = Function.call.bind(Array.prototype.filter);\n  var _some = Function.call.bind(Array.prototype.some);\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) {\n      return;\n    }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they donâ€™t exist.\n  var defineProperties = function (object, map, forceOverride) {\n    _forEach(keys(map), function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, !!forceOverride);\n    });\n  };\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var isCallable = typeof /abc/ === 'function' ? function IsCallableSlow(x) {\n    // Some old browsers (IE, FF) say that typeof /abc/ === 'function'\n    return typeof x === 'function' && _toString(x) === '[object Function]';\n  } : function IsCallableFast(x) {\n    return typeof x === 'function';\n  };\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() {\n          return originalObject[key];\n        },\n        set: function setKey(value) {\n          originalObject[key] = value;\n        }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    },\n    defineByDescriptor: function (object, property, descriptor) {\n      if (supportsDescriptors) {\n        Object.defineProperty(object, property, descriptor);\n      } else if ('value' in descriptor) {\n        object[property] = descriptor.value;\n      }\n    },\n    preserveToString: function (target, source) {\n      if (source && isCallable(source.toString)) {\n        defineProperty(target, 'toString', source.toString.bind(source), true);\n      }\n    }\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    var Prototype = function Prototype() {};\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      keys(properties).forEach(function (key) {\n        Value.defineByDescriptor(object, key, properties[key]);\n      });\n    }\n    return object;\n  };\n  var supportsSubclassing = function (C, f) {\n    if (!Object.setPrototypeOf) {\n      return false; /* skip test on IE < 11 */\n    }\n    return valueOrFalseIfThrows(function () {\n      var Sub = function Subclass(arg) {\n        var o = new C(arg);\n        Object.setPrototypeOf(o, Subclass.prototype);\n        return o;\n      };\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = create(C.prototype, {\n        constructor: {\n          value: Sub\n        }\n      });\n      return f(Sub);\n    });\n  };\n  var getGlobal = function () {\n    /* global self, window */\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n      return self;\n    }\n    if (typeof window !== 'undefined') {\n      return window;\n    }\n    if (typeof global !== 'undefined') {\n      return global;\n    }\n    throw new Error('unable to locate global object');\n  };\n  var globals = getGlobal();\n  var globalIsFinite = globals.isFinite;\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _arrayIndexOfApply = Function.apply.bind(Array.prototype.indexOf);\n  var _concat = Function.call.bind(Array.prototype.concat);\n  // var _sort = Function.call.bind(Array.prototype.sort);\n  var _strSlice = Function.call.bind(String.prototype.slice);\n  var _push = Function.call.bind(Array.prototype.push);\n  var _pushApply = Function.apply.bind(Array.prototype.push);\n  var _join = Function.call.bind(Array.prototype.join);\n  var _shift = Function.call.bind(Array.prototype.shift);\n  var _max = Math.max;\n  var _min = Math.min;\n  var _floor = Math.floor;\n  var _abs = Math.abs;\n  var _exp = Math.exp;\n  var _log = Math.log;\n  var _sqrt = Math.sqrt;\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n  var OrigMap = globals.Map;\n  var origMapDelete = OrigMap && OrigMap.prototype['delete'];\n  var origMapGet = OrigMap && OrigMap.prototype.get;\n  var origMapHas = OrigMap && OrigMap.prototype.has;\n  var origMapSet = OrigMap && OrigMap.prototype.set;\n  var Symbol = globals.Symbol || {};\n  var symbolSpecies = Symbol.species || '@@species';\n  var numberIsNaN = Number.isNaN || function isNaN(value) {\n    // NaN !== NaN, but they are identical.\n    // NaNs are the only non-reflexive value, i.e., if x !== x,\n    // then x is NaN.\n    // isNaN is broken: it converts its argument to number, so\n    // isNaN('foo') => true\n    return value !== value;\n  };\n  var numberIsFinite = Number.isFinite || function isFinite(value) {\n    return typeof value === 'number' && globalIsFinite(value);\n  };\n  var _sign = isCallable(Math.sign) ? Math.sign : function sign(value) {\n    var number = Number(value);\n    if (number === 0) {\n      return number;\n    }\n    if (numberIsNaN(number)) {\n      return number;\n    }\n    return number < 0 ? -1 : 1;\n  };\n  var _log1p = function log1p(value) {\n    var x = Number(value);\n    if (x < -1 || numberIsNaN(x)) {\n      return NaN;\n    }\n    if (x === 0 || x === Infinity) {\n      return x;\n    }\n    if (x === -1) {\n      return -Infinity;\n    }\n    return 1 + x - 1 === 0 ? x : x * (_log(1 + x) / (1 + x - 1));\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isStandardArguments = function isArguments(value) {\n    return _toString(value) === '[object Arguments]';\n  };\n  var isLegacyArguments = function isArguments(value) {\n    return value !== null && typeof value === 'object' && typeof value.length === 'number' && value.length >= 0 && _toString(value) !== '[object Array]' && _toString(value.callee) === '[object Function]';\n  };\n  var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n  var Type = {\n    primitive: function (x) {\n      return x === null || typeof x !== 'function' && typeof x !== 'object';\n    },\n    string: function (x) {\n      return _toString(x) === '[object String]';\n    },\n    regex: function (x) {\n      return _toString(x) === '[object RegExp]';\n    },\n    symbol: function (x) {\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n    }\n  };\n  var overrideNative = function overrideNative(object, property, replacement) {\n    var original = object[property];\n    defineProperty(object, property, replacement, true);\n    Value.preserveToString(object[property], original);\n  };\n\n  // eslint-disable-next-line no-restricted-properties\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' && Type.symbol(Symbol());\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n\n  // Reflect\n  if (!globals.Reflect) {\n    defineProperty(globals, 'Reflect', {}, true);\n  }\n  var Reflect = globals.Reflect;\n  var $String = String;\n\n  /* global document */\n  var domAll = typeof document === 'undefined' || !document ? null : document.all;\n  var isNullOrUndefined = domAll == null ? function isNullOrUndefined(x) {\n    return x == null;\n  } : function isNullOrUndefinedAndNotDocumentAll(x) {\n    return x == null && x !== domAll;\n  };\n  var ES = {\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-call\n    Call: function Call(F, V) {\n      var args = arguments.length > 2 ? arguments[2] : [];\n      if (!ES.IsCallable(F)) {\n        throw new TypeError(F + ' is not a function');\n      }\n      return _apply(F, V, args);\n    },\n    RequireObjectCoercible: function (x, optMessage) {\n      if (isNullOrUndefined(x)) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n    // This might miss the \"(non-standard exotic and does not implement\n    // [[Call]])\" case from\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-typeof-operator-runtime-semantics-evaluation\n    // but we can't find any evidence these objects exist in practice.\n    // If we find some in the future, you could test `Object(x) === x`,\n    // which is reliable according to\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toobject\n    // but is not well optimized by runtimes and creates an object\n    // whenever it returns false, and thus is very slow.\n    TypeIsObject: function (x) {\n      if (x === void 0 || x === null || x === true || x === false) {\n        return false;\n      }\n      return typeof x === 'function' || typeof x === 'object' || x === domAll;\n    },\n    ToObject: function (o, optMessage) {\n      return Object(ES.RequireObjectCoercible(o, optMessage));\n    },\n    IsCallable: isCallable,\n    IsConstructor: function (x) {\n      // We can't tell callables from constructors in ES5\n      return ES.IsCallable(x);\n    },\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n    ToNumber: function (value) {\n      if (hasSymbols && _toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (numberIsNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !numberIsFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * _floor(_abs(number));\n    },\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) {\n        return 0;\n      } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) {\n        return Number.MAX_SAFE_INTEGER;\n      }\n      return len;\n    },\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) {\n          return 1 / a === 1 / b;\n        }\n        return true;\n      }\n      return numberIsNaN(a) && numberIsNaN(b);\n    },\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return a === b || numberIsNaN(a) && numberIsNaN(b);\n    },\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = ES.GetMethod(o, $iterator$);\n      if (!ES.IsCallable(itFn)) {\n        // Better diagnostics if itFn is null or undefined\n        throw new TypeError('value is not an iterable');\n      }\n      var it = ES.Call(itFn, o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n    GetMethod: function (o, p) {\n      var func = ES.ToObject(o)[p];\n      if (isNullOrUndefined(func)) {\n        return void 0;\n      }\n      if (!ES.IsCallable(func)) {\n        throw new TypeError('Method not callable: ' + p);\n      }\n      return func;\n    },\n    IteratorComplete: function (iterResult) {\n      return !!iterResult.done;\n    },\n    IteratorClose: function (iterator, completionIsThrow) {\n      var returnMethod = ES.GetMethod(iterator, 'return');\n      if (returnMethod === void 0) {\n        return;\n      }\n      var innerResult, innerException;\n      try {\n        innerResult = ES.Call(returnMethod, iterator);\n      } catch (e) {\n        innerException = e;\n      }\n      if (completionIsThrow) {\n        return;\n      }\n      if (innerException) {\n        throw innerException;\n      }\n      if (!ES.TypeIsObject(innerResult)) {\n        throw new TypeError(\"Iterator's return method returned a non-object.\");\n      }\n    },\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n    IteratorStep: function (it) {\n      var result = ES.IteratorNext(it);\n      var done = ES.IteratorComplete(result);\n      return done ? false : result;\n    },\n    Construct: function (C, args, newTarget, isES6internal) {\n      var target = typeof newTarget === 'undefined' ? C : newTarget;\n      if (!isES6internal && Reflect.construct) {\n        // Try to use Reflect.construct if available\n        return Reflect.construct(C, args, target);\n      }\n      // OK, we have to fake it.  This will only work if the\n      // C.[[ConstructorKind]] == \"base\" -- but that's the only\n      // kind we can make in ES5 code anyway.\n\n      // OrdinaryCreateFromConstructor(target, \"%ObjectPrototype%\")\n      var proto = target.prototype;\n      if (!ES.TypeIsObject(proto)) {\n        proto = Object.prototype;\n      }\n      var obj = create(proto);\n      // Call the constructor.\n      var result = ES.Call(C, obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    },\n    SpeciesConstructor: function (O, defaultConstructor) {\n      var C = O.constructor;\n      if (C === void 0) {\n        return defaultConstructor;\n      }\n      if (!ES.TypeIsObject(C)) {\n        throw new TypeError('Bad constructor');\n      }\n      var S = C[symbolSpecies];\n      if (isNullOrUndefined(S)) {\n        return defaultConstructor;\n      }\n      if (!ES.IsConstructor(S)) {\n        throw new TypeError('Bad @@species');\n      }\n      return S;\n    },\n    CreateHTML: function (string, tag, attribute, value) {\n      var S = ES.ToString(string);\n      var p1 = '<' + tag;\n      if (attribute !== '') {\n        var V = ES.ToString(value);\n        var escapedV = V.replace(/\"/g, '&quot;');\n        p1 += ' ' + attribute + '=\"' + escapedV + '\"';\n      }\n      var p2 = p1 + '>';\n      var p3 = p2 + S;\n      return p3 + '</' + tag + '>';\n    },\n    IsRegExp: function IsRegExp(argument) {\n      if (!ES.TypeIsObject(argument)) {\n        return false;\n      }\n      var isRegExp = argument[Symbol.match];\n      if (typeof isRegExp !== 'undefined') {\n        return !!isRegExp;\n      }\n      return Type.regex(argument);\n    },\n    ToString: function ToString(string) {\n      if (hasSymbols && _toString(string) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return $String(string);\n    }\n  };\n\n  // Well-known Symbol shims\n  if (supportsDescriptors && hasSymbols) {\n    var defineWellKnownSymbol = function defineWellKnownSymbol(name) {\n      if (Type.symbol(Symbol[name])) {\n        return Symbol[name];\n      }\n      // eslint-disable-next-line no-restricted-properties\n      var sym = Symbol['for']('Symbol.' + name);\n      Object.defineProperty(Symbol, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: sym\n      });\n      return sym;\n    };\n    if (!Type.symbol(Symbol.search)) {\n      var symbolSearch = defineWellKnownSymbol('search');\n      var originalSearch = String.prototype.search;\n      defineProperty(RegExp.prototype, symbolSearch, function search(string) {\n        return ES.Call(originalSearch, string, [this]);\n      });\n      var searchShim = function search(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var searcher = ES.GetMethod(regexp, symbolSearch);\n          if (typeof searcher !== 'undefined') {\n            return ES.Call(searcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalSearch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'search', searchShim);\n    }\n    if (!Type.symbol(Symbol.replace)) {\n      var symbolReplace = defineWellKnownSymbol('replace');\n      var originalReplace = String.prototype.replace;\n      defineProperty(RegExp.prototype, symbolReplace, function replace(string, replaceValue) {\n        return ES.Call(originalReplace, string, [this, replaceValue]);\n      });\n      var replaceShim = function replace(searchValue, replaceValue) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(searchValue)) {\n          var replacer = ES.GetMethod(searchValue, symbolReplace);\n          if (typeof replacer !== 'undefined') {\n            return ES.Call(replacer, searchValue, [O, replaceValue]);\n          }\n        }\n        return ES.Call(originalReplace, O, [ES.ToString(searchValue), replaceValue]);\n      };\n      overrideNative(String.prototype, 'replace', replaceShim);\n    }\n    if (!Type.symbol(Symbol.split)) {\n      var symbolSplit = defineWellKnownSymbol('split');\n      var originalSplit = String.prototype.split;\n      defineProperty(RegExp.prototype, symbolSplit, function split(string, limit) {\n        return ES.Call(originalSplit, string, [this, limit]);\n      });\n      var splitShim = function split(separator, limit) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(separator)) {\n          var splitter = ES.GetMethod(separator, symbolSplit);\n          if (typeof splitter !== 'undefined') {\n            return ES.Call(splitter, separator, [O, limit]);\n          }\n        }\n        return ES.Call(originalSplit, O, [ES.ToString(separator), limit]);\n      };\n      overrideNative(String.prototype, 'split', splitShim);\n    }\n    var symbolMatchExists = Type.symbol(Symbol.match);\n    var stringMatchIgnoresSymbolMatch = symbolMatchExists && function () {\n      // Firefox 41, through Nightly 45 has Symbol.match, but String#match ignores it.\n      // Firefox 40 and below have Symbol.match but String#match works fine.\n      var o = {};\n      o[Symbol.match] = function () {\n        return 42;\n      };\n      return 'a'.match(o) !== 42;\n    }();\n    if (!symbolMatchExists || stringMatchIgnoresSymbolMatch) {\n      var symbolMatch = defineWellKnownSymbol('match');\n      var originalMatch = String.prototype.match;\n      defineProperty(RegExp.prototype, symbolMatch, function match(string) {\n        return ES.Call(originalMatch, string, [this]);\n      });\n      var matchShim = function match(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var matcher = ES.GetMethod(regexp, symbolMatch);\n          if (typeof matcher !== 'undefined') {\n            return ES.Call(matcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalMatch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'match', matchShim);\n    }\n  }\n  var wrapConstructor = function wrapConstructor(original, replacement, keysToSkip) {\n    Value.preserveToString(replacement, original);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(original, replacement);\n    }\n    if (supportsDescriptors) {\n      _forEach(Object.getOwnPropertyNames(original), function (key) {\n        if (key in noop || keysToSkip[key]) {\n          return;\n        }\n        Value.proxy(original, key, replacement);\n      });\n    } else {\n      _forEach(Object.keys(original), function (key) {\n        if (key in noop || keysToSkip[key]) {\n          return;\n        }\n        replacement[key] = original[key];\n      });\n    }\n    replacement.prototype = original.prototype;\n    Value.redefine(original.prototype, 'constructor', replacement);\n  };\n  var defaultSpeciesGetter = function () {\n    return this;\n  };\n  var addDefaultSpecies = function (C) {\n    if (supportsDescriptors && !_hasOwnProperty(C, symbolSpecies)) {\n      Value.getter(C, symbolSpecies, defaultSpeciesGetter);\n    }\n  };\n  var addIterator = function (prototype, impl) {\n    var implementation = impl || function iterator() {\n      return this;\n    };\n    defineProperty(prototype, $iterator$, implementation);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = implementation;\n    }\n  };\n  var createDataProperty = function createDataProperty(object, name, value) {\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  var createDataPropertyOrThrow = function createDataPropertyOrThrow(object, name, value) {\n    createDataProperty(object, name, value);\n    if (!ES.SameValue(object[name], value)) {\n      throw new TypeError('property is nonconfigurable');\n    }\n  };\n  var emulateES6construct = function (o, defaultNewTarget, defaultProto, slots) {\n    // This is an es5 approximation to es6 construct semantics.  in es6,\n    // 'new Foo' invokes Foo.[[Construct]] which (for almost all objects)\n    // just sets the internal variable NewTarget (in es6 syntax `new.target`)\n    // to Foo and then returns Foo().\n\n    // Many ES6 object then have constructors of the form:\n    // 1. If NewTarget is undefined, throw a TypeError exception\n    // 2. Let xxx by OrdinaryCreateFromConstructor(NewTarget, yyy, zzz)\n\n    // So we're going to emulate those first two steps.\n    if (!ES.TypeIsObject(o)) {\n      throw new TypeError('Constructor requires `new`: ' + defaultNewTarget.name);\n    }\n    var proto = defaultNewTarget.prototype;\n    if (!ES.TypeIsObject(proto)) {\n      proto = defaultProto;\n    }\n    var obj = create(proto);\n    for (var name in slots) {\n      if (_hasOwnProperty(slots, name)) {\n        var value = slots[name];\n        defineProperty(obj, name, value, true);\n      }\n    }\n    return obj;\n  };\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint && String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = String.fromCodePoint;\n    overrideNative(String, 'fromCodePoint', function fromCodePoint(codePoints) {\n      return ES.Call(originalFromCodePoint, this, arguments);\n    });\n  }\n  var StringShims = {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n        if (next < 0x10000) {\n          _push(result, String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          _push(result, String.fromCharCode((next >> 10) + 0xD800));\n          _push(result, String.fromCharCode(next % 0x400 + 0xDC00));\n        }\n      }\n      return _join(result, '');\n    },\n    raw: function raw(template) {\n      var numberOfSubstitutions = arguments.length - 1;\n      var cooked = ES.ToObject(template, 'bad template');\n      var raw = ES.ToObject(cooked.raw, 'bad raw value');\n      var len = raw.length;\n      var literalSegments = ES.ToLength(len);\n      if (literalSegments <= 0) {\n        return '';\n      }\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalSegments) {\n        nextKey = ES.ToString(nextIndex);\n        nextSeg = ES.ToString(raw[nextKey]);\n        _push(stringElements, nextSeg);\n        if (nextIndex + 1 >= literalSegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = ES.ToString(next);\n        _push(stringElements, nextSub);\n        nextIndex += 1;\n      }\n      return _join(stringElements, '');\n    }\n  };\n  if (String.raw && String.raw({\n    raw: {\n      0: 'x',\n      1: 'y',\n      length: 2\n    }\n  }) !== 'xy') {\n    // IE 11 TP has a broken String.raw implementation\n    overrideNative(String, 'raw', StringShims.raw);\n  }\n  defineProperties(String, StringShims);\n\n  // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n  // Perf: http://jsperf.com/string-repeat2/2\n  var stringRepeat = function repeat(s, times) {\n    if (times < 1) {\n      return '';\n    }\n    if (times % 2) {\n      return repeat(s, times - 1) + s;\n    }\n    var half = repeat(s, times / 2);\n    return half + half;\n  };\n  var stringMaxLength = Infinity;\n  var StringPrototypeShims = {\n    repeat: function repeat(times) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var numTimes = ES.ToInteger(times);\n      if (numTimes < 0 || numTimes >= stringMaxLength) {\n        throw new RangeError('repeat count must be less than infinity and not overflow maximum string size');\n      }\n      return stringRepeat(thisStr, numTimes);\n    },\n    startsWith: function startsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      var start = _max(ES.ToInteger(position), 0);\n      return _strSlice(S, start, start + searchStr.length) === searchStr;\n    },\n    endsWith: function endsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var len = S.length;\n      var endPosition;\n      if (arguments.length > 1) {\n        endPosition = arguments[1];\n      }\n      var pos = typeof endPosition === 'undefined' ? len : ES.ToInteger(endPosition);\n      var end = _min(_max(pos, 0), len);\n      return _strSlice(S, end - searchStr.length, end) === searchStr;\n    },\n    includes: function includes(searchString) {\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('\"includes\" does not accept a RegExp');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchStr, position) !== -1;\n    },\n    codePointAt: function codePointAt(pos) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = position + 1 === length;\n        if (first < 0xD800 || first > 0xDBFF || isEnd) {\n          return first;\n        }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) {\n          return first;\n        }\n        return (first - 0xD800) * 1024 + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  if (String.prototype.includes && 'a'.includes('a', Infinity) !== false) {\n    overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n  }\n  if (String.prototype.startsWith && String.prototype.endsWith) {\n    var startsWithRejectsRegex = throwsError(function () {\n      /* throws if spec-compliant */\n      return '/a/'.startsWith(/a/);\n    });\n    var startsWithHandlesInfinity = valueOrFalseIfThrows(function () {\n      return 'abc'.startsWith('a', Infinity) === false;\n    });\n    if (!startsWithRejectsRegex || !startsWithHandlesInfinity) {\n      // Firefox (< 37?) and IE 11 TP have a noncompliant startsWith implementation\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n  }\n  if (hasSymbols) {\n    var startsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.startsWith(re);\n    });\n    if (!startsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n    }\n    var endsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.endsWith(re);\n    });\n    if (!endsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n    var includesSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.includes(re);\n    });\n    if (!includesSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n    }\n  }\n  defineProperties(String.prototype, StringPrototypeShims);\n\n  // whitespace from: http://es5.github.io/#x15.5.4.20\n  // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n  var ws = ['\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003', '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028', '\\u2029\\uFEFF'].join('');\n  var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n  var trimShim = function trim() {\n    return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp, '');\n  };\n  var nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\n  var nonWSregex = new RegExp('[' + nonWS + ']', 'g');\n  var isBadHexRegex = /^[-+]0x[0-9a-f]+$/i;\n  var hasStringTrimBug = nonWS.trim().length !== nonWS.length;\n  defineProperty(String.prototype, 'trim', trimShim, hasStringTrimBug);\n\n  // Given an argument x, it will return an IteratorResult object,\n  // with value set to x and done to false.\n  // Given no arguments, it will return an iterator completion object.\n  var iteratorResult = function (x) {\n    return {\n      value: x,\n      done: arguments.length === 0\n    };\n  };\n\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    ES.RequireObjectCoercible(s);\n    defineProperty(this, '_s', ES.ToString(s));\n    defineProperty(this, '_i', 0);\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s;\n    var i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return iteratorResult();\n    }\n    var first = s.charCodeAt(i);\n    var second, len;\n    if (first < 0xD800 || first > 0xDBFF || i + 1 === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = second < 0xDC00 || second > 0xDFFF ? 1 : 2;\n    }\n    this._i = i + len;\n    return iteratorResult(s.substr(i, len));\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n  var ArrayShims = {\n    from: function from(items) {\n      var C = this;\n      var mapFn;\n      if (arguments.length > 1) {\n        mapFn = arguments[1];\n      }\n      var mapping, T;\n      if (typeof mapFn === 'undefined') {\n        mapping = false;\n      } else {\n        if (!ES.IsCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n        mapping = true;\n      }\n\n      // Note that that Arrays will use ArrayIterator:\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      var usingIterator = typeof (isArguments(items) || ES.GetMethod(items, $iterator$)) !== 'undefined';\n      var length, result, i;\n      if (usingIterator) {\n        result = ES.IsConstructor(C) ? Object(new C()) : [];\n        var iterator = ES.GetIterator(items);\n        var next, nextValue;\n        i = 0;\n        while (true) {\n          next = ES.IteratorStep(iterator);\n          if (next === false) {\n            break;\n          }\n          nextValue = next.value;\n          try {\n            if (mapping) {\n              nextValue = typeof T === 'undefined' ? mapFn(nextValue, i) : _call(mapFn, T, nextValue, i);\n            }\n            result[i] = nextValue;\n          } catch (e) {\n            ES.IteratorClose(iterator, true);\n            throw e;\n          }\n          i += 1;\n        }\n        length = i;\n      } else {\n        var arrayLike = ES.ToObject(items);\n        length = ES.ToLength(arrayLike.length);\n        result = ES.IsConstructor(C) ? Object(new C(length)) : new Array(length);\n        var value;\n        for (i = 0; i < length; ++i) {\n          value = arrayLike[i];\n          if (mapping) {\n            value = typeof T === 'undefined' ? mapFn(value, i) : _call(mapFn, T, value, i);\n          }\n          createDataPropertyOrThrow(result, i, value);\n        }\n      }\n      result.length = length;\n      return result;\n    },\n    of: function of() {\n      var len = arguments.length;\n      var C = this;\n      var A = isArray(C) || !ES.IsCallable(C) ? new Array(len) : ES.Construct(C, [len]);\n      for (var k = 0; k < len; ++k) {\n        createDataPropertyOrThrow(A, k, arguments[k]);\n      }\n      A.length = len;\n      return A;\n    }\n  };\n  defineProperties(Array, ArrayShims);\n  addDefaultSpecies(Array);\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n    defineProperty(this, 'i', 0);\n    defineProperty(this, 'array', array);\n    defineProperty(this, 'kind', kind);\n  };\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i;\n      var array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        if (i < len) {\n          //for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return iteratorResult(retval);\n        }\n      }\n      this.array = void 0;\n      return iteratorResult();\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n  /*\n  var orderKeys = function orderKeys(a, b) {\n    var aNumeric = String(ES.ToInteger(a)) === a;\n    var bNumeric = String(ES.ToInteger(b)) === b;\n    if (aNumeric && bNumeric) {\n      return b - a;\n    } else if (aNumeric && !bNumeric) {\n      return -1;\n    } else if (!aNumeric && bNumeric) {\n      return 1;\n    } else {\n      return a.localeCompare(b);\n    }\n  };\n   var getAllKeys = function getAllKeys(object) {\n    var ownKeys = [];\n    var keys = [];\n     for (var key in object) {\n      _push(_hasOwnProperty(object, key) ? ownKeys : keys, key);\n    }\n    _sort(ownKeys, orderKeys);\n    _sort(keys, orderKeys);\n     return _concat(ownKeys, keys);\n  };\n  */\n\n  // note: this is positioned here because it depends on ArrayIterator\n  var arrayOfSupportsSubclassing = Array.of === ArrayShims.of || function () {\n    // Detects a bug in Webkit nightly r181886\n    var Foo = function Foo(len) {\n      this.length = len;\n    };\n    Foo.prototype = [];\n    var fooArr = Array.of.apply(Foo, [1, 2]);\n    return fooArr instanceof Foo && fooArr.length === 2;\n  }();\n  if (!arrayOfSupportsSubclassing) {\n    overrideNative(Array, 'of', ArrayShims.of);\n  }\n  var ArrayPrototypeShims = {\n    copyWithin: function copyWithin(target, start) {\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      var relativeTarget = ES.ToInteger(target);\n      var relativeStart = ES.ToInteger(start);\n      var to = relativeTarget < 0 ? _max(len + relativeTarget, 0) : _min(relativeTarget, len);\n      var from = relativeStart < 0 ? _max(len + relativeStart, 0) : _min(relativeStart, len);\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var relativeEnd = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var finalItem = relativeEnd < 0 ? _max(len + relativeEnd, 0) : _min(relativeEnd, len);\n      var count = _min(finalItem - from, len - to);\n      var direction = 1;\n      if (from < to && to < from + count) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (from in o) {\n          o[to] = o[from];\n        } else {\n          delete o[to];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n    fill: function fill(value) {\n      var start;\n      if (arguments.length > 1) {\n        start = arguments[1];\n      }\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n      var relativeStart = start < 0 ? _max(len + start, 0) : _min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (_call(predicate, thisArg, value, i, list)) {\n            return value;\n          }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (_call(predicate, thisArg, list[i], i, list)) {\n            return i;\n          }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    keys: function keys() {\n      return new ArrayIterator(this, 'key');\n    },\n    values: function values() {\n      return new ArrayIterator(this, 'value');\n    },\n    entries: function entries() {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  // Chrome 40 defines Array#values with the incorrect name, although Array#{keys,entries} have the correct name\n  if (functionsHaveNames && Array.prototype.values && Array.prototype.values.name !== 'values') {\n    var originalArrayPrototypeValues = Array.prototype.values;\n    overrideNative(Array.prototype, 'values', function values() {\n      return ES.Call(originalArrayPrototypeValues, this, arguments);\n    });\n    defineProperty(Array.prototype, $iterator$, Array.prototype.values, true);\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n  if (1 / [true].indexOf(true, -0) < 0) {\n    // indexOf when given a position arg of -0 should return +0.\n    // https://github.com/tc39/ecma262/pull/316\n    defineProperty(Array.prototype, 'indexOf', function indexOf(searchElement) {\n      var value = _arrayIndexOfApply(this, arguments);\n      if (value === 0 && 1 / value < 0) {\n        return 0;\n      }\n      return value;\n    }, true);\n  }\n  addIterator(Array.prototype, function () {\n    return this.values();\n  });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    var ChromeArrayIterator = Object.getPrototypeOf([].values());\n    if (ChromeArrayIterator) {\n      // in WSH, this is `undefined`\n      addIterator(ChromeArrayIterator);\n    }\n  }\n\n  // note: this is positioned here because it relies on Array#entries\n  var arrayFromSwallowsNegativeLengths = function () {\n    // Detects a Firefox bug in v32\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n    return valueOrFalseIfThrows(function () {\n      return Array.from({\n        length: -1\n      }).length === 0;\n    });\n  }();\n  var arrayFromHandlesIterables = function () {\n    // Detects a bug in Webkit nightly r181886\n    var arr = Array.from([0].entries());\n    return arr.length === 1 && isArray(arr[0]) && arr[0][0] === 0 && arr[0][1] === 0;\n  }();\n  if (!arrayFromSwallowsNegativeLengths || !arrayFromHandlesIterables) {\n    overrideNative(Array, 'from', ArrayShims.from);\n  }\n  var arrayFromHandlesUndefinedMapFunction = function () {\n    // Microsoft Edge v0.11 throws if the mapFn argument is *provided* but undefined,\n    // but the spec doesn't care if it's provided or not - undefined doesn't throw.\n    return valueOrFalseIfThrows(function () {\n      return Array.from([0], void 0);\n    });\n  }();\n  if (!arrayFromHandlesUndefinedMapFunction) {\n    var origArrayFrom = Array.from;\n    overrideNative(Array, 'from', function from(items) {\n      if (arguments.length > 1 && typeof arguments[1] !== 'undefined') {\n        return ES.Call(origArrayFrom, this, arguments);\n      }\n      return _call(origArrayFrom, this, items);\n    });\n  }\n  var int32sAsOne = -(Math.pow(2, 32) - 1);\n  var toLengthsCorrectly = function (method, reversed) {\n    var obj = {\n      length: int32sAsOne\n    };\n    obj[reversed ? (obj.length >>> 0) - 1 : 0] = true;\n    return valueOrFalseIfThrows(function () {\n      _call(method, obj, function () {\n        // note: in nonconforming browsers, this will be called\n        // -1 >>> 0 times, which is 4294967295, so the throw matters.\n        throw new RangeError('should not reach here');\n      }, []);\n      return true;\n    });\n  };\n  if (!toLengthsCorrectly(Array.prototype.forEach)) {\n    var originalForEach = Array.prototype.forEach;\n    overrideNative(Array.prototype, 'forEach', function forEach(callbackFn) {\n      return ES.Call(originalForEach, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.map)) {\n    var originalMap = Array.prototype.map;\n    overrideNative(Array.prototype, 'map', function map(callbackFn) {\n      return ES.Call(originalMap, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.filter)) {\n    var originalFilter = Array.prototype.filter;\n    overrideNative(Array.prototype, 'filter', function filter(callbackFn) {\n      return ES.Call(originalFilter, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.some)) {\n    var originalSome = Array.prototype.some;\n    overrideNative(Array.prototype, 'some', function some(callbackFn) {\n      return ES.Call(originalSome, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.every)) {\n    var originalEvery = Array.prototype.every;\n    overrideNative(Array.prototype, 'every', function every(callbackFn) {\n      return ES.Call(originalEvery, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduce)) {\n    var originalReduce = Array.prototype.reduce;\n    overrideNative(Array.prototype, 'reduce', function reduce(callbackFn) {\n      return ES.Call(originalReduce, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduceRight, true)) {\n    var originalReduceRight = Array.prototype.reduceRight;\n    overrideNative(Array.prototype, 'reduceRight', function reduceRight(callbackFn) {\n      return ES.Call(originalReduceRight, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  var lacksOctalSupport = Number('0o10') !== 8;\n  var lacksBinarySupport = Number('0b10') !== 2;\n  var trimsNonWhitespace = _some(nonWS, function (c) {\n    return Number(c + 0 + c) === 0;\n  });\n  if (lacksOctalSupport || lacksBinarySupport || trimsNonWhitespace) {\n    var OrigNumber = Number;\n    var binaryRegex = /^0b[01]+$/i;\n    var octalRegex = /^0o[0-7]+$/i;\n    // Note that in IE 8, RegExp.prototype.test doesn't seem to exist: ie, \"test\" is an own property of regexes. wtf.\n    var isBinary = binaryRegex.test.bind(binaryRegex);\n    var isOctal = octalRegex.test.bind(octalRegex);\n    var toPrimitive = function (O, hint) {\n      // need to replace this with `es-to-primitive/es6`\n      var result;\n      if (typeof O.valueOf === 'function') {\n        result = O.valueOf();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      if (typeof O.toString === 'function') {\n        result = O.toString();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      throw new TypeError('No default value');\n    };\n    var hasNonWS = nonWSregex.test.bind(nonWSregex);\n    var isBadHex = isBadHexRegex.test.bind(isBadHexRegex);\n    var NumberShim = function () {\n      // this is wrapped in an IIFE because of IE 6-8's wacky scoping issues with named function expressions.\n      var NumberShim = function Number(value) {\n        var primValue;\n        if (arguments.length > 0) {\n          primValue = Type.primitive(value) ? value : toPrimitive(value, 'number');\n        } else {\n          primValue = 0;\n        }\n        if (typeof primValue === 'string') {\n          primValue = ES.Call(trimShim, primValue);\n          if (isBinary(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 2);\n          } else if (isOctal(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 8);\n          } else if (hasNonWS(primValue) || isBadHex(primValue)) {\n            primValue = NaN;\n          }\n        }\n        var receiver = this;\n        var valueOfSucceeds = valueOrFalseIfThrows(function () {\n          OrigNumber.prototype.valueOf.call(receiver);\n          return true;\n        });\n        if (receiver instanceof NumberShim && !valueOfSucceeds) {\n          return new OrigNumber(primValue);\n        }\n        return OrigNumber(primValue);\n      };\n      return NumberShim;\n    }();\n    wrapConstructor(OrigNumber, NumberShim, {});\n    // this is necessary for ES3 browsers, where these properties are non-enumerable.\n    defineProperties(NumberShim, {\n      NaN: OrigNumber.NaN,\n      MAX_VALUE: OrigNumber.MAX_VALUE,\n      MIN_VALUE: OrigNumber.MIN_VALUE,\n      NEGATIVE_INFINITY: OrigNumber.NEGATIVE_INFINITY,\n      POSITIVE_INFINITY: OrigNumber.POSITIVE_INFINITY\n    });\n    Number = NumberShim; // eslint-disable-line no-global-assign\n    Value.redefine(globals, 'Number', NumberShim);\n  }\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n    isFinite: numberIsFinite,\n    isInteger: function isInteger(value) {\n      return numberIsFinite(value) && ES.ToInteger(value) === value;\n    },\n    isSafeInteger: function isSafeInteger(value) {\n      return Number.isInteger(value) && _abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n    isNaN: numberIsNaN\n  });\n  // Firefox 37 has a conforming Number.parseInt, but it's not === to the global parseInt (fixed in v40)\n  defineProperty(Number, 'parseInt', globals.parseInt, Number.parseInt !== globals.parseInt);\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  /* eslint-disable no-sparse-arrays */\n  if ([, 1].find(function () {\n    return true;\n  }) === 1) {\n    overrideNative(Array.prototype, 'find', ArrayPrototypeShims.find);\n  }\n  if ([, 1].findIndex(function () {\n    return true;\n  }) !== 0) {\n    overrideNative(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex);\n  }\n  /* eslint-enable no-sparse-arrays */\n\n  var isEnumerableOn = Function.bind.call(Function.bind, Object.prototype.propertyIsEnumerable);\n  var ensureEnumerable = function ensureEnumerable(obj, prop) {\n    if (supportsDescriptors && isEnumerableOn(obj, prop)) {\n      Object.defineProperty(obj, prop, {\n        enumerable: false\n      });\n    }\n  };\n  var sliceArgs = function sliceArgs() {\n    // per https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    // and https://gist.github.com/WebReflection/4327762cb87a8c634a29\n    var initial = Number(this);\n    var len = arguments.length;\n    var desiredArgCount = len - initial;\n    var args = new Array(desiredArgCount < 0 ? 0 : desiredArgCount);\n    for (var i = initial; i < len; ++i) {\n      args[i - initial] = arguments[i];\n    }\n    return args;\n  };\n  var assignTo = function assignTo(source) {\n    return function assignToSource(target, key) {\n      target[key] = source[key];\n      return target;\n    };\n  };\n  var assignReducer = function (target, source) {\n    var sourceKeys = keys(Object(source));\n    var symbols;\n    if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n      symbols = _filter(Object.getOwnPropertySymbols(Object(source)), isEnumerableOn(source));\n    }\n    return _reduce(_concat(sourceKeys, symbols || []), assignTo(source), target);\n  };\n  var ObjectShims = {\n    // 19.1.3.1\n    assign: function (target, source) {\n      var to = ES.ToObject(target, 'Cannot convert undefined or null to object');\n      return _reduce(ES.Call(sliceArgs, 1, arguments), assignReducer, to);\n    },\n    // Added in WebKit in https://bugs.webkit.org/show_bug.cgi?id=143865\n    is: function is(a, b) {\n      return ES.SameValue(a, b);\n    }\n  };\n  var assignHasPendingExceptions = Object.assign && Object.preventExtensions && function () {\n    // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n    // which is 72% slower than our shim, and Firefox 40's native implementation.\n    var thrower = Object.preventExtensions({\n      1: 2\n    });\n    try {\n      Object.assign(thrower, 'xy');\n    } catch (e) {\n      return thrower[1] === 'y';\n    }\n  }();\n  if (assignHasPendingExceptions) {\n    overrideNative(Object, 'assign', ObjectShims.assign);\n  }\n  defineProperties(Object, ObjectShims);\n  if (supportsDescriptors) {\n    var ES5ObjectShims = {\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: function (Object) {\n        var set;\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          _call(set, O, proto);\n          return O;\n        };\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n          _call(set, {}, null);\n        } catch (e) {\n          if (Object.prototype !== {}.__proto__) {\n            // eslint-disable-line no-proto\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this.__proto__ = proto; // eslint-disable-line no-proto\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(setPrototypeOf({}, null), Object.prototype) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object)\n    };\n    defineProperties(Object, ES5ObjectShims);\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf && Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null && Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf;\n      var spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        var proto = p === null ? FAKENULL : p;\n        return spo(o, proto);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    })();\n  }\n  var objectKeysAcceptsPrimitives = !throwsError(function () {\n    return Object.keys('foo');\n  });\n  if (!objectKeysAcceptsPrimitives) {\n    var originalObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      return originalObjectKeys(ES.ToObject(value));\n    });\n    keys = Object.keys;\n  }\n  var objectKeysRejectsRegex = throwsError(function () {\n    return Object.keys(/a/g);\n  });\n  if (objectKeysRejectsRegex) {\n    var regexRejectingObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      if (Type.regex(value)) {\n        var regexKeys = [];\n        for (var k in value) {\n          if (_hasOwnProperty(value, k)) {\n            _push(regexKeys, k);\n          }\n        }\n        return regexKeys;\n      }\n      return regexRejectingObjectKeys(value);\n    });\n    keys = Object.keys;\n  }\n  if (Object.getOwnPropertyNames) {\n    var objectGOPNAcceptsPrimitives = !throwsError(function () {\n      return Object.getOwnPropertyNames('foo');\n    });\n    if (!objectGOPNAcceptsPrimitives) {\n      var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];\n      var originalObjectGetOwnPropertyNames = Object.getOwnPropertyNames;\n      overrideNative(Object, 'getOwnPropertyNames', function getOwnPropertyNames(value) {\n        var val = ES.ToObject(value);\n        if (_toString(val) === '[object Window]') {\n          try {\n            return originalObjectGetOwnPropertyNames(val);\n          } catch (e) {\n            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects\n            return _concat([], cachedWindowNames);\n          }\n        }\n        return originalObjectGetOwnPropertyNames(val);\n      });\n    }\n  }\n  if (Object.getOwnPropertyDescriptor) {\n    var objectGOPDAcceptsPrimitives = !throwsError(function () {\n      return Object.getOwnPropertyDescriptor('foo', 'bar');\n    });\n    if (!objectGOPDAcceptsPrimitives) {\n      var originalObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n      overrideNative(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(value, property) {\n        return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value), property);\n      });\n    }\n  }\n  if (Object.seal) {\n    var objectSealAcceptsPrimitives = !throwsError(function () {\n      return Object.seal('foo');\n    });\n    if (!objectSealAcceptsPrimitives) {\n      var originalObjectSeal = Object.seal;\n      overrideNative(Object, 'seal', function seal(value) {\n        if (!ES.TypeIsObject(value)) {\n          return value;\n        }\n        return originalObjectSeal(value);\n      });\n    }\n  }\n  if (Object.isSealed) {\n    var objectIsSealedAcceptsPrimitives = !throwsError(function () {\n      return Object.isSealed('foo');\n    });\n    if (!objectIsSealedAcceptsPrimitives) {\n      var originalObjectIsSealed = Object.isSealed;\n      overrideNative(Object, 'isSealed', function isSealed(value) {\n        if (!ES.TypeIsObject(value)) {\n          return true;\n        }\n        return originalObjectIsSealed(value);\n      });\n    }\n  }\n  if (Object.freeze) {\n    var objectFreezeAcceptsPrimitives = !throwsError(function () {\n      return Object.freeze('foo');\n    });\n    if (!objectFreezeAcceptsPrimitives) {\n      var originalObjectFreeze = Object.freeze;\n      overrideNative(Object, 'freeze', function freeze(value) {\n        if (!ES.TypeIsObject(value)) {\n          return value;\n        }\n        return originalObjectFreeze(value);\n      });\n    }\n  }\n  if (Object.isFrozen) {\n    var objectIsFrozenAcceptsPrimitives = !throwsError(function () {\n      return Object.isFrozen('foo');\n    });\n    if (!objectIsFrozenAcceptsPrimitives) {\n      var originalObjectIsFrozen = Object.isFrozen;\n      overrideNative(Object, 'isFrozen', function isFrozen(value) {\n        if (!ES.TypeIsObject(value)) {\n          return true;\n        }\n        return originalObjectIsFrozen(value);\n      });\n    }\n  }\n  if (Object.preventExtensions) {\n    var objectPreventExtensionsAcceptsPrimitives = !throwsError(function () {\n      return Object.preventExtensions('foo');\n    });\n    if (!objectPreventExtensionsAcceptsPrimitives) {\n      var originalObjectPreventExtensions = Object.preventExtensions;\n      overrideNative(Object, 'preventExtensions', function preventExtensions(value) {\n        if (!ES.TypeIsObject(value)) {\n          return value;\n        }\n        return originalObjectPreventExtensions(value);\n      });\n    }\n  }\n  if (Object.isExtensible) {\n    var objectIsExtensibleAcceptsPrimitives = !throwsError(function () {\n      return Object.isExtensible('foo');\n    });\n    if (!objectIsExtensibleAcceptsPrimitives) {\n      var originalObjectIsExtensible = Object.isExtensible;\n      overrideNative(Object, 'isExtensible', function isExtensible(value) {\n        if (!ES.TypeIsObject(value)) {\n          return false;\n        }\n        return originalObjectIsExtensible(value);\n      });\n    }\n  }\n  if (Object.getPrototypeOf) {\n    var objectGetProtoAcceptsPrimitives = !throwsError(function () {\n      return Object.getPrototypeOf('foo');\n    });\n    if (!objectGetProtoAcceptsPrimitives) {\n      var originalGetProto = Object.getPrototypeOf;\n      overrideNative(Object, 'getPrototypeOf', function getPrototypeOf(value) {\n        return originalGetProto(ES.ToObject(value));\n      });\n    }\n  }\n  var hasFlags = supportsDescriptors && function () {\n    var desc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags');\n    return desc && ES.IsCallable(desc.get);\n  }();\n  if (supportsDescriptors && !hasFlags) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n  var regExpSupportsFlagsWithRegex = supportsDescriptors && valueOrFalseIfThrows(function () {\n    return String(new RegExp(/a/g, 'i')) === '/a/i';\n  });\n  var regExpNeedsToSupportSymbolMatch = hasSymbols && supportsDescriptors && function () {\n    // Edge 0.12 supports flags fully, but does not support Symbol.match\n    var regex = /./;\n    regex[Symbol.match] = false;\n    return RegExp(regex) === regex;\n  }();\n  var regexToStringIsGeneric = valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({\n      source: 'abc'\n    }) === '/abc/';\n  });\n  var regexToStringSupportsGenericFlags = regexToStringIsGeneric && valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({\n      source: 'a',\n      flags: 'b'\n    }) === '/a/b';\n  });\n  if (!regexToStringIsGeneric || !regexToStringSupportsGenericFlags) {\n    var origRegExpToString = RegExp.prototype.toString;\n    defineProperty(RegExp.prototype, 'toString', function toString() {\n      var R = ES.RequireObjectCoercible(this);\n      if (Type.regex(R)) {\n        return _call(origRegExpToString, R);\n      }\n      var pattern = $String(R.source);\n      var flags = $String(R.flags);\n      return '/' + pattern + '/' + flags;\n    }, true);\n    Value.preserveToString(RegExp.prototype.toString, origRegExpToString);\n    RegExp.prototype.toString.prototype = void 0;\n  }\n  if (supportsDescriptors && (!regExpSupportsFlagsWithRegex || regExpNeedsToSupportSymbolMatch)) {\n    var flagsGetter = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get;\n    var sourceDesc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'source') || {};\n    var legacySourceGetter = function () {\n      // prior to it being a getter, it's own + nonconfigurable\n      return this.source;\n    };\n    var sourceGetter = ES.IsCallable(sourceDesc.get) ? sourceDesc.get : legacySourceGetter;\n    var OrigRegExp = RegExp;\n    var RegExpShim = function () {\n      return function RegExp(pattern, flags) {\n        var patternIsRegExp = ES.IsRegExp(pattern);\n        var calledWithNew = this instanceof RegExp;\n        if (!calledWithNew && patternIsRegExp && typeof flags === 'undefined' && pattern.constructor === RegExp) {\n          return pattern;\n        }\n        var P = pattern;\n        var F = flags;\n        if (Type.regex(pattern)) {\n          P = ES.Call(sourceGetter, pattern);\n          F = typeof flags === 'undefined' ? ES.Call(flagsGetter, pattern) : flags;\n          return new RegExp(P, F);\n        } else if (patternIsRegExp) {\n          P = pattern.source;\n          F = typeof flags === 'undefined' ? pattern.flags : flags;\n        }\n        return new OrigRegExp(pattern, flags);\n      };\n    }();\n    wrapConstructor(OrigRegExp, RegExpShim, {\n      $input: true // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n    });\n    RegExp = RegExpShim; // eslint-disable-line no-global-assign\n    Value.redefine(globals, 'RegExp', RegExpShim);\n  }\n  if (supportsDescriptors) {\n    var regexGlobals = {\n      input: '$_',\n      lastMatch: '$&',\n      lastParen: '$+',\n      leftContext: '$`',\n      rightContext: '$\\''\n    };\n    _forEach(keys(regexGlobals), function (prop) {\n      if (prop in RegExp && !(regexGlobals[prop] in RegExp)) {\n        Value.getter(RegExp, regexGlobals[prop], function get() {\n          return RegExp[prop];\n        });\n      }\n    });\n  }\n  addDefaultSpecies(RegExp);\n  var inverseEpsilon = 1 / Number.EPSILON;\n  var roundTiesToEven = function roundTiesToEven(n) {\n    // Even though this reduces down to `return n`, it takes advantage of built-in rounding.\n    return n + inverseEpsilon - inverseEpsilon;\n  };\n  var BINARY_32_EPSILON = Math.pow(2, -23);\n  var BINARY_32_MAX_VALUE = Math.pow(2, 127) * (2 - BINARY_32_EPSILON);\n  var BINARY_32_MIN_VALUE = Math.pow(2, -126);\n  var E = Math.E;\n  var LOG2E = Math.LOG2E;\n  var LOG10E = Math.LOG10E;\n  var numberCLZ = Number.prototype.clz;\n  delete Number.prototype.clz; // Safari 8 has Number#clz\n\n  var MathShims = {\n    acosh: function acosh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || value < 1) {\n        return NaN;\n      }\n      if (x === 1) {\n        return 0;\n      }\n      if (x === Infinity) {\n        return x;\n      }\n      var xInvSquared = 1 / (x * x);\n      if (x < 2) {\n        return _log1p(x - 1 + _sqrt(1 - xInvSquared) * x);\n      }\n      var halfX = x / 2;\n      return _log1p(halfX + _sqrt(1 - xInvSquared) * halfX - 1) + 1 / LOG2E;\n    },\n    asinh: function asinh(value) {\n      var x = Number(value);\n      if (x === 0 || !globalIsFinite(x)) {\n        return x;\n      }\n      var a = _abs(x);\n      var aSquared = a * a;\n      var s = _sign(x);\n      if (a < 1) {\n        return s * _log1p(a + aSquared / (_sqrt(aSquared + 1) + 1));\n      }\n      return s * (_log1p(a / 2 + _sqrt(1 + 1 / aSquared) * a / 2 - 1) + 1 / LOG2E);\n    },\n    atanh: function atanh(value) {\n      var x = Number(value);\n      if (x === 0) {\n        return x;\n      }\n      if (x === -1) {\n        return -Infinity;\n      }\n      if (x === 1) {\n        return Infinity;\n      }\n      if (numberIsNaN(x) || x < -1 || x > 1) {\n        return NaN;\n      }\n      var a = _abs(x);\n      return _sign(x) * _log1p(2 * a / (1 - a)) / 2;\n    },\n    cbrt: function cbrt(value) {\n      var x = Number(value);\n      if (x === 0) {\n        return x;\n      }\n      var negate = x < 0;\n      var result;\n      if (negate) {\n        x = -x;\n      }\n      if (x === Infinity) {\n        result = Infinity;\n      } else {\n        result = _exp(_log(x) / 3);\n        // from http://en.wikipedia.org/wiki/Cube_root#Numerical_methods\n        result = (x / (result * result) + 2 * result) / 3;\n      }\n      return negate ? -result : result;\n    },\n    clz32: function clz32(value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      var x = Number(value);\n      var number = ES.ToUint32(x);\n      if (number === 0) {\n        return 32;\n      }\n      return numberCLZ ? ES.Call(numberCLZ, number) : 31 - _floor(_log(number + 0.5) * LOG2E);\n    },\n    cosh: function cosh(value) {\n      var x = Number(value);\n      if (x === 0) {\n        return 1;\n      } // +0 or -0\n      if (numberIsNaN(x)) {\n        return NaN;\n      }\n      if (!globalIsFinite(x)) {\n        return Infinity;\n      }\n      var t = _exp(_abs(x) - 1);\n      return (t + 1 / (t * E * E)) * (E / 2);\n    },\n    expm1: function expm1(value) {\n      var x = Number(value);\n      if (x === -Infinity) {\n        return -1;\n      }\n      if (!globalIsFinite(x) || x === 0) {\n        return x;\n      }\n      if (_abs(x) > 0.5) {\n        return _exp(x) - 1;\n      }\n      // A more precise approximation using Taylor series expansion\n      // from https://github.com/paulmillr/es6-shim/issues/314#issuecomment-70293986\n      var t = x;\n      var sum = 0;\n      var n = 1;\n      while (sum + t !== sum) {\n        sum += t;\n        n += 1;\n        t *= x / n;\n      }\n      return sum;\n    },\n    hypot: function hypot(x, y) {\n      var result = 0;\n      var largest = 0;\n      for (var i = 0; i < arguments.length; ++i) {\n        var value = _abs(Number(arguments[i]));\n        if (largest < value) {\n          result *= largest / value * (largest / value);\n          result += 1;\n          largest = value;\n        } else {\n          result += value > 0 ? value / largest * (value / largest) : value;\n        }\n      }\n      return largest === Infinity ? Infinity : largest * _sqrt(result);\n    },\n    log2: function log2(value) {\n      return _log(value) * LOG2E;\n    },\n    log10: function log10(value) {\n      return _log(value) * LOG10E;\n    },\n    log1p: _log1p,\n    sign: _sign,\n    sinh: function sinh(value) {\n      var x = Number(value);\n      if (!globalIsFinite(x) || x === 0) {\n        return x;\n      }\n      var a = _abs(x);\n      if (a < 1) {\n        var u = Math.expm1(a);\n        return _sign(x) * u * (1 + 1 / (u + 1)) / 2;\n      }\n      var t = _exp(a - 1);\n      return _sign(x) * (t - 1 / (t * E * E)) * (E / 2);\n    },\n    tanh: function tanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x === 0) {\n        return x;\n      }\n      // can exit early at +-20 as JS loses precision for true value at this integer\n      if (x >= 20) {\n        return 1;\n      }\n      if (x <= -20) {\n        return -1;\n      }\n      return (Math.expm1(x) - Math.expm1(-x)) / (_exp(x) + _exp(-x));\n    },\n    trunc: function trunc(value) {\n      var x = Number(value);\n      return x < 0 ? -_floor(-x) : _floor(x);\n    },\n    imul: function imul(x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      var a = ES.ToUint32(x);\n      var b = ES.ToUint32(y);\n      var ah = a >>> 16 & 0xffff;\n      var al = a & 0xffff;\n      var bh = b >>> 16 & 0xffff;\n      var bl = b & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return al * bl + (ah * bl + al * bh << 16 >>> 0) | 0;\n    },\n    fround: function fround(x) {\n      var v = Number(x);\n      if (v === 0 || v === Infinity || v === -Infinity || numberIsNaN(v)) {\n        return v;\n      }\n      var sign = _sign(v);\n      var abs = _abs(v);\n      if (abs < BINARY_32_MIN_VALUE) {\n        return sign * roundTiesToEven(abs / BINARY_32_MIN_VALUE / BINARY_32_EPSILON) * BINARY_32_MIN_VALUE * BINARY_32_EPSILON;\n      }\n      // Veltkamp's splitting (?)\n      var a = (1 + BINARY_32_EPSILON / Number.EPSILON) * abs;\n      var result = a - (a - abs);\n      if (result > BINARY_32_MAX_VALUE || numberIsNaN(result)) {\n        return sign * Infinity;\n      }\n      return sign * result;\n    }\n  };\n  var withinULPDistance = function withinULPDistance(result, expected, distance) {\n    return _abs(1 - result / expected) / Number.EPSILON < (distance || 8);\n  };\n  defineProperties(Math, MathShims);\n  // Chrome < 40 sinh returns âˆž for large numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(710) === Infinity);\n  // Chrome < 40 cosh returns âˆž for large numbers\n  defineProperty(Math, 'cosh', MathShims.cosh, Math.cosh(710) === Infinity);\n  // IE 11 TP has an imprecise log1p: reports Math.log1p(-1e-17) as 0\n  defineProperty(Math, 'log1p', MathShims.log1p, Math.log1p(-1e-17) !== -1e-17);\n  // IE 11 TP has an imprecise asinh: reports Math.asinh(-1e7) as not exactly equal to -Math.asinh(1e7)\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(-1e7) !== -Math.asinh(1e7));\n  // Chrome < 54 asinh returns âˆž for large numbers and should not\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(1e+300) === Infinity);\n  // Chrome < 54 atanh incorrectly returns 0 for large numbers\n  defineProperty(Math, 'atanh', MathShims.atanh, Math.atanh(1e-300) === 0);\n  // Chrome 40 has an imprecise Math.tanh with very small numbers\n  defineProperty(Math, 'tanh', MathShims.tanh, Math.tanh(-2e-17) !== -2e-17);\n  // Chrome 40 loses Math.acosh precision with high numbers\n  defineProperty(Math, 'acosh', MathShims.acosh, Math.acosh(Number.MAX_VALUE) === Infinity);\n  // Chrome < 54 has an inaccurate acosh for EPSILON deltas\n  defineProperty(Math, 'acosh', MathShims.acosh, !withinULPDistance(Math.acosh(1 + Number.EPSILON), Math.sqrt(2 * Number.EPSILON)));\n  // Firefox 38 on Windows\n  defineProperty(Math, 'cbrt', MathShims.cbrt, !withinULPDistance(Math.cbrt(1e-300), 1e-100));\n  // node 0.11 has an imprecise Math.sinh with very small numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(-2e-17) !== -2e-17);\n  // FF 35 on Linux reports 22025.465794806725 for Math.expm1(10)\n  var expm1OfTen = Math.expm1(10);\n  defineProperty(Math, 'expm1', MathShims.expm1, expm1OfTen > 22025.465794806719 || expm1OfTen < 22025.4657948067165168);\n  // node v12.11 - v12.15 report NaN\n  defineProperty(Math, 'hypot', MathShims.hypot, Math.hypot(Infinity, NaN) !== Infinity);\n  var origMathRound = Math.round;\n  // breaks in e.g. Safari 8, Internet Explorer 11, Opera 12\n  var roundHandlesBoundaryConditions = Math.round(0.5 - Number.EPSILON / 4) === 0 && Math.round(-0.5 + Number.EPSILON / 3.99) === 1;\n\n  // When engines use Math.floor(x + 0.5) internally, Math.round can be buggy for large integers.\n  // This behavior should be governed by \"round to nearest, ties to even mode\"\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-terms-and-definitions-number-type\n  // These are the boundary cases where it breaks.\n  var smallestPositiveNumberWhereRoundBreaks = inverseEpsilon + 1;\n  var largestPositiveNumberWhereRoundBreaks = 2 * inverseEpsilon - 1;\n  var roundDoesNotIncreaseIntegers = [smallestPositiveNumberWhereRoundBreaks, largestPositiveNumberWhereRoundBreaks].every(function (num) {\n    return Math.round(num) === num;\n  });\n  defineProperty(Math, 'round', function round(x) {\n    var floor = _floor(x);\n    var ceil = floor === -1 ? -0 : floor + 1;\n    return x - floor < 0.5 ? floor : ceil;\n  }, !roundHandlesBoundaryConditions || !roundDoesNotIncreaseIntegers);\n  Value.preserveToString(Math.round, origMathRound);\n  var origImul = Math.imul;\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n    Value.preserveToString(Math.imul, origImul);\n  }\n  if (Math.imul.length !== 2) {\n    // Safari 8.0.4 has a length of 1\n    // fixed in https://bugs.webkit.org/show_bug.cgi?id=143658\n    overrideNative(Math, 'imul', function imul(x, y) {\n      return ES.Call(origImul, Math, arguments);\n    });\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = function () {\n    var setTimeout = globals.setTimeout;\n    // some environments don't have setTimeout - no way to shim here.\n    if (typeof setTimeout !== 'function' && typeof setTimeout !== 'object') {\n      return;\n    }\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (typeof promise._promise === 'undefined') {\n        return false; // uninitialized, or missing our hidden field.\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsConstructor(C)) {\n        throw new TypeError('Bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        if (capability.resolve !== void 0 || capability.reject !== void 0) {\n          throw new TypeError('Bad Promise implementation!');\n        }\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      // Initialize fields to inform optimizers about the object shape.\n      capability.resolve = void 0;\n      capability.reject = void 0;\n      capability.promise = new C(resolver);\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('Bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var makeZeroTimeout;\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          _push(timeouts, fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) {\n              return;\n            }\n            var fn = _shift(timeouts);\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      var pr = P && P.resolve && P.resolve();\n      return pr && function (task) {\n        return pr.then(task);\n      };\n    };\n    var enqueue = ES.IsCallable(globals.setImmediate) ? globals.setImmediate : typeof process === 'object' && process.nextTick ? process.nextTick : makePromiseAsap() || (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() : function (task) {\n      setTimeout(task, 0);\n    }); // fallback\n\n    // Constants for Promise implementation\n    var PROMISE_IDENTITY = function (x) {\n      return x;\n    };\n    var PROMISE_THROWER = function (e) {\n      throw e;\n    };\n    var PROMISE_PENDING = 0;\n    var PROMISE_FULFILLED = 1;\n    var PROMISE_REJECTED = 2;\n    // We store fulfill/reject handlers and capabilities in a single array.\n    var PROMISE_FULFILL_OFFSET = 0;\n    var PROMISE_REJECT_OFFSET = 1;\n    var PROMISE_CAPABILITY_OFFSET = 2;\n    // This is used in an optimization for chaining promises via then.\n    var PROMISE_FAKE_CAPABILITY = {};\n    var enqueuePromiseReactionJob = function (handler, capability, argument) {\n      enqueue(function () {\n        promiseReactionJob(handler, capability, argument);\n      });\n    };\n    var promiseReactionJob = function (handler, promiseCapability, argument) {\n      var handlerResult, f;\n      if (promiseCapability === PROMISE_FAKE_CAPABILITY) {\n        // Fast case, when we don't actually need to chain through to a\n        // (real) promiseCapability.\n        return handler(argument);\n      }\n      try {\n        handlerResult = handler(argument);\n        f = promiseCapability.resolve;\n      } catch (e) {\n        handlerResult = e;\n        f = promiseCapability.reject;\n      }\n      f(handlerResult);\n    };\n    var fulfillPromise = function (promise, value) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(_promise.fulfillReactionHandler0, _promise.reactionCapability0, value);\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(_promise[idx + PROMISE_FULFILL_OFFSET], _promise[idx + PROMISE_CAPABILITY_OFFSET], value);\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = value;\n      _promise.state = PROMISE_FULFILLED;\n      _promise.reactionLength = 0;\n    };\n    var rejectPromise = function (promise, reason) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(_promise.rejectReactionHandler0, _promise.reactionCapability0, reason);\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(_promise[idx + PROMISE_REJECT_OFFSET], _promise[idx + PROMISE_CAPABILITY_OFFSET], reason);\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = reason;\n      _promise.state = PROMISE_REJECTED;\n      _promise.reactionLength = 0;\n    };\n    var createResolvingFunctions = function (promise) {\n      var alreadyResolved = false;\n      var resolve = function (resolution) {\n        var then;\n        if (alreadyResolved) {\n          return;\n        }\n        alreadyResolved = true;\n        if (resolution === promise) {\n          return rejectPromise(promise, new TypeError('Self resolution'));\n        }\n        if (!ES.TypeIsObject(resolution)) {\n          return fulfillPromise(promise, resolution);\n        }\n        try {\n          then = resolution.then;\n        } catch (e) {\n          return rejectPromise(promise, e);\n        }\n        if (!ES.IsCallable(then)) {\n          return fulfillPromise(promise, resolution);\n        }\n        enqueue(function () {\n          promiseResolveThenableJob(promise, resolution, then);\n        });\n      };\n      var reject = function (reason) {\n        if (alreadyResolved) {\n          return;\n        }\n        alreadyResolved = true;\n        return rejectPromise(promise, reason);\n      };\n      return {\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var optimizedThen = function (then, thenable, resolve, reject) {\n      // Optimization: since we discard the result, we can pass our\n      // own then implementation a special hint to let it know it\n      // doesn't have to create it.  (The PROMISE_FAKE_CAPABILITY\n      // object is local to this implementation and unforgeable outside.)\n      if (then === Promise$prototype$then) {\n        _call(then, thenable, resolve, reject, PROMISE_FAKE_CAPABILITY);\n      } else {\n        _call(then, thenable, resolve, reject);\n      }\n    };\n    var promiseResolveThenableJob = function (promise, thenable, then) {\n      var resolvingFunctions = createResolvingFunctions(promise);\n      var resolve = resolvingFunctions.resolve;\n      var reject = resolvingFunctions.reject;\n      try {\n        optimizedThen(then, thenable, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var Promise$prototype, Promise$prototype$then;\n    var Promise = function () {\n      var PromiseShim = function Promise(resolver) {\n        if (!(this instanceof PromiseShim)) {\n          throw new TypeError('Constructor Promise requires \"new\"');\n        }\n        if (this && this._promise) {\n          throw new TypeError('Bad construction');\n        }\n        // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n        if (!ES.IsCallable(resolver)) {\n          throw new TypeError('not a valid resolver');\n        }\n        var promise = emulateES6construct(this, PromiseShim, Promise$prototype, {\n          _promise: {\n            result: void 0,\n            state: PROMISE_PENDING,\n            // The first member of the \"reactions\" array is inlined here,\n            // since most promises only have one reaction.\n            // We've also exploded the 'reaction' object to inline the\n            // \"handler\" and \"capability\" fields, since both fulfill and\n            // reject reactions share the same capability.\n            reactionLength: 0,\n            fulfillReactionHandler0: void 0,\n            rejectReactionHandler0: void 0,\n            reactionCapability0: void 0\n          }\n        });\n        var resolvingFunctions = createResolvingFunctions(promise);\n        var reject = resolvingFunctions.reject;\n        try {\n          resolver(resolvingFunctions.resolve, reject);\n        } catch (e) {\n          reject(e);\n        }\n        return promise;\n      };\n      return PromiseShim;\n    }();\n    Promise$prototype = Promise.prototype;\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var alreadyCalled = false;\n      return function (x) {\n        if (alreadyCalled) {\n          return;\n        }\n        alreadyCalled = true;\n        values[index] = x;\n        if (--remaining.count === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n    var performPromiseAll = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var values = [];\n      var remaining = {\n        count: 1\n      };\n      var next, nextValue;\n      var index = 0;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        values[index] = void 0;\n        var nextPromise = C.resolve(nextValue);\n        var resolveElement = _promiseAllResolver(index, values, resultCapability, remaining);\n        remaining.count += 1;\n        optimizedThen(nextPromise.then, nextPromise, resolveElement, resultCapability.reject);\n        index += 1;\n      }\n      if (--remaining.count === 0) {\n        var resolve = resultCapability.resolve;\n        resolve(values); // call w/ this===undefined\n      }\n      return resultCapability.promise;\n    };\n    var performPromiseRace = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var next, nextValue, nextPromise;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            // NOTE: If iterable has no items, resulting promise will never\n            // resolve; see:\n            // https://github.com/domenic/promises-unwrapping/issues/75\n            // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        nextPromise = C.resolve(nextValue);\n        optimizedThen(nextPromise.then, nextPromise, resultCapability.resolve, resultCapability.reject);\n      }\n      return resultCapability.promise;\n    };\n    defineProperties(Promise, {\n      all: function all(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = {\n            iterator: iterator,\n            done: false\n          };\n          return performPromiseAll(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n      race: function race(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = {\n            iterator: iterator,\n            done: false\n          };\n          return performPromiseRace(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n      reject: function reject(reason) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        var capability = new PromiseCapability(C);\n        var rejectFunc = capability.reject;\n        rejectFunc(reason); // call with this===undefined\n        return capability.promise;\n      },\n      resolve: function resolve(v) {\n        // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        if (ES.IsPromise(v)) {\n          var constructor = v.constructor;\n          if (constructor === C) {\n            return v;\n          }\n        }\n        var capability = new PromiseCapability(C);\n        var resolveFunc = capability.resolve;\n        resolveFunc(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(null, onRejected);\n      },\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) {\n          throw new TypeError('not a promise');\n        }\n        var C = ES.SpeciesConstructor(promise, Promise);\n        var resultCapability;\n        var returnValueIsIgnored = arguments.length > 2 && arguments[2] === PROMISE_FAKE_CAPABILITY;\n        if (returnValueIsIgnored && C === Promise) {\n          resultCapability = PROMISE_FAKE_CAPABILITY;\n        } else {\n          resultCapability = new PromiseCapability(C);\n        }\n        // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n        // Note that we've split the 'reaction' object into its two\n        // components, \"capabilities\" and \"handler\"\n        // \"capabilities\" is always equal to `resultCapability`\n        var fulfillReactionHandler = ES.IsCallable(onFulfilled) ? onFulfilled : PROMISE_IDENTITY;\n        var rejectReactionHandler = ES.IsCallable(onRejected) ? onRejected : PROMISE_THROWER;\n        var _promise = promise._promise;\n        var value;\n        if (_promise.state === PROMISE_PENDING) {\n          if (_promise.reactionLength === 0) {\n            _promise.fulfillReactionHandler0 = fulfillReactionHandler;\n            _promise.rejectReactionHandler0 = rejectReactionHandler;\n            _promise.reactionCapability0 = resultCapability;\n          } else {\n            var idx = 3 * (_promise.reactionLength - 1);\n            _promise[idx + PROMISE_FULFILL_OFFSET] = fulfillReactionHandler;\n            _promise[idx + PROMISE_REJECT_OFFSET] = rejectReactionHandler;\n            _promise[idx + PROMISE_CAPABILITY_OFFSET] = resultCapability;\n          }\n          _promise.reactionLength += 1;\n        } else if (_promise.state === PROMISE_FULFILLED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(fulfillReactionHandler, resultCapability, value);\n        } else if (_promise.state === PROMISE_REJECTED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(rejectReactionHandler, resultCapability, value);\n        } else {\n          throw new TypeError('unexpected Promise state');\n        }\n        return resultCapability.promise;\n      }\n    });\n    // This helps the optimizer by ensuring that methods which take\n    // capabilities aren't polymorphic.\n    PROMISE_FAKE_CAPABILITY = new PromiseCapability(Promise);\n    Promise$prototype$then = Promise$prototype.then;\n    return Promise;\n  }();\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n  if (typeof PromiseShim === 'function') {\n    // export the Promise constructor.\n    defineProperties(globals, {\n      Promise: PromiseShim\n    });\n    // In Chrome 33 (and thereabouts) Promise is defined, but the\n    // implementation is buggy in a number of ways.  Let's check subclassing\n    // support to see if we have a buggy implementation.\n    var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n      return S.resolve(42).then(function () {}) instanceof S;\n    });\n    var promiseIgnoresNonFunctionThenCallbacks = !throwsError(function () {\n      return globals.Promise.reject(42).then(null, 5).then(null, noop);\n    });\n    var promiseRequiresObjectContext = throwsError(function () {\n      return globals.Promise.call(3, noop);\n    });\n    // Promise.resolve() was errata'ed late in the ES6 process.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1170742\n    //      https://code.google.com/p/v8/issues/detail?id=4161\n    // It serves as a proxy for a number of other bugs in early Promise\n    // implementations.\n    var promiseResolveBroken = function (Promise) {\n      var p = Promise.resolve(5);\n      p.constructor = {};\n      var p2 = Promise.resolve(p);\n      try {\n        p2.then(null, noop).then(null, noop); // avoid \"uncaught rejection\" warnings in console\n      } catch (e) {\n        return true; // v8 native Promises break here https://code.google.com/p/chromium/issues/detail?id=575314\n      }\n      return p === p2; // This *should* be false!\n    }(globals.Promise);\n\n    // Chrome 46 (probably older too) does not retrieve a thenable's .then synchronously\n    var getsThenSynchronously = supportsDescriptors && function () {\n      var count = 0;\n      // eslint-disable-next-line getter-return\n      var thenable = Object.defineProperty({}, 'then', {\n        get: function () {\n          count += 1;\n        }\n      });\n      Promise.resolve(thenable);\n      return count === 1;\n    }();\n    var BadResolverPromise = function BadResolverPromise(executor) {\n      var p = new Promise(executor);\n      executor(3, function () {});\n      this.then = p.then;\n      this.constructor = BadResolverPromise;\n    };\n    BadResolverPromise.prototype = Promise.prototype;\n    BadResolverPromise.all = Promise.all;\n    // Chrome Canary 49 (probably older too) has some implementation bugs\n    var hasBadResolverPromise = valueOrFalseIfThrows(function () {\n      return !!BadResolverPromise.all([1, 2]);\n    });\n    if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks || !promiseRequiresObjectContext || promiseResolveBroken || !getsThenSynchronously || hasBadResolverPromise) {\n      Promise = PromiseShim; // eslint-disable-line no-global-assign\n      overrideNative(globals, 'Promise', PromiseShim);\n    }\n    if (Promise.all.length !== 1) {\n      var origAll = Promise.all;\n      overrideNative(Promise, 'all', function all(iterable) {\n        return ES.Call(origAll, this, arguments);\n      });\n    }\n    if (Promise.race.length !== 1) {\n      var origRace = Promise.race;\n      overrideNative(Promise, 'race', function race(iterable) {\n        return ES.Call(origRace, this, arguments);\n      });\n    }\n    if (Promise.resolve.length !== 1) {\n      var origResolve = Promise.resolve;\n      overrideNative(Promise, 'resolve', function resolve(x) {\n        return ES.Call(origResolve, this, arguments);\n      });\n    }\n    if (Promise.reject.length !== 1) {\n      var origReject = Promise.reject;\n      overrideNative(Promise, 'reject', function reject(r) {\n        return ES.Call(origReject, this, arguments);\n      });\n    }\n    ensureEnumerable(Promise, 'all');\n    ensureEnumerable(Promise, 'race');\n    ensureEnumerable(Promise, 'resolve');\n    ensureEnumerable(Promise, 'reject');\n    addDefaultSpecies(Promise);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = keys(_reduce(a, function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n  if (supportsDescriptors) {\n    var fastkey = function fastkey(key, skipInsertionOrderCheck) {\n      if (!skipInsertionOrderCheck && !preservesInsertionOrder) {\n        return null;\n      }\n      if (isNullOrUndefined(key)) {\n        return '^' + ES.ToString(key);\n      } else if (typeof key === 'string') {\n        return '$' + key;\n      } else if (typeof key === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      } else if (typeof key === 'boolean') {\n        return 'b' + key;\n      }\n      return null;\n    };\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n    var addIterableToMap = function addIterableToMap(MapConstructor, map, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (entry) {\n          if (!ES.TypeIsObject(entry)) {\n            throw new TypeError('Iterator value ' + entry + ' is not an entry object');\n          }\n          map.set(entry[0], entry[1]);\n        });\n      } else if (iterable instanceof MapConstructor) {\n        _call(MapConstructor.prototype.forEach, iterable, function (value, key) {\n          map.set(key, value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = map.set;\n          if (!ES.IsCallable(adder)) {\n            throw new TypeError('bad map');\n          }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) {\n              break;\n            }\n            var nextItem = next.value;\n            try {\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');\n              }\n              _call(adder, map, nextItem[0], nextItem[1]);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n    var addIterableToSet = function addIterableToSet(SetConstructor, set, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (value) {\n          set.add(value);\n        });\n      } else if (iterable instanceof SetConstructor) {\n        _call(SetConstructor.prototype.forEach, iterable, function (value) {\n          set.add(value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = set.add;\n          if (!ES.IsCallable(adder)) {\n            throw new TypeError('bad set');\n          }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) {\n              break;\n            }\n            var nextValue = next.value;\n            try {\n              _call(adder, set, nextValue);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n    var collectionShims = {\n      Map: function () {\n        var empty = {};\n        var MapEntry = function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        };\n        MapEntry.prototype.isRemoved = function isRemoved() {\n          return this.key === empty;\n        };\n        var isMap = function isMap(map) {\n          return !!map._es6map;\n        };\n        var requireMapSlot = function requireMapSlot(map, method) {\n          if (!ES.TypeIsObject(map) || !isMap(map)) {\n            throw new TypeError('Method Map.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(map));\n          }\n        };\n        var MapIterator = function MapIterator(map, kind) {\n          requireMapSlot(map, '[[MapIterator]]');\n          defineProperty(this, 'head', map._head);\n          defineProperty(this, 'i', this.head);\n          defineProperty(this, 'kind', kind);\n        };\n        MapIterator.prototype = {\n          isMapIterator: true,\n          next: function next() {\n            if (!this.isMapIterator) {\n              throw new TypeError('Not a MapIterator');\n            }\n            var i = this.i;\n            var kind = this.kind;\n            var head = this.head;\n            if (typeof this.i === 'undefined') {\n              return iteratorResult();\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            var result;\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return iteratorResult(result);\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return iteratorResult();\n          }\n        };\n        addIterator(MapIterator.prototype);\n        var Map$prototype;\n        var MapShim = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          if (this && this._es6map) {\n            throw new TypeError('Bad construction');\n          }\n          var map = emulateES6construct(this, Map, Map$prototype, {\n            _es6map: true,\n            _head: null,\n            _map: OrigMap ? new OrigMap() : null,\n            _size: 0,\n            _storage: emptyObject()\n          });\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          /* eslint no-multi-assign: 1 */\n          head.next = head.prev = head;\n          map._head = head;\n\n          // Optionally initialize map from iterable\n          if (arguments.length > 0) {\n            addIterableToMap(Map, map, arguments[0]);\n          }\n          return map;\n        };\n        Map$prototype = MapShim.prototype;\n        Value.getter(Map$prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n        defineProperties(Map$prototype, {\n          get: function get(key) {\n            requireMapSlot(this, 'get');\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              }\n              return;\n            }\n            if (this._map) {\n              // fast object key path\n              entry = origMapGet.call(this._map, key);\n              if (entry) {\n                return entry.value;\n              }\n              return;\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n          has: function has(key) {\n            requireMapSlot(this, 'has');\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            if (this._map) {\n              // fast object key path\n              return origMapHas.call(this._map, key);\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n          set: function set(key, value) {\n            requireMapSlot(this, 'set');\n            var head = this._head;\n            var i = head;\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              }\n              entry = this._storage[fkey] = new MapEntry(key, value); /* eslint no-multi-assign: 1 */\n              i = head.prev;\n              // fall through\n            } else if (this._map) {\n              // fast object key path\n              if (origMapHas.call(this._map, key)) {\n                origMapGet.call(this._map, key).value = value;\n              } else {\n                entry = new MapEntry(key, value);\n                origMapSet.call(this._map, key, entry);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n          'delete': function (key) {\n            requireMapSlot(this, 'delete');\n            var head = this._head;\n            var i = head;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            } else if (this._map) {\n              // fast object key path\n              if (!origMapHas.call(this._map, key)) {\n                return false;\n              }\n              i = origMapGet.call(this._map, key).prev;\n              origMapDelete.call(this._map, key);\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = empty;\n                i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n          clear: function clear() {\n            /* eslint no-multi-assign: 1 */\n            requireMapSlot(this, 'clear');\n            this._map = OrigMap ? new OrigMap() : null;\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head;\n            var i = head;\n            var p = i.next;\n            while ((i = p) !== head) {\n              i.key = empty;\n              i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n          keys: function keys() {\n            requireMapSlot(this, 'keys');\n            return new MapIterator(this, 'key');\n          },\n          values: function values() {\n            requireMapSlot(this, 'values');\n            return new MapIterator(this, 'value');\n          },\n          entries: function entries() {\n            requireMapSlot(this, 'entries');\n            return new MapIterator(this, 'key+value');\n          },\n          forEach: function forEach(callback) {\n            requireMapSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                _call(callback, context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map$prototype, Map$prototype.entries);\n        return MapShim;\n      }(),\n      Set: function () {\n        var isSet = function isSet(set) {\n          return set._es6set && typeof set._storage !== 'undefined';\n        };\n        var requireSetSlot = function requireSetSlot(set, method) {\n          if (!ES.TypeIsObject(set) || !isSet(set)) {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('Set.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(set));\n          }\n        };\n\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var Set$prototype;\n        var SetShim = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          if (this && this._es6set) {\n            throw new TypeError('Bad construction');\n          }\n          var set = emulateES6construct(this, Set, Set$prototype, {\n            _es6set: true,\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          // Optionally initialize Set from iterable\n          if (arguments.length > 0) {\n            addIterableToSet(Set, set, arguments[0]);\n          }\n          return set;\n        };\n        Set$prototype = SetShim.prototype;\n        var decodeKey = function (key) {\n          var k = key;\n          if (k === '^null') {\n            return null;\n          } else if (k === '^undefined') {\n            return void 0;\n          }\n          var first = k.charAt(0);\n          if (first === '$') {\n            return _strSlice(k, 1);\n          } else if (first === 'n') {\n            return +_strSlice(k, 1);\n          } else if (first === 'b') {\n            return k === 'btrue';\n          }\n          return +k;\n        };\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = new collectionShims.Map();\n            set['[[SetData]]'] = m;\n            _forEach(keys(set._storage), function (key) {\n              var k = decodeKey(key);\n              m.set(k, k);\n            });\n            set['[[SetData]]'] = m;\n          }\n          set._storage = null; // free old backing storage\n        };\n        Value.getter(SetShim.prototype, 'size', function () {\n          requireSetSlot(this, 'size');\n          if (this._storage) {\n            return keys(this._storage).length;\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n        defineProperties(SetShim.prototype, {\n          has: function has(key) {\n            requireSetSlot(this, 'has');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n          add: function add(key) {\n            requireSetSlot(this, 'add');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n          'delete': function (key) {\n            requireSetSlot(this, 'delete');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return delete this._storage[fkey] && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n          clear: function clear() {\n            requireSetSlot(this, 'clear');\n            if (this._storage) {\n              this._storage = emptyObject();\n            }\n            if (this['[[SetData]]']) {\n              this['[[SetData]]'].clear();\n            }\n          },\n          values: function values() {\n            requireSetSlot(this, 'values');\n            ensureMap(this);\n            return new SetIterator(this['[[SetData]]'].values());\n          },\n          entries: function entries() {\n            requireSetSlot(this, 'entries');\n            ensureMap(this);\n            return new SetIterator(this['[[SetData]]'].entries());\n          },\n          forEach: function forEach(callback) {\n            requireSetSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                _call(callback, context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim.prototype, 'keys', SetShim.prototype.values, true);\n        addIterator(SetShim.prototype, SetShim.prototype.values);\n        var SetIterator = function SetIterator(it) {\n          defineProperty(this, 'it', it);\n        };\n        SetIterator.prototype = {\n          isSetIterator: true,\n          next: function next() {\n            if (!this.isSetIterator) {\n              throw new TypeError('Not a SetIterator');\n            }\n            return this.it.next();\n          }\n        };\n        addIterator(SetIterator.prototype);\n        return SetShim;\n      }()\n    };\n    var isGoogleTranslate = globals.Set && !Set.prototype['delete'] && Set.prototype.remove && Set.prototype.items && Set.prototype.map && Array.isArray(new Set().keys);\n    if (isGoogleTranslate) {\n      // special-case force removal of wildly invalid Set implementation in Google Translate iframes\n      // see https://github.com/paulmillr/es6-shim/issues/438 / https://twitter.com/ljharb/status/849335573114363904\n      globals.Set = collectionShims.Set;\n    }\n    if (globals.Map || globals.Set) {\n      // Safari 8, for example, doesn't accept an iterable.\n      var mapAcceptsArguments = valueOrFalseIfThrows(function () {\n        return new Map([[1, 2]]).get(1) === 2;\n      });\n      if (!mapAcceptsArguments) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, globals.Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = create(OrigMap.prototype);\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var testMap = new Map();\n      var mapUsesSameValueZero = function () {\n        // Chrome 38-42, node 0.11/0.12, iojs 1/2 also have a bug when the Map has a size > 4\n        var m = new Map([[1, 0], [2, 0], [3, 0], [4, 0]]);\n        m.set(-0, m);\n        return m.get(0) === m && m.get(-0) === m && m.has(0) && m.has(-0);\n      }();\n      var mapSupportsChaining = testMap.set(1, 2) === testMap;\n      if (!mapUsesSameValueZero || !mapSupportsChaining) {\n        overrideNative(Map.prototype, 'set', function set(k, v) {\n          _call(origMapSet, this, k === 0 ? 0 : k, v);\n          return this;\n        });\n      }\n      if (!mapUsesSameValueZero) {\n        defineProperties(Map.prototype, {\n          get: function get(k) {\n            return _call(origMapGet, this, k === 0 ? 0 : k);\n          },\n          has: function has(k) {\n            return _call(origMapHas, this, k === 0 ? 0 : k);\n          }\n        }, true);\n        Value.preserveToString(Map.prototype.get, origMapGet);\n        Value.preserveToString(Map.prototype.has, origMapHas);\n      }\n      var testSet = new Set();\n      var setUsesSameValueZero = Set.prototype['delete'] && Set.prototype.add && Set.prototype.has && function (s) {\n        s['delete'](0);\n        s.add(-0);\n        return !s.has(0);\n      }(testSet);\n      var setSupportsChaining = testSet.add(1) === testSet;\n      if (!setUsesSameValueZero || !setSupportsChaining) {\n        var origSetAdd = Set.prototype.add;\n        Set.prototype.add = function add(v) {\n          _call(origSetAdd, this, v === 0 ? 0 : v);\n          return this;\n        };\n        Value.preserveToString(Set.prototype.add, origSetAdd);\n      }\n      if (!setUsesSameValueZero) {\n        var origSetHas = Set.prototype.has;\n        Set.prototype.has = function has(v) {\n          return _call(origSetHas, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype.has, origSetHas);\n        var origSetDel = Set.prototype['delete'];\n        Set.prototype['delete'] = function SetDelete(v) {\n          return _call(origSetDel, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype['delete'], origSetDel);\n      }\n      var mapSupportsSubclassing = supportsSubclassing(globals.Map, function (M) {\n        var m = new M([]);\n        // Firefox 32 is ok with the instantiating the subclass but will\n        // throw when the map is used.\n        m.set(42, 42);\n        return m instanceof M;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var mapFailsToSupportSubclassing = Object.setPrototypeOf && !mapSupportsSubclassing;\n      var mapRequiresNew = function () {\n        try {\n          return !(globals.Map() instanceof globals.Map);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }();\n      if (globals.Map.length !== 0 || mapFailsToSupportSubclassing || !mapRequiresNew) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = OrigMap.prototype;\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var setSupportsSubclassing = supportsSubclassing(globals.Set, function (S) {\n        var s = new S([]);\n        s.add(42, 42);\n        return s instanceof S;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var setFailsToSupportSubclassing = Object.setPrototypeOf && !setSupportsSubclassing;\n      var setRequiresNew = function () {\n        try {\n          return !(globals.Set() instanceof globals.Set);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }();\n      if (globals.Set.length !== 0 || setFailsToSupportSubclassing || !setRequiresNew) {\n        var OrigSet = globals.Set;\n        globals.Set = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          var s = new OrigSet();\n          if (arguments.length > 0) {\n            addIterableToSet(Set, s, arguments[0]);\n          }\n          delete s.constructor;\n          Object.setPrototypeOf(s, Set.prototype);\n          return s;\n        };\n        globals.Set.prototype = OrigSet.prototype;\n        defineProperty(globals.Set.prototype, 'constructor', globals.Set, true);\n        Value.preserveToString(globals.Set, OrigSet);\n      }\n      var newMap = new globals.Map();\n      var mapIterationThrowsStopIterator = !valueOrFalseIfThrows(function () {\n        return newMap.keys().next().done;\n      });\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (typeof globals.Map.prototype.clear !== 'function' || new globals.Set().size !== 0 || newMap.size !== 0 || typeof globals.Map.prototype.keys !== 'function' || typeof globals.Set.prototype.keys !== 'function' || typeof globals.Map.prototype.forEach !== 'function' || typeof globals.Set.prototype.forEach !== 'function' || isCallableWithoutNew(globals.Map) || isCallableWithoutNew(globals.Set) || typeof newMap.keys().next !== 'function' // Safari 8\n      || mapIterationThrowsStopIterator // Firefox 25\n      || !mapSupportsSubclassing) {\n        defineProperties(globals, {\n          Map: collectionShims.Map,\n          Set: collectionShims.Set\n        }, true);\n      }\n      if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n        // Fixed in WebKit with https://bugs.webkit.org/show_bug.cgi?id=144190\n        defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n      }\n\n      // Shim incomplete iterator implementations.\n      addIterator(Object.getPrototypeOf(new globals.Map().keys()));\n      addIterator(Object.getPrototypeOf(new globals.Set().keys()));\n      if (functionsHaveNames && globals.Set.prototype.has.name !== 'has') {\n        // Microsoft Edge v0.11.10074.0 is missing a name on Set#has\n        var anonymousSetHas = globals.Set.prototype.has;\n        overrideNative(globals.Set.prototype, 'has', function has(key) {\n          return _call(anonymousSetHas, this, key);\n        });\n      }\n    }\n    defineProperties(globals, collectionShims);\n    addDefaultSpecies(globals.Map);\n    addDefaultSpecies(globals.Set);\n  }\n  var throwUnlessTargetIsObject = function throwUnlessTargetIsObject(target) {\n    if (!ES.TypeIsObject(target)) {\n      throw new TypeError('target must be an object');\n    }\n  };\n\n  // Some Reflect methods are basically the same as\n  // those on the Object global, except that a TypeError is thrown if\n  // target isn't an object. As well as returning a boolean indicating\n  // the success of the operation.\n  var ReflectShims = {\n    // Apply method in a functional form.\n    apply: function apply() {\n      return ES.Call(ES.Call, null, arguments);\n    },\n    // New operator in a functional form.\n    construct: function construct(constructor, args) {\n      if (!ES.IsConstructor(constructor)) {\n        throw new TypeError('First argument must be a constructor.');\n      }\n      var newTarget = arguments.length > 2 ? arguments[2] : constructor;\n      if (!ES.IsConstructor(newTarget)) {\n        throw new TypeError('new.target must be a constructor.');\n      }\n      return ES.Construct(constructor, args, newTarget, 'internal');\n    },\n    // When deleting a non-existent or configurable property,\n    // true is returned.\n    // When attempting to delete a non-configurable property,\n    // it will return false.\n    deleteProperty: function deleteProperty(target, key) {\n      throwUnlessTargetIsObject(target);\n      if (supportsDescriptors) {\n        var desc = Object.getOwnPropertyDescriptor(target, key);\n        if (desc && !desc.configurable) {\n          return false;\n        }\n      }\n\n      // Will return true.\n      return delete target[key];\n    },\n    has: function has(target, key) {\n      throwUnlessTargetIsObject(target);\n      return key in target;\n    }\n  };\n  if (Object.getOwnPropertyNames) {\n    Object.assign(ReflectShims, {\n      // Basically the result of calling the internal [[OwnPropertyKeys]].\n      // Concatenating propertyNames and propertySymbols should do the trick.\n      // This should continue to work together with a Symbol shim\n      // which overrides Object.getOwnPropertyNames and implements\n      // Object.getOwnPropertySymbols.\n      ownKeys: function ownKeys(target) {\n        throwUnlessTargetIsObject(target);\n        var keys = Object.getOwnPropertyNames(target);\n        if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n          _pushApply(keys, Object.getOwnPropertySymbols(target));\n        }\n        return keys;\n      }\n    });\n  }\n  var callAndCatchException = function ConvertExceptionToBoolean(func) {\n    return !throwsError(func);\n  };\n  if (Object.preventExtensions) {\n    Object.assign(ReflectShims, {\n      isExtensible: function isExtensible(target) {\n        throwUnlessTargetIsObject(target);\n        return Object.isExtensible(target);\n      },\n      preventExtensions: function preventExtensions(target) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          return Object.preventExtensions(target);\n        });\n      }\n    });\n  }\n  if (supportsDescriptors) {\n    var internalGet = function get(target, key, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n        if (parent === null) {\n          return void 0;\n        }\n        return internalGet(parent, key, receiver);\n      }\n      if ('value' in desc) {\n        return desc.value;\n      }\n      if (desc.get) {\n        return ES.Call(desc.get, receiver);\n      }\n      return void 0;\n    };\n    var internalSet = function set(target, key, value, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n        if (parent !== null) {\n          return internalSet(parent, key, value, receiver);\n        }\n        desc = {\n          value: void 0,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        };\n      }\n      if ('value' in desc) {\n        if (!desc.writable) {\n          return false;\n        }\n        if (!ES.TypeIsObject(receiver)) {\n          return false;\n        }\n        var existingDesc = Object.getOwnPropertyDescriptor(receiver, key);\n        if (existingDesc) {\n          return Reflect.defineProperty(receiver, key, {\n            value: value\n          });\n        }\n        return Reflect.defineProperty(receiver, key, {\n          value: value,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        });\n      }\n      if (desc.set) {\n        _call(desc.set, receiver, value);\n        return true;\n      }\n      return false;\n    };\n    Object.assign(ReflectShims, {\n      defineProperty: function defineProperty(target, propertyKey, attributes) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          return Object.defineProperty(target, propertyKey, attributes);\n        });\n      },\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n        throwUnlessTargetIsObject(target);\n        return Object.getOwnPropertyDescriptor(target, propertyKey);\n      },\n      // Syntax in a functional form.\n      get: function get(target, key) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 2 ? arguments[2] : target;\n        return internalGet(target, key, receiver);\n      },\n      set: function set(target, key, value) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 3 ? arguments[3] : target;\n        return internalSet(target, key, value, receiver);\n      }\n    });\n  }\n  if (Object.getPrototypeOf) {\n    var objectDotGetPrototypeOf = Object.getPrototypeOf;\n    ReflectShims.getPrototypeOf = function getPrototypeOf(target) {\n      throwUnlessTargetIsObject(target);\n      return objectDotGetPrototypeOf(target);\n    };\n  }\n  if (Object.setPrototypeOf && ReflectShims.getPrototypeOf) {\n    var willCreateCircularPrototype = function (object, lastProto) {\n      var proto = lastProto;\n      while (proto) {\n        if (object === proto) {\n          return true;\n        }\n        proto = ReflectShims.getPrototypeOf(proto);\n      }\n      return false;\n    };\n    Object.assign(ReflectShims, {\n      // Sets the prototype of the given object.\n      // Returns true on success, otherwise false.\n      setPrototypeOf: function setPrototypeOf(object, proto) {\n        throwUnlessTargetIsObject(object);\n        if (proto !== null && !ES.TypeIsObject(proto)) {\n          throw new TypeError('proto must be an object or null');\n        }\n\n        // If they already are the same, we're done.\n        if (proto === Reflect.getPrototypeOf(object)) {\n          return true;\n        }\n\n        // Cannot alter prototype if object not extensible.\n        if (Reflect.isExtensible && !Reflect.isExtensible(object)) {\n          return false;\n        }\n\n        // Ensure that we do not create a circular prototype chain.\n        if (willCreateCircularPrototype(object, proto)) {\n          return false;\n        }\n        Object.setPrototypeOf(object, proto);\n        return true;\n      }\n    });\n  }\n  var defineOrOverrideReflectProperty = function (key, shim) {\n    if (!ES.IsCallable(globals.Reflect[key])) {\n      defineProperty(globals.Reflect, key, shim);\n    } else {\n      var acceptsPrimitives = valueOrFalseIfThrows(function () {\n        globals.Reflect[key](1);\n        globals.Reflect[key](NaN);\n        globals.Reflect[key](true);\n        return true;\n      });\n      if (acceptsPrimitives) {\n        overrideNative(globals.Reflect, key, shim);\n      }\n    }\n  };\n  Object.keys(ReflectShims).forEach(function (key) {\n    defineOrOverrideReflectProperty(key, ReflectShims[key]);\n  });\n  var originalReflectGetProto = globals.Reflect.getPrototypeOf;\n  if (functionsHaveNames && originalReflectGetProto && originalReflectGetProto.name !== 'getPrototypeOf') {\n    overrideNative(globals.Reflect, 'getPrototypeOf', function getPrototypeOf(target) {\n      return _call(originalReflectGetProto, globals.Reflect, target);\n    });\n  }\n  if (globals.Reflect.setPrototypeOf) {\n    if (valueOrFalseIfThrows(function () {\n      globals.Reflect.setPrototypeOf(1, {});\n      return true;\n    })) {\n      overrideNative(globals.Reflect, 'setPrototypeOf', ReflectShims.setPrototypeOf);\n    }\n  }\n  if (globals.Reflect.defineProperty) {\n    if (!valueOrFalseIfThrows(function () {\n      var basic = !globals.Reflect.defineProperty(1, 'test', {\n        value: 1\n      });\n      // \"extensible\" fails on Edge 0.12\n      var extensible = typeof Object.preventExtensions !== 'function' || !globals.Reflect.defineProperty(Object.preventExtensions({}), 'test', {});\n      return basic && extensible;\n    })) {\n      overrideNative(globals.Reflect, 'defineProperty', ReflectShims.defineProperty);\n    }\n  }\n  if (globals.Reflect.construct) {\n    if (!valueOrFalseIfThrows(function () {\n      var F = function F() {};\n      return globals.Reflect.construct(function () {}, [], F) instanceof F;\n    })) {\n      overrideNative(globals.Reflect, 'construct', ReflectShims.construct);\n    }\n  }\n  if (String(new Date(NaN)) !== 'Invalid Date') {\n    var dateToString = Date.prototype.toString;\n    var shimmedDateToString = function toString() {\n      var valueOf = +this;\n      if (valueOf !== valueOf) {\n        return 'Invalid Date';\n      }\n      return ES.Call(dateToString, this);\n    };\n    overrideNative(Date.prototype, 'toString', shimmedDateToString);\n  }\n\n  // Annex B HTML methods\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-additional-properties-of-the-string.prototype-object\n  var stringHTMLshims = {\n    anchor: function anchor(name) {\n      return ES.CreateHTML(this, 'a', 'name', name);\n    },\n    big: function big() {\n      return ES.CreateHTML(this, 'big', '', '');\n    },\n    blink: function blink() {\n      return ES.CreateHTML(this, 'blink', '', '');\n    },\n    bold: function bold() {\n      return ES.CreateHTML(this, 'b', '', '');\n    },\n    fixed: function fixed() {\n      return ES.CreateHTML(this, 'tt', '', '');\n    },\n    fontcolor: function fontcolor(color) {\n      return ES.CreateHTML(this, 'font', 'color', color);\n    },\n    fontsize: function fontsize(size) {\n      return ES.CreateHTML(this, 'font', 'size', size);\n    },\n    italics: function italics() {\n      return ES.CreateHTML(this, 'i', '', '');\n    },\n    link: function link(url) {\n      return ES.CreateHTML(this, 'a', 'href', url);\n    },\n    small: function small() {\n      return ES.CreateHTML(this, 'small', '', '');\n    },\n    strike: function strike() {\n      return ES.CreateHTML(this, 'strike', '', '');\n    },\n    sub: function sub() {\n      return ES.CreateHTML(this, 'sub', '', '');\n    },\n    sup: function sub() {\n      return ES.CreateHTML(this, 'sup', '', '');\n    }\n  };\n  _forEach(Object.keys(stringHTMLshims), function (key) {\n    var method = String.prototype[key];\n    var shouldOverwrite = false;\n    if (ES.IsCallable(method)) {\n      var output = _call(method, '', ' \" ');\n      var quotesCount = _concat([], output.match(/\"/g)).length;\n      shouldOverwrite = output !== output.toLowerCase() || quotesCount > 2;\n    } else {\n      shouldOverwrite = true;\n    }\n    if (shouldOverwrite) {\n      overrideNative(String.prototype, key, stringHTMLshims[key]);\n    }\n  });\n  var JSONstringifiesSymbols = function () {\n    // Microsoft Edge v0.12 stringifies Symbols incorrectly\n    if (!hasSymbols) {\n      return false;\n    } // Symbols are not supported\n    var stringify = typeof JSON === 'object' && typeof JSON.stringify === 'function' ? JSON.stringify : null;\n    if (!stringify) {\n      return false;\n    } // JSON.stringify is not supported\n    if (typeof stringify(Symbol()) !== 'undefined') {\n      return true;\n    } // Symbols should become `undefined`\n    if (stringify([Symbol()]) !== '[null]') {\n      return true;\n    } // Symbols in arrays should become `null`\n    var obj = {\n      a: Symbol()\n    };\n    obj[Symbol()] = true;\n    if (stringify(obj) !== '{}') {\n      return true;\n    } // Symbol-valued keys *and* Symbol-valued properties should be omitted\n    return false;\n  }();\n  var JSONstringifyAcceptsObjectSymbol = valueOrFalseIfThrows(function () {\n    // Chrome 45 throws on stringifying object symbols\n    if (!hasSymbols) {\n      return true;\n    } // Symbols are not supported\n    return JSON.stringify(Object(Symbol())) === '{}' && JSON.stringify([Object(Symbol())]) === '[{}]';\n  });\n  if (JSONstringifiesSymbols || !JSONstringifyAcceptsObjectSymbol) {\n    var origStringify = JSON.stringify;\n    overrideNative(JSON, 'stringify', function stringify(value) {\n      if (typeof value === 'symbol') {\n        return;\n      }\n      var replacer;\n      if (arguments.length > 1) {\n        replacer = arguments[1];\n      }\n      var args = [value];\n      if (!isArray(replacer)) {\n        var replaceFn = ES.IsCallable(replacer) ? replacer : null;\n        var wrappedReplacer = function (key, val) {\n          var parsedValue = replaceFn ? _call(replaceFn, this, key, val) : val;\n          if (typeof parsedValue !== 'symbol') {\n            if (Type.symbol(parsedValue)) {\n              return assignTo({})(parsedValue);\n            }\n            return parsedValue;\n          }\n        };\n        args.push(wrappedReplacer);\n      } else {\n        // create wrapped replacer that handles an array replacer?\n        args.push(replacer);\n      }\n      if (arguments.length > 2) {\n        args.push(arguments[2]);\n      }\n      return origStringify.apply(this, args);\n    });\n  }\n  return globals;\n});","map":{"version":3,"names":["root","factory","define","amd","exports","module","returnExports","_apply","Function","call","bind","apply","_call","isArray","Array","keys","Object","not","notThunker","func","notThunk","arguments","throwsError","e","valueOrFalseIfThrows","isCallableWithoutNew","arePropertyDescriptorsSupported","defineProperty","get","supportsDescriptors","functionsHaveNames","foo","name","_forEach","prototype","forEach","_reduce","reduce","_filter","filter","_some","some","object","value","force","configurable","enumerable","writable","defineProperties","map","forceOverride","method","_toString","toString","isCallable","IsCallableSlow","x","IsCallableFast","Value","getter","TypeError","proxy","originalObject","key","targetObject","originalDescriptor","getOwnPropertyDescriptor","getKey","set","setKey","redefine","property","newValue","descriptor","defineByDescriptor","preserveToString","target","source","create","properties","Prototype","supportsSubclassing","C","f","setPrototypeOf","Sub","Subclass","arg","o","constructor","getGlobal","self","window","global","Error","globals","globalIsFinite","isFinite","_indexOf","String","indexOf","_arrayIndexOfApply","_concat","concat","_strSlice","slice","_push","push","_pushApply","_join","join","_shift","shift","_max","Math","max","_min","min","_floor","floor","_abs","abs","_exp","exp","_log","log","_sqrt","sqrt","_hasOwnProperty","hasOwnProperty","ArrayIterator","noop","OrigMap","Map","origMapDelete","origMapGet","origMapHas","has","origMapSet","Symbol","symbolSpecies","species","numberIsNaN","Number","isNaN","numberIsFinite","_sign","sign","number","_log1p","log1p","NaN","Infinity","isStandardArguments","isArguments","isLegacyArguments","length","callee","Type","primitive","string","regex","symbol","overrideNative","replacement","original","hasSymbols","$iterator$","iterator","Set","Reflect","$String","domAll","document","all","isNullOrUndefined","isNullOrUndefinedAndNotDocumentAll","ES","Call","F","V","args","IsCallable","RequireObjectCoercible","optMessage","TypeIsObject","ToObject","IsConstructor","ToInt32","ToNumber","ToUint32","ToInteger","ToLength","len","MAX_SAFE_INTEGER","SameValue","a","b","SameValueZero","GetIterator","itFn","GetMethod","it","p","IteratorComplete","iterResult","done","IteratorClose","completionIsThrow","returnMethod","innerResult","innerException","IteratorNext","result","next","IteratorStep","Construct","newTarget","isES6internal","construct","proto","obj","SpeciesConstructor","O","defaultConstructor","S","CreateHTML","tag","attribute","ToString","p1","escapedV","replace","p2","p3","IsRegExp","argument","isRegExp","match","defineWellKnownSymbol","sym","search","symbolSearch","originalSearch","RegExp","searchShim","regexp","searcher","symbolReplace","originalReplace","replaceValue","replaceShim","searchValue","replacer","split","symbolSplit","originalSplit","limit","splitShim","separator","splitter","symbolMatchExists","stringMatchIgnoresSymbolMatch","symbolMatch","originalMatch","matchShim","matcher","wrapConstructor","keysToSkip","getOwnPropertyNames","defaultSpeciesGetter","addDefaultSpecies","addIterator","impl","implementation","createDataProperty","createDataPropertyOrThrow","emulateES6construct","defaultNewTarget","defaultProto","slots","fromCodePoint","originalFromCodePoint","codePoints","StringShims","i","RangeError","fromCharCode","raw","template","numberOfSubstitutions","cooked","literalSegments","stringElements","nextIndex","nextKey","nextSeg","nextSub","stringRepeat","repeat","s","times","half","stringMaxLength","StringPrototypeShims","thisStr","numTimes","startsWith","searchString","searchStr","position","start","endsWith","endPosition","pos","end","includes","codePointAt","first","charCodeAt","isEnd","second","startsWithRejectsRegex","startsWithHandlesInfinity","startsWithSupportsSymbolMatch","re","endsWithSupportsSymbolMatch","includesSupportsSymbolMatch","ws","trimRegexp","trimShim","trim","nonWS","nonWSregex","isBadHexRegex","hasStringTrimBug","iteratorResult","StringIterator","_s","_i","substr","ArrayShims","from","items","mapFn","mapping","T","usingIterator","nextValue","arrayLike","of","A","k","array","kind","retval","arrayOfSupportsSubclassing","Foo","fooArr","ArrayPrototypeShims","copyWithin","relativeTarget","relativeStart","to","relativeEnd","finalItem","count","direction","fill","find","predicate","list","thisArg","findIndex","values","entries","unscopables","originalArrayPrototypeValues","searchElement","getPrototypeOf","ChromeArrayIterator","arrayFromSwallowsNegativeLengths","arrayFromHandlesIterables","arr","arrayFromHandlesUndefinedMapFunction","origArrayFrom","int32sAsOne","pow","toLengthsCorrectly","reversed","originalForEach","callbackFn","originalMap","originalFilter","originalSome","every","originalEvery","originalReduce","reduceRight","originalReduceRight","lacksOctalSupport","lacksBinarySupport","trimsNonWhitespace","c","OrigNumber","binaryRegex","octalRegex","isBinary","test","isOctal","toPrimitive","hint","valueOf","hasNonWS","isBadHex","NumberShim","primValue","parseInt","receiver","valueOfSucceeds","MAX_VALUE","MIN_VALUE","NEGATIVE_INFINITY","POSITIVE_INFINITY","maxSafeInteger","MIN_SAFE_INTEGER","EPSILON","parseFloat","isInteger","isSafeInteger","isEnumerableOn","propertyIsEnumerable","ensureEnumerable","prop","sliceArgs","initial","desiredArgCount","assignTo","assignToSource","assignReducer","sourceKeys","symbols","getOwnPropertySymbols","ObjectShims","assign","is","assignHasPendingExceptions","preventExtensions","thrower","ES5ObjectShims","checkArgs","__proto__","polyfill","FAKENULL","gpo","spo","objectKeysAcceptsPrimitives","originalObjectKeys","objectKeysRejectsRegex","regexRejectingObjectKeys","regexKeys","objectGOPNAcceptsPrimitives","cachedWindowNames","originalObjectGetOwnPropertyNames","val","objectGOPDAcceptsPrimitives","originalObjectGetOwnPropertyDescriptor","seal","objectSealAcceptsPrimitives","originalObjectSeal","isSealed","objectIsSealedAcceptsPrimitives","originalObjectIsSealed","freeze","objectFreezeAcceptsPrimitives","originalObjectFreeze","isFrozen","objectIsFrozenAcceptsPrimitives","originalObjectIsFrozen","objectPreventExtensionsAcceptsPrimitives","originalObjectPreventExtensions","isExtensible","objectIsExtensibleAcceptsPrimitives","originalObjectIsExtensible","objectGetProtoAcceptsPrimitives","originalGetProto","hasFlags","desc","regExpFlagsGetter","flags","ignoreCase","multiline","unicode","sticky","regExpSupportsFlagsWithRegex","regExpNeedsToSupportSymbolMatch","regexToStringIsGeneric","regexToStringSupportsGenericFlags","origRegExpToString","R","pattern","flagsGetter","sourceDesc","legacySourceGetter","sourceGetter","OrigRegExp","RegExpShim","patternIsRegExp","calledWithNew","P","$input","regexGlobals","input","lastMatch","lastParen","leftContext","rightContext","inverseEpsilon","roundTiesToEven","n","BINARY_32_EPSILON","BINARY_32_MAX_VALUE","BINARY_32_MIN_VALUE","E","LOG2E","LOG10E","numberCLZ","clz","MathShims","acosh","xInvSquared","halfX","asinh","aSquared","atanh","cbrt","negate","clz32","cosh","t","expm1","sum","hypot","y","largest","log2","log10","sinh","u","tanh","trunc","imul","ah","al","bh","bl","fround","v","withinULPDistance","expected","distance","expm1OfTen","origMathRound","round","roundHandlesBoundaryConditions","smallestPositiveNumberWhereRoundBreaks","largestPositiveNumberWhereRoundBreaks","roundDoesNotIncreaseIntegers","num","ceil","origImul","PromiseShim","setTimeout","IsPromise","promise","_promise","PromiseCapability","capability","resolver","resolve","reject","makeZeroTimeout","postMessage","timeouts","messageName","setZeroTimeout","fn","handleMessage","event","data","stopPropagation","addEventListener","makePromiseAsap","Promise","pr","task","then","enqueue","setImmediate","process","nextTick","PROMISE_IDENTITY","PROMISE_THROWER","PROMISE_PENDING","PROMISE_FULFILLED","PROMISE_REJECTED","PROMISE_FULFILL_OFFSET","PROMISE_REJECT_OFFSET","PROMISE_CAPABILITY_OFFSET","PROMISE_FAKE_CAPABILITY","enqueuePromiseReactionJob","handler","promiseReactionJob","promiseCapability","handlerResult","fulfillPromise","reactionLength","fulfillReactionHandler0","reactionCapability0","rejectReactions0","idx","state","rejectPromise","reason","rejectReactionHandler0","createResolvingFunctions","alreadyResolved","resolution","promiseResolveThenableJob","optimizedThen","thenable","Promise$prototype$then","resolvingFunctions","Promise$prototype","_promiseAllResolver","index","remaining","alreadyCalled","performPromiseAll","iteratorRecord","resultCapability","nextPromise","resolveElement","performPromiseRace","iterable","exception","ee","race","rejectFunc","resolveFunc","catch","onRejected","onFulfilled","returnValueIsIgnored","fulfillReactionHandler","rejectReactionHandler","accept","defer","chain","promiseSupportsSubclassing","promiseIgnoresNonFunctionThenCallbacks","promiseRequiresObjectContext","promiseResolveBroken","getsThenSynchronously","BadResolverPromise","executor","hasBadResolverPromise","origAll","origRace","origResolve","origReject","r","testOrder","preservesInsertionOrder","preservesNumericInsertionOrder","fastkey","skipInsertionOrderCheck","emptyObject","addIterableToMap","MapConstructor","entry","iter","adder","nextItem","addIterableToSet","SetConstructor","add","collectionShims","empty","MapEntry","prev","isRemoved","isMap","_es6map","requireMapSlot","MapIterator","_head","head","isMapIterator","Map$prototype","MapShim","_map","_size","_storage","fkey","delete","clear","callback","context","isSet","_es6set","requireSetSlot","Set$prototype","SetShim","decodeKey","charAt","ensureMap","m","size","hasFKey","SetIterator","entireSet","isSetIterator","isGoogleTranslate","remove","mapAcceptsArguments","testMap","mapUsesSameValueZero","mapSupportsChaining","testSet","setUsesSameValueZero","setSupportsChaining","origSetAdd","origSetHas","origSetDel","SetDelete","mapSupportsSubclassing","M","mapFailsToSupportSubclassing","mapRequiresNew","setSupportsSubclassing","setFailsToSupportSubclassing","setRequiresNew","OrigSet","newMap","mapIterationThrowsStopIterator","anonymousSetHas","throwUnlessTargetIsObject","ReflectShims","deleteProperty","ownKeys","callAndCatchException","ConvertExceptionToBoolean","internalGet","parent","internalSet","existingDesc","propertyKey","attributes","objectDotGetPrototypeOf","willCreateCircularPrototype","lastProto","defineOrOverrideReflectProperty","shim","acceptsPrimitives","originalReflectGetProto","basic","extensible","Date","dateToString","shimmedDateToString","stringHTMLshims","anchor","big","blink","bold","fixed","fontcolor","color","fontsize","italics","link","url","small","strike","sub","sup","shouldOverwrite","output","quotesCount","toLowerCase","JSONstringifiesSymbols","stringify","JSON","JSONstringifyAcceptsObjectSymbol","origStringify","replaceFn","wrappedReplacer","parsedValue"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/es6-shim/es6-shim.js"],"sourcesContent":["/*!\n * https://github.com/paulmillr/es6-shim\n * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n *   and contributors,  MIT License\n * es6-shim: v0.35.4\n * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE\n * Details and documentation:\n * https://github.com/paulmillr/es6-shim/\n */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function () {\n  'use strict';\n\n  var _apply = Function.call.bind(Function.apply);\n  var _call = Function.call.bind(Function.call);\n  var isArray = Array.isArray;\n  var keys = Object.keys;\n\n  var not = function notThunker(func) {\n    return function notThunk() {\n      return !_apply(func, this, arguments);\n    };\n  };\n  var throwsError = function (func) {\n    try {\n      func();\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  var valueOrFalseIfThrows = function valueOrFalseIfThrows(func) {\n    try {\n      return func();\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var isCallableWithoutNew = not(throwsError);\n  var arePropertyDescriptorsSupported = function () {\n    // if Object.defineProperty exists but throws, it's IE 8\n    return !throwsError(function () {\n      return Object.defineProperty({}, 'x', { get: function () { } }); // eslint-disable-line getter-return\n    });\n  };\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var functionsHaveNames = (function foo() {}).name === 'foo';\n\n  var _forEach = Function.call.bind(Array.prototype.forEach);\n  var _reduce = Function.call.bind(Array.prototype.reduce);\n  var _filter = Function.call.bind(Array.prototype.filter);\n  var _some = Function.call.bind(Array.prototype.some);\n\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) { return; }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they donâ€™t exist.\n  var defineProperties = function (object, map, forceOverride) {\n    _forEach(keys(map), function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, !!forceOverride);\n    });\n  };\n\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var isCallable = typeof /abc/ === 'function' ? function IsCallableSlow(x) {\n    // Some old browsers (IE, FF) say that typeof /abc/ === 'function'\n    return typeof x === 'function' && _toString(x) === '[object Function]';\n  } : function IsCallableFast(x) { return typeof x === 'function'; };\n\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() { return originalObject[key]; },\n        set: function setKey(value) { originalObject[key] = value; }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    },\n    defineByDescriptor: function (object, property, descriptor) {\n      if (supportsDescriptors) {\n        Object.defineProperty(object, property, descriptor);\n      } else if ('value' in descriptor) {\n        object[property] = descriptor.value;\n      }\n    },\n    preserveToString: function (target, source) {\n      if (source && isCallable(source.toString)) {\n        defineProperty(target, 'toString', source.toString.bind(source), true);\n      }\n    }\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    var Prototype = function Prototype() {};\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      keys(properties).forEach(function (key) {\n        Value.defineByDescriptor(object, key, properties[key]);\n      });\n    }\n    return object;\n  };\n\n  var supportsSubclassing = function (C, f) {\n    if (!Object.setPrototypeOf) { return false; /* skip test on IE < 11 */ }\n    return valueOrFalseIfThrows(function () {\n      var Sub = function Subclass(arg) {\n        var o = new C(arg);\n        Object.setPrototypeOf(o, Subclass.prototype);\n        return o;\n      };\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = create(C.prototype, {\n        constructor: { value: Sub }\n      });\n      return f(Sub);\n    });\n  };\n\n  var getGlobal = function () {\n    /* global self, window */\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') { return self; }\n    if (typeof window !== 'undefined') { return window; }\n    if (typeof global !== 'undefined') { return global; }\n    throw new Error('unable to locate global object');\n  };\n\n  var globals = getGlobal();\n  var globalIsFinite = globals.isFinite;\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _arrayIndexOfApply = Function.apply.bind(Array.prototype.indexOf);\n  var _concat = Function.call.bind(Array.prototype.concat);\n  // var _sort = Function.call.bind(Array.prototype.sort);\n  var _strSlice = Function.call.bind(String.prototype.slice);\n  var _push = Function.call.bind(Array.prototype.push);\n  var _pushApply = Function.apply.bind(Array.prototype.push);\n  var _join = Function.call.bind(Array.prototype.join);\n  var _shift = Function.call.bind(Array.prototype.shift);\n  var _max = Math.max;\n  var _min = Math.min;\n  var _floor = Math.floor;\n  var _abs = Math.abs;\n  var _exp = Math.exp;\n  var _log = Math.log;\n  var _sqrt = Math.sqrt;\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n\n  var OrigMap = globals.Map;\n  var origMapDelete = OrigMap && OrigMap.prototype['delete'];\n  var origMapGet = OrigMap && OrigMap.prototype.get;\n  var origMapHas = OrigMap && OrigMap.prototype.has;\n  var origMapSet = OrigMap && OrigMap.prototype.set;\n\n  var Symbol = globals.Symbol || {};\n  var symbolSpecies = Symbol.species || '@@species';\n\n  var numberIsNaN = Number.isNaN || function isNaN(value) {\n    // NaN !== NaN, but they are identical.\n    // NaNs are the only non-reflexive value, i.e., if x !== x,\n    // then x is NaN.\n    // isNaN is broken: it converts its argument to number, so\n    // isNaN('foo') => true\n    return value !== value;\n  };\n  var numberIsFinite = Number.isFinite || function isFinite(value) {\n    return typeof value === 'number' && globalIsFinite(value);\n  };\n  var _sign = isCallable(Math.sign) ? Math.sign : function sign(value) {\n    var number = Number(value);\n    if (number === 0) { return number; }\n    if (numberIsNaN(number)) { return number; }\n    return number < 0 ? -1 : 1;\n  };\n  var _log1p = function log1p(value) {\n    var x = Number(value);\n    if (x < -1 || numberIsNaN(x)) { return NaN; }\n    if (x === 0 || x === Infinity) { return x; }\n    if (x === -1) { return -Infinity; }\n\n    return (1 + x) - 1 === 0 ? x : x * (_log(1 + x) / ((1 + x) - 1));\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isStandardArguments = function isArguments(value) {\n    return _toString(value) === '[object Arguments]';\n  };\n  var isLegacyArguments = function isArguments(value) {\n    return value !== null\n      && typeof value === 'object'\n      && typeof value.length === 'number'\n      && value.length >= 0\n      && _toString(value) !== '[object Array]'\n      && _toString(value.callee) === '[object Function]';\n  };\n  var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n\n  var Type = {\n    primitive: function (x) { return x === null || (typeof x !== 'function' && typeof x !== 'object'); },\n    string: function (x) { return _toString(x) === '[object String]'; },\n    regex: function (x) { return _toString(x) === '[object RegExp]'; },\n    symbol: function (x) {\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n    }\n  };\n\n  var overrideNative = function overrideNative(object, property, replacement) {\n    var original = object[property];\n    defineProperty(object, property, replacement, true);\n    Value.preserveToString(object[property], original);\n  };\n\n  // eslint-disable-next-line no-restricted-properties\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' && Type.symbol(Symbol());\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n\n  // Reflect\n  if (!globals.Reflect) {\n    defineProperty(globals, 'Reflect', {}, true);\n  }\n  var Reflect = globals.Reflect;\n\n  var $String = String;\n\n  /* global document */\n  var domAll = (typeof document === 'undefined' || !document) ? null : document.all;\n  var isNullOrUndefined = domAll == null ? function isNullOrUndefined(x) {\n    return x == null;\n  } : function isNullOrUndefinedAndNotDocumentAll(x) {\n    return x == null && x !== domAll;\n  };\n\n  var ES = {\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-call\n    Call: function Call(F, V) {\n      var args = arguments.length > 2 ? arguments[2] : [];\n      if (!ES.IsCallable(F)) {\n        throw new TypeError(F + ' is not a function');\n      }\n      return _apply(F, V, args);\n    },\n\n    RequireObjectCoercible: function (x, optMessage) {\n      if (isNullOrUndefined(x)) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n\n    // This might miss the \"(non-standard exotic and does not implement\n    // [[Call]])\" case from\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-typeof-operator-runtime-semantics-evaluation\n    // but we can't find any evidence these objects exist in practice.\n    // If we find some in the future, you could test `Object(x) === x`,\n    // which is reliable according to\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toobject\n    // but is not well optimized by runtimes and creates an object\n    // whenever it returns false, and thus is very slow.\n    TypeIsObject: function (x) {\n      if (x === void 0 || x === null || x === true || x === false) {\n        return false;\n      }\n      return typeof x === 'function' || typeof x === 'object' || x === domAll;\n    },\n\n    ToObject: function (o, optMessage) {\n      return Object(ES.RequireObjectCoercible(o, optMessage));\n    },\n\n    IsCallable: isCallable,\n\n    IsConstructor: function (x) {\n      // We can't tell callables from constructors in ES5\n      return ES.IsCallable(x);\n    },\n\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n\n    ToNumber: function (value) {\n      if (hasSymbols && _toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (numberIsNaN(number)) { return 0; }\n      if (number === 0 || !numberIsFinite(number)) { return number; }\n      return (number > 0 ? 1 : -1) * _floor(_abs(number));\n    },\n\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) { return 0; } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n      return len;\n    },\n\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) { return 1 / a === 1 / b; }\n        return true;\n      }\n      return numberIsNaN(a) && numberIsNaN(b);\n    },\n\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return (a === b) || (numberIsNaN(a) && numberIsNaN(b));\n    },\n\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = ES.GetMethod(o, $iterator$);\n      if (!ES.IsCallable(itFn)) {\n        // Better diagnostics if itFn is null or undefined\n        throw new TypeError('value is not an iterable');\n      }\n      var it = ES.Call(itFn, o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n\n    GetMethod: function (o, p) {\n      var func = ES.ToObject(o)[p];\n      if (isNullOrUndefined(func)) {\n        return void 0;\n      }\n      if (!ES.IsCallable(func)) {\n        throw new TypeError('Method not callable: ' + p);\n      }\n      return func;\n    },\n\n    IteratorComplete: function (iterResult) {\n      return !!iterResult.done;\n    },\n\n    IteratorClose: function (iterator, completionIsThrow) {\n      var returnMethod = ES.GetMethod(iterator, 'return');\n      if (returnMethod === void 0) {\n        return;\n      }\n      var innerResult, innerException;\n      try {\n        innerResult = ES.Call(returnMethod, iterator);\n      } catch (e) {\n        innerException = e;\n      }\n      if (completionIsThrow) {\n        return;\n      }\n      if (innerException) {\n        throw innerException;\n      }\n      if (!ES.TypeIsObject(innerResult)) {\n        throw new TypeError(\"Iterator's return method returned a non-object.\");\n      }\n    },\n\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n\n    IteratorStep: function (it) {\n      var result = ES.IteratorNext(it);\n      var done = ES.IteratorComplete(result);\n      return done ? false : result;\n    },\n\n    Construct: function (C, args, newTarget, isES6internal) {\n      var target = typeof newTarget === 'undefined' ? C : newTarget;\n\n      if (!isES6internal && Reflect.construct) {\n        // Try to use Reflect.construct if available\n        return Reflect.construct(C, args, target);\n      }\n      // OK, we have to fake it.  This will only work if the\n      // C.[[ConstructorKind]] == \"base\" -- but that's the only\n      // kind we can make in ES5 code anyway.\n\n      // OrdinaryCreateFromConstructor(target, \"%ObjectPrototype%\")\n      var proto = target.prototype;\n      if (!ES.TypeIsObject(proto)) {\n        proto = Object.prototype;\n      }\n      var obj = create(proto);\n      // Call the constructor.\n      var result = ES.Call(C, obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    },\n\n    SpeciesConstructor: function (O, defaultConstructor) {\n      var C = O.constructor;\n      if (C === void 0) {\n        return defaultConstructor;\n      }\n      if (!ES.TypeIsObject(C)) {\n        throw new TypeError('Bad constructor');\n      }\n      var S = C[symbolSpecies];\n      if (isNullOrUndefined(S)) {\n        return defaultConstructor;\n      }\n      if (!ES.IsConstructor(S)) {\n        throw new TypeError('Bad @@species');\n      }\n      return S;\n    },\n\n    CreateHTML: function (string, tag, attribute, value) {\n      var S = ES.ToString(string);\n      var p1 = '<' + tag;\n      if (attribute !== '') {\n        var V = ES.ToString(value);\n        var escapedV = V.replace(/\"/g, '&quot;');\n        p1 += ' ' + attribute + '=\"' + escapedV + '\"';\n      }\n      var p2 = p1 + '>';\n      var p3 = p2 + S;\n      return p3 + '</' + tag + '>';\n    },\n\n    IsRegExp: function IsRegExp(argument) {\n      if (!ES.TypeIsObject(argument)) {\n        return false;\n      }\n      var isRegExp = argument[Symbol.match];\n      if (typeof isRegExp !== 'undefined') {\n        return !!isRegExp;\n      }\n      return Type.regex(argument);\n    },\n\n    ToString: function ToString(string) {\n      if (hasSymbols && _toString(string) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return $String(string);\n    }\n  };\n\n  // Well-known Symbol shims\n  if (supportsDescriptors && hasSymbols) {\n    var defineWellKnownSymbol = function defineWellKnownSymbol(name) {\n      if (Type.symbol(Symbol[name])) {\n        return Symbol[name];\n      }\n      // eslint-disable-next-line no-restricted-properties\n      var sym = Symbol['for']('Symbol.' + name);\n      Object.defineProperty(Symbol, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: sym\n      });\n      return sym;\n    };\n    if (!Type.symbol(Symbol.search)) {\n      var symbolSearch = defineWellKnownSymbol('search');\n      var originalSearch = String.prototype.search;\n      defineProperty(RegExp.prototype, symbolSearch, function search(string) {\n        return ES.Call(originalSearch, string, [this]);\n      });\n      var searchShim = function search(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var searcher = ES.GetMethod(regexp, symbolSearch);\n          if (typeof searcher !== 'undefined') {\n            return ES.Call(searcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalSearch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'search', searchShim);\n    }\n    if (!Type.symbol(Symbol.replace)) {\n      var symbolReplace = defineWellKnownSymbol('replace');\n      var originalReplace = String.prototype.replace;\n      defineProperty(RegExp.prototype, symbolReplace, function replace(string, replaceValue) {\n        return ES.Call(originalReplace, string, [this, replaceValue]);\n      });\n      var replaceShim = function replace(searchValue, replaceValue) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(searchValue)) {\n          var replacer = ES.GetMethod(searchValue, symbolReplace);\n          if (typeof replacer !== 'undefined') {\n            return ES.Call(replacer, searchValue, [O, replaceValue]);\n          }\n        }\n        return ES.Call(originalReplace, O, [ES.ToString(searchValue), replaceValue]);\n      };\n      overrideNative(String.prototype, 'replace', replaceShim);\n    }\n    if (!Type.symbol(Symbol.split)) {\n      var symbolSplit = defineWellKnownSymbol('split');\n      var originalSplit = String.prototype.split;\n      defineProperty(RegExp.prototype, symbolSplit, function split(string, limit) {\n        return ES.Call(originalSplit, string, [this, limit]);\n      });\n      var splitShim = function split(separator, limit) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(separator)) {\n          var splitter = ES.GetMethod(separator, symbolSplit);\n          if (typeof splitter !== 'undefined') {\n            return ES.Call(splitter, separator, [O, limit]);\n          }\n        }\n        return ES.Call(originalSplit, O, [ES.ToString(separator), limit]);\n      };\n      overrideNative(String.prototype, 'split', splitShim);\n    }\n    var symbolMatchExists = Type.symbol(Symbol.match);\n    var stringMatchIgnoresSymbolMatch = symbolMatchExists && (function () {\n      // Firefox 41, through Nightly 45 has Symbol.match, but String#match ignores it.\n      // Firefox 40 and below have Symbol.match but String#match works fine.\n      var o = {};\n      o[Symbol.match] = function () { return 42; };\n      return 'a'.match(o) !== 42;\n    }());\n    if (!symbolMatchExists || stringMatchIgnoresSymbolMatch) {\n      var symbolMatch = defineWellKnownSymbol('match');\n\n      var originalMatch = String.prototype.match;\n      defineProperty(RegExp.prototype, symbolMatch, function match(string) {\n        return ES.Call(originalMatch, string, [this]);\n      });\n\n      var matchShim = function match(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var matcher = ES.GetMethod(regexp, symbolMatch);\n          if (typeof matcher !== 'undefined') {\n            return ES.Call(matcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalMatch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'match', matchShim);\n    }\n  }\n\n  var wrapConstructor = function wrapConstructor(original, replacement, keysToSkip) {\n    Value.preserveToString(replacement, original);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(original, replacement);\n    }\n    if (supportsDescriptors) {\n      _forEach(Object.getOwnPropertyNames(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        Value.proxy(original, key, replacement);\n      });\n    } else {\n      _forEach(Object.keys(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        replacement[key] = original[key];\n      });\n    }\n    replacement.prototype = original.prototype;\n    Value.redefine(original.prototype, 'constructor', replacement);\n  };\n\n  var defaultSpeciesGetter = function () { return this; };\n  var addDefaultSpecies = function (C) {\n    if (supportsDescriptors && !_hasOwnProperty(C, symbolSpecies)) {\n      Value.getter(C, symbolSpecies, defaultSpeciesGetter);\n    }\n  };\n\n  var addIterator = function (prototype, impl) {\n    var implementation = impl || function iterator() { return this; };\n    defineProperty(prototype, $iterator$, implementation);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = implementation;\n    }\n  };\n\n  var createDataProperty = function createDataProperty(object, name, value) {\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  var createDataPropertyOrThrow = function createDataPropertyOrThrow(object, name, value) {\n    createDataProperty(object, name, value);\n    if (!ES.SameValue(object[name], value)) {\n      throw new TypeError('property is nonconfigurable');\n    }\n  };\n\n  var emulateES6construct = function (o, defaultNewTarget, defaultProto, slots) {\n    // This is an es5 approximation to es6 construct semantics.  in es6,\n    // 'new Foo' invokes Foo.[[Construct]] which (for almost all objects)\n    // just sets the internal variable NewTarget (in es6 syntax `new.target`)\n    // to Foo and then returns Foo().\n\n    // Many ES6 object then have constructors of the form:\n    // 1. If NewTarget is undefined, throw a TypeError exception\n    // 2. Let xxx by OrdinaryCreateFromConstructor(NewTarget, yyy, zzz)\n\n    // So we're going to emulate those first two steps.\n    if (!ES.TypeIsObject(o)) {\n      throw new TypeError('Constructor requires `new`: ' + defaultNewTarget.name);\n    }\n    var proto = defaultNewTarget.prototype;\n    if (!ES.TypeIsObject(proto)) {\n      proto = defaultProto;\n    }\n    var obj = create(proto);\n    for (var name in slots) {\n      if (_hasOwnProperty(slots, name)) {\n        var value = slots[name];\n        defineProperty(obj, name, value, true);\n      }\n    }\n    return obj;\n  };\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint && String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = String.fromCodePoint;\n    overrideNative(String, 'fromCodePoint', function fromCodePoint(codePoints) {\n      return ES.Call(originalFromCodePoint, this, arguments);\n    });\n  }\n\n  var StringShims = {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n\n        if (next < 0x10000) {\n          _push(result, String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          _push(result, String.fromCharCode((next >> 10) + 0xD800));\n          _push(result, String.fromCharCode((next % 0x400) + 0xDC00));\n        }\n      }\n      return _join(result, '');\n    },\n\n    raw: function raw(template) {\n      var numberOfSubstitutions = arguments.length - 1;\n      var cooked = ES.ToObject(template, 'bad template');\n      var raw = ES.ToObject(cooked.raw, 'bad raw value');\n      var len = raw.length;\n      var literalSegments = ES.ToLength(len);\n      if (literalSegments <= 0) {\n        return '';\n      }\n\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalSegments) {\n        nextKey = ES.ToString(nextIndex);\n        nextSeg = ES.ToString(raw[nextKey]);\n        _push(stringElements, nextSeg);\n        if (nextIndex + 1 >= literalSegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = ES.ToString(next);\n        _push(stringElements, nextSub);\n        nextIndex += 1;\n      }\n      return _join(stringElements, '');\n    }\n  };\n  if (String.raw && String.raw({ raw: { 0: 'x', 1: 'y', length: 2 } }) !== 'xy') {\n    // IE 11 TP has a broken String.raw implementation\n    overrideNative(String, 'raw', StringShims.raw);\n  }\n  defineProperties(String, StringShims);\n\n  // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n  // Perf: http://jsperf.com/string-repeat2/2\n  var stringRepeat = function repeat(s, times) {\n    if (times < 1) { return ''; }\n    if (times % 2) { return repeat(s, times - 1) + s; }\n    var half = repeat(s, times / 2);\n    return half + half;\n  };\n  var stringMaxLength = Infinity;\n\n  var StringPrototypeShims = {\n    repeat: function repeat(times) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var numTimes = ES.ToInteger(times);\n      if (numTimes < 0 || numTimes >= stringMaxLength) {\n        throw new RangeError('repeat count must be less than infinity and not overflow maximum string size');\n      }\n      return stringRepeat(thisStr, numTimes);\n    },\n\n    startsWith: function startsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      var start = _max(ES.ToInteger(position), 0);\n      return _strSlice(S, start, start + searchStr.length) === searchStr;\n    },\n\n    endsWith: function endsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var len = S.length;\n      var endPosition;\n      if (arguments.length > 1) {\n        endPosition = arguments[1];\n      }\n      var pos = typeof endPosition === 'undefined' ? len : ES.ToInteger(endPosition);\n      var end = _min(_max(pos, 0), len);\n      return _strSlice(S, end - searchStr.length, end) === searchStr;\n    },\n\n    includes: function includes(searchString) {\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('\"includes\" does not accept a RegExp');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchStr, position) !== -1;\n    },\n\n    codePointAt: function codePointAt(pos) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = position + 1 === length;\n        if (first < 0xD800 || first > 0xDBFF || isEnd) { return first; }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) { return first; }\n        return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  if (String.prototype.includes && 'a'.includes('a', Infinity) !== false) {\n    overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n  }\n\n  if (String.prototype.startsWith && String.prototype.endsWith) {\n    var startsWithRejectsRegex = throwsError(function () {\n      /* throws if spec-compliant */\n      return '/a/'.startsWith(/a/);\n    });\n    var startsWithHandlesInfinity = valueOrFalseIfThrows(function () {\n      return 'abc'.startsWith('a', Infinity) === false;\n    });\n    if (!startsWithRejectsRegex || !startsWithHandlesInfinity) {\n      // Firefox (< 37?) and IE 11 TP have a noncompliant startsWith implementation\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n  }\n  if (hasSymbols) {\n    var startsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.startsWith(re);\n    });\n    if (!startsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n    }\n    var endsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.endsWith(re);\n    });\n    if (!endsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n    var includesSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.includes(re);\n    });\n    if (!includesSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n    }\n  }\n\n  defineProperties(String.prototype, StringPrototypeShims);\n\n  // whitespace from: http://es5.github.io/#x15.5.4.20\n  // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n  var ws = [\n    '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n    '\\u2029\\uFEFF'\n  ].join('');\n  var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n  var trimShim = function trim() {\n    return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp, '');\n  };\n  var nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\n  var nonWSregex = new RegExp('[' + nonWS + ']', 'g');\n  var isBadHexRegex = /^[-+]0x[0-9a-f]+$/i;\n  var hasStringTrimBug = nonWS.trim().length !== nonWS.length;\n  defineProperty(String.prototype, 'trim', trimShim, hasStringTrimBug);\n\n  // Given an argument x, it will return an IteratorResult object,\n  // with value set to x and done to false.\n  // Given no arguments, it will return an iterator completion object.\n  var iteratorResult = function (x) {\n    return { value: x, done: arguments.length === 0 };\n  };\n\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    ES.RequireObjectCoercible(s);\n    defineProperty(this, '_s', ES.ToString(s));\n    defineProperty(this, '_i', 0);\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s;\n    var i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return iteratorResult();\n    }\n    var first = s.charCodeAt(i);\n    var second, len;\n    if (first < 0xD800 || first > 0xDBFF || (i + 1) === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = (second < 0xDC00 || second > 0xDFFF) ? 1 : 2;\n    }\n    this._i = i + len;\n    return iteratorResult(s.substr(i, len));\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n\n  var ArrayShims = {\n    from: function from(items) {\n      var C = this;\n      var mapFn;\n      if (arguments.length > 1) {\n        mapFn = arguments[1];\n      }\n      var mapping, T;\n      if (typeof mapFn === 'undefined') {\n        mapping = false;\n      } else {\n        if (!ES.IsCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n        mapping = true;\n      }\n\n      // Note that that Arrays will use ArrayIterator:\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      var usingIterator = typeof (isArguments(items) || ES.GetMethod(items, $iterator$)) !== 'undefined';\n\n      var length, result, i;\n      if (usingIterator) {\n        result = ES.IsConstructor(C) ? Object(new C()) : [];\n        var iterator = ES.GetIterator(items);\n        var next, nextValue;\n\n        i = 0;\n        while (true) {\n          next = ES.IteratorStep(iterator);\n          if (next === false) {\n            break;\n          }\n          nextValue = next.value;\n          try {\n            if (mapping) {\n              nextValue = typeof T === 'undefined' ? mapFn(nextValue, i) : _call(mapFn, T, nextValue, i);\n            }\n            result[i] = nextValue;\n          } catch (e) {\n            ES.IteratorClose(iterator, true);\n            throw e;\n          }\n          i += 1;\n        }\n        length = i;\n      } else {\n        var arrayLike = ES.ToObject(items);\n        length = ES.ToLength(arrayLike.length);\n        result = ES.IsConstructor(C) ? Object(new C(length)) : new Array(length);\n        var value;\n        for (i = 0; i < length; ++i) {\n          value = arrayLike[i];\n          if (mapping) {\n            value = typeof T === 'undefined' ? mapFn(value, i) : _call(mapFn, T, value, i);\n          }\n          createDataPropertyOrThrow(result, i, value);\n        }\n      }\n\n      result.length = length;\n      return result;\n    },\n\n    of: function of() {\n      var len = arguments.length;\n      var C = this;\n      var A = isArray(C) || !ES.IsCallable(C) ? new Array(len) : ES.Construct(C, [len]);\n      for (var k = 0; k < len; ++k) {\n        createDataPropertyOrThrow(A, k, arguments[k]);\n      }\n      A.length = len;\n      return A;\n    }\n  };\n  defineProperties(Array, ArrayShims);\n  addDefaultSpecies(Array);\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n    defineProperty(this, 'i', 0);\n    defineProperty(this, 'array', array);\n    defineProperty(this, 'kind', kind);\n  };\n\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i;\n      var array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        if (i < len) {\n        //for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return iteratorResult(retval);\n        }\n      }\n      this.array = void 0;\n      return iteratorResult();\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n  /*\n  var orderKeys = function orderKeys(a, b) {\n    var aNumeric = String(ES.ToInteger(a)) === a;\n    var bNumeric = String(ES.ToInteger(b)) === b;\n    if (aNumeric && bNumeric) {\n      return b - a;\n    } else if (aNumeric && !bNumeric) {\n      return -1;\n    } else if (!aNumeric && bNumeric) {\n      return 1;\n    } else {\n      return a.localeCompare(b);\n    }\n  };\n\n  var getAllKeys = function getAllKeys(object) {\n    var ownKeys = [];\n    var keys = [];\n\n    for (var key in object) {\n      _push(_hasOwnProperty(object, key) ? ownKeys : keys, key);\n    }\n    _sort(ownKeys, orderKeys);\n    _sort(keys, orderKeys);\n\n    return _concat(ownKeys, keys);\n  };\n  */\n\n  // note: this is positioned here because it depends on ArrayIterator\n  var arrayOfSupportsSubclassing = Array.of === ArrayShims.of || (function () {\n    // Detects a bug in Webkit nightly r181886\n    var Foo = function Foo(len) { this.length = len; };\n    Foo.prototype = [];\n    var fooArr = Array.of.apply(Foo, [1, 2]);\n    return fooArr instanceof Foo && fooArr.length === 2;\n  }());\n  if (!arrayOfSupportsSubclassing) {\n    overrideNative(Array, 'of', ArrayShims.of);\n  }\n\n  var ArrayPrototypeShims = {\n    copyWithin: function copyWithin(target, start) {\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      var relativeTarget = ES.ToInteger(target);\n      var relativeStart = ES.ToInteger(start);\n      var to = relativeTarget < 0 ? _max(len + relativeTarget, 0) : _min(relativeTarget, len);\n      var from = relativeStart < 0 ? _max(len + relativeStart, 0) : _min(relativeStart, len);\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var relativeEnd = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var finalItem = relativeEnd < 0 ? _max(len + relativeEnd, 0) : _min(relativeEnd, len);\n      var count = _min(finalItem - from, len - to);\n      var direction = 1;\n      if (from < to && to < (from + count)) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (from in o) {\n          o[to] = o[from];\n        } else {\n          delete o[to];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n\n    fill: function fill(value) {\n      var start;\n      if (arguments.length > 1) {\n        start = arguments[1];\n      }\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n\n      var relativeStart = start < 0 ? _max(len + start, 0) : _min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (_call(predicate, thisArg, value, i, list)) {\n            return value;\n          }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (_call(predicate, thisArg, list[i], i, list)) {\n            return i;\n          }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    keys: function keys() {\n      return new ArrayIterator(this, 'key');\n    },\n\n    values: function values() {\n      return new ArrayIterator(this, 'value');\n    },\n\n    entries: function entries() {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  // Chrome 40 defines Array#values with the incorrect name, although Array#{keys,entries} have the correct name\n  if (functionsHaveNames && Array.prototype.values && Array.prototype.values.name !== 'values') {\n    var originalArrayPrototypeValues = Array.prototype.values;\n    overrideNative(Array.prototype, 'values', function values() { return ES.Call(originalArrayPrototypeValues, this, arguments); });\n    defineProperty(Array.prototype, $iterator$, Array.prototype.values, true);\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n\n  if (1 / [true].indexOf(true, -0) < 0) {\n    // indexOf when given a position arg of -0 should return +0.\n    // https://github.com/tc39/ecma262/pull/316\n    defineProperty(Array.prototype, 'indexOf', function indexOf(searchElement) {\n      var value = _arrayIndexOfApply(this, arguments);\n      if (value === 0 && (1 / value) < 0) {\n        return 0;\n      }\n      return value;\n    }, true);\n  }\n\n  addIterator(Array.prototype, function () { return this.values(); });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    var ChromeArrayIterator = Object.getPrototypeOf([].values());\n    if (ChromeArrayIterator) { // in WSH, this is `undefined`\n      addIterator(ChromeArrayIterator);\n    }\n  }\n\n  // note: this is positioned here because it relies on Array#entries\n  var arrayFromSwallowsNegativeLengths = (function () {\n    // Detects a Firefox bug in v32\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n    return valueOrFalseIfThrows(function () {\n      return Array.from({ length: -1 }).length === 0;\n    });\n  }());\n  var arrayFromHandlesIterables = (function () {\n    // Detects a bug in Webkit nightly r181886\n    var arr = Array.from([0].entries());\n    return arr.length === 1 && isArray(arr[0]) && arr[0][0] === 0 && arr[0][1] === 0;\n  }());\n  if (!arrayFromSwallowsNegativeLengths || !arrayFromHandlesIterables) {\n    overrideNative(Array, 'from', ArrayShims.from);\n  }\n  var arrayFromHandlesUndefinedMapFunction = (function () {\n    // Microsoft Edge v0.11 throws if the mapFn argument is *provided* but undefined,\n    // but the spec doesn't care if it's provided or not - undefined doesn't throw.\n    return valueOrFalseIfThrows(function () {\n      return Array.from([0], void 0);\n    });\n  }());\n  if (!arrayFromHandlesUndefinedMapFunction) {\n    var origArrayFrom = Array.from;\n    overrideNative(Array, 'from', function from(items) {\n      if (arguments.length > 1 && typeof arguments[1] !== 'undefined') {\n        return ES.Call(origArrayFrom, this, arguments);\n      }\n      return _call(origArrayFrom, this, items);\n\n    });\n  }\n\n  var int32sAsOne = -(Math.pow(2, 32) - 1);\n  var toLengthsCorrectly = function (method, reversed) {\n    var obj = { length: int32sAsOne };\n    obj[reversed ? (obj.length >>> 0) - 1 : 0] = true;\n    return valueOrFalseIfThrows(function () {\n      _call(method, obj, function () {\n        // note: in nonconforming browsers, this will be called\n        // -1 >>> 0 times, which is 4294967295, so the throw matters.\n        throw new RangeError('should not reach here');\n      }, []);\n      return true;\n    });\n  };\n  if (!toLengthsCorrectly(Array.prototype.forEach)) {\n    var originalForEach = Array.prototype.forEach;\n    overrideNative(Array.prototype, 'forEach', function forEach(callbackFn) {\n      return ES.Call(originalForEach, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.map)) {\n    var originalMap = Array.prototype.map;\n    overrideNative(Array.prototype, 'map', function map(callbackFn) {\n      return ES.Call(originalMap, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.filter)) {\n    var originalFilter = Array.prototype.filter;\n    overrideNative(Array.prototype, 'filter', function filter(callbackFn) {\n      return ES.Call(originalFilter, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.some)) {\n    var originalSome = Array.prototype.some;\n    overrideNative(Array.prototype, 'some', function some(callbackFn) {\n      return ES.Call(originalSome, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.every)) {\n    var originalEvery = Array.prototype.every;\n    overrideNative(Array.prototype, 'every', function every(callbackFn) {\n      return ES.Call(originalEvery, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduce)) {\n    var originalReduce = Array.prototype.reduce;\n    overrideNative(Array.prototype, 'reduce', function reduce(callbackFn) {\n      return ES.Call(originalReduce, this.length >= 0 ? this : [], arguments);\n    });\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduceRight, true)) {\n    var originalReduceRight = Array.prototype.reduceRight;\n    overrideNative(Array.prototype, 'reduceRight', function reduceRight(callbackFn) {\n      return ES.Call(originalReduceRight, this.length >= 0 ? this : [], arguments);\n    });\n  }\n\n  var lacksOctalSupport = Number('0o10') !== 8;\n  var lacksBinarySupport = Number('0b10') !== 2;\n  var trimsNonWhitespace = _some(nonWS, function (c) {\n    return Number(c + 0 + c) === 0;\n  });\n  if (lacksOctalSupport || lacksBinarySupport || trimsNonWhitespace) {\n    var OrigNumber = Number;\n    var binaryRegex = /^0b[01]+$/i;\n    var octalRegex = /^0o[0-7]+$/i;\n    // Note that in IE 8, RegExp.prototype.test doesn't seem to exist: ie, \"test\" is an own property of regexes. wtf.\n    var isBinary = binaryRegex.test.bind(binaryRegex);\n    var isOctal = octalRegex.test.bind(octalRegex);\n    var toPrimitive = function (O, hint) { // need to replace this with `es-to-primitive/es6`\n      var result;\n      if (typeof O.valueOf === 'function') {\n        result = O.valueOf();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      if (typeof O.toString === 'function') {\n        result = O.toString();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      throw new TypeError('No default value');\n    };\n    var hasNonWS = nonWSregex.test.bind(nonWSregex);\n    var isBadHex = isBadHexRegex.test.bind(isBadHexRegex);\n    var NumberShim = (function () {\n      // this is wrapped in an IIFE because of IE 6-8's wacky scoping issues with named function expressions.\n      var NumberShim = function Number(value) {\n        var primValue;\n        if (arguments.length > 0) {\n          primValue = Type.primitive(value) ? value : toPrimitive(value, 'number');\n        } else {\n          primValue = 0;\n        }\n        if (typeof primValue === 'string') {\n          primValue = ES.Call(trimShim, primValue);\n          if (isBinary(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 2);\n          } else if (isOctal(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 8);\n          } else if (hasNonWS(primValue) || isBadHex(primValue)) {\n            primValue = NaN;\n          }\n        }\n        var receiver = this;\n        var valueOfSucceeds = valueOrFalseIfThrows(function () {\n          OrigNumber.prototype.valueOf.call(receiver);\n          return true;\n        });\n        if (receiver instanceof NumberShim && !valueOfSucceeds) {\n          return new OrigNumber(primValue);\n        }\n        return OrigNumber(primValue);\n      };\n      return NumberShim;\n    }());\n    wrapConstructor(OrigNumber, NumberShim, {});\n    // this is necessary for ES3 browsers, where these properties are non-enumerable.\n    defineProperties(NumberShim, {\n      NaN: OrigNumber.NaN,\n      MAX_VALUE: OrigNumber.MAX_VALUE,\n      MIN_VALUE: OrigNumber.MIN_VALUE,\n      NEGATIVE_INFINITY: OrigNumber.NEGATIVE_INFINITY,\n      POSITIVE_INFINITY: OrigNumber.POSITIVE_INFINITY\n    });\n    Number = NumberShim; // eslint-disable-line no-global-assign\n    Value.redefine(globals, 'Number', NumberShim);\n  }\n\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n\n    isFinite: numberIsFinite,\n\n    isInteger: function isInteger(value) {\n      return numberIsFinite(value) && ES.ToInteger(value) === value;\n    },\n\n    isSafeInteger: function isSafeInteger(value) {\n      return Number.isInteger(value) && _abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n\n    isNaN: numberIsNaN\n  });\n  // Firefox 37 has a conforming Number.parseInt, but it's not === to the global parseInt (fixed in v40)\n  defineProperty(Number, 'parseInt', globals.parseInt, Number.parseInt !== globals.parseInt);\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  /* eslint-disable no-sparse-arrays */\n  if ([, 1].find(function () { return true; }) === 1) {\n    overrideNative(Array.prototype, 'find', ArrayPrototypeShims.find);\n  }\n  if ([, 1].findIndex(function () { return true; }) !== 0) {\n    overrideNative(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex);\n  }\n  /* eslint-enable no-sparse-arrays */\n\n  var isEnumerableOn = Function.bind.call(Function.bind, Object.prototype.propertyIsEnumerable);\n  var ensureEnumerable = function ensureEnumerable(obj, prop) {\n    if (supportsDescriptors && isEnumerableOn(obj, prop)) {\n      Object.defineProperty(obj, prop, { enumerable: false });\n    }\n  };\n  var sliceArgs = function sliceArgs() {\n    // per https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    // and https://gist.github.com/WebReflection/4327762cb87a8c634a29\n    var initial = Number(this);\n    var len = arguments.length;\n    var desiredArgCount = len - initial;\n    var args = new Array(desiredArgCount < 0 ? 0 : desiredArgCount);\n    for (var i = initial; i < len; ++i) {\n      args[i - initial] = arguments[i];\n    }\n    return args;\n  };\n  var assignTo = function assignTo(source) {\n    return function assignToSource(target, key) {\n      target[key] = source[key];\n      return target;\n    };\n  };\n  var assignReducer = function (target, source) {\n    var sourceKeys = keys(Object(source));\n    var symbols;\n    if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n      symbols = _filter(Object.getOwnPropertySymbols(Object(source)), isEnumerableOn(source));\n    }\n    return _reduce(_concat(sourceKeys, symbols || []), assignTo(source), target);\n  };\n\n  var ObjectShims = {\n    // 19.1.3.1\n    assign: function (target, source) {\n      var to = ES.ToObject(target, 'Cannot convert undefined or null to object');\n      return _reduce(ES.Call(sliceArgs, 1, arguments), assignReducer, to);\n    },\n\n    // Added in WebKit in https://bugs.webkit.org/show_bug.cgi?id=143865\n    is: function is(a, b) {\n      return ES.SameValue(a, b);\n    }\n  };\n  var assignHasPendingExceptions = Object.assign && Object.preventExtensions && (function () {\n    // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n    // which is 72% slower than our shim, and Firefox 40's native implementation.\n    var thrower = Object.preventExtensions({ 1: 2 });\n    try {\n      Object.assign(thrower, 'xy');\n    } catch (e) {\n      return thrower[1] === 'y';\n    }\n  }());\n  if (assignHasPendingExceptions) {\n    overrideNative(Object, 'assign', ObjectShims.assign);\n  }\n  defineProperties(Object, ObjectShims);\n\n  if (supportsDescriptors) {\n    var ES5ObjectShims = {\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: (function (Object) {\n        var set;\n\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          _call(set, O, proto);\n          return O;\n        };\n\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n          _call(set, {}, null);\n        } catch (e) {\n          if (Object.prototype !== ({}).__proto__) { // eslint-disable-line no-proto\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this.__proto__ = proto; // eslint-disable-line no-proto\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(\n            setPrototypeOf({}, null),\n            Object.prototype\n          ) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object))\n    };\n\n    defineProperties(Object, ES5ObjectShims);\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (\n    Object.setPrototypeOf\n    && Object.getPrototypeOf\n    && Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null\n    && Object.getPrototypeOf(Object.create(null)) === null\n  ) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf;\n      var spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        var proto = p === null ? FAKENULL : p;\n        return spo(o, proto);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    }());\n  }\n\n  var objectKeysAcceptsPrimitives = !throwsError(function () { return Object.keys('foo'); });\n  if (!objectKeysAcceptsPrimitives) {\n    var originalObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      return originalObjectKeys(ES.ToObject(value));\n    });\n    keys = Object.keys;\n  }\n  var objectKeysRejectsRegex = throwsError(function () { return Object.keys(/a/g); });\n  if (objectKeysRejectsRegex) {\n    var regexRejectingObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      if (Type.regex(value)) {\n        var regexKeys = [];\n        for (var k in value) {\n          if (_hasOwnProperty(value, k)) {\n            _push(regexKeys, k);\n          }\n        }\n        return regexKeys;\n      }\n      return regexRejectingObjectKeys(value);\n    });\n    keys = Object.keys;\n  }\n\n  if (Object.getOwnPropertyNames) {\n    var objectGOPNAcceptsPrimitives = !throwsError(function () { return Object.getOwnPropertyNames('foo'); });\n    if (!objectGOPNAcceptsPrimitives) {\n      var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];\n      var originalObjectGetOwnPropertyNames = Object.getOwnPropertyNames;\n      overrideNative(Object, 'getOwnPropertyNames', function getOwnPropertyNames(value) {\n        var val = ES.ToObject(value);\n        if (_toString(val) === '[object Window]') {\n          try {\n            return originalObjectGetOwnPropertyNames(val);\n          } catch (e) {\n            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects\n            return _concat([], cachedWindowNames);\n          }\n        }\n        return originalObjectGetOwnPropertyNames(val);\n      });\n    }\n  }\n  if (Object.getOwnPropertyDescriptor) {\n    var objectGOPDAcceptsPrimitives = !throwsError(function () { return Object.getOwnPropertyDescriptor('foo', 'bar'); });\n    if (!objectGOPDAcceptsPrimitives) {\n      var originalObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n      overrideNative(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(value, property) {\n        return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value), property);\n      });\n    }\n  }\n  if (Object.seal) {\n    var objectSealAcceptsPrimitives = !throwsError(function () { return Object.seal('foo'); });\n    if (!objectSealAcceptsPrimitives) {\n      var originalObjectSeal = Object.seal;\n      overrideNative(Object, 'seal', function seal(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectSeal(value);\n      });\n    }\n  }\n  if (Object.isSealed) {\n    var objectIsSealedAcceptsPrimitives = !throwsError(function () { return Object.isSealed('foo'); });\n    if (!objectIsSealedAcceptsPrimitives) {\n      var originalObjectIsSealed = Object.isSealed;\n      overrideNative(Object, 'isSealed', function isSealed(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsSealed(value);\n      });\n    }\n  }\n  if (Object.freeze) {\n    var objectFreezeAcceptsPrimitives = !throwsError(function () { return Object.freeze('foo'); });\n    if (!objectFreezeAcceptsPrimitives) {\n      var originalObjectFreeze = Object.freeze;\n      overrideNative(Object, 'freeze', function freeze(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectFreeze(value);\n      });\n    }\n  }\n  if (Object.isFrozen) {\n    var objectIsFrozenAcceptsPrimitives = !throwsError(function () { return Object.isFrozen('foo'); });\n    if (!objectIsFrozenAcceptsPrimitives) {\n      var originalObjectIsFrozen = Object.isFrozen;\n      overrideNative(Object, 'isFrozen', function isFrozen(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsFrozen(value);\n      });\n    }\n  }\n  if (Object.preventExtensions) {\n    var objectPreventExtensionsAcceptsPrimitives = !throwsError(function () { return Object.preventExtensions('foo'); });\n    if (!objectPreventExtensionsAcceptsPrimitives) {\n      var originalObjectPreventExtensions = Object.preventExtensions;\n      overrideNative(Object, 'preventExtensions', function preventExtensions(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectPreventExtensions(value);\n      });\n    }\n  }\n  if (Object.isExtensible) {\n    var objectIsExtensibleAcceptsPrimitives = !throwsError(function () { return Object.isExtensible('foo'); });\n    if (!objectIsExtensibleAcceptsPrimitives) {\n      var originalObjectIsExtensible = Object.isExtensible;\n      overrideNative(Object, 'isExtensible', function isExtensible(value) {\n        if (!ES.TypeIsObject(value)) { return false; }\n        return originalObjectIsExtensible(value);\n      });\n    }\n  }\n  if (Object.getPrototypeOf) {\n    var objectGetProtoAcceptsPrimitives = !throwsError(function () { return Object.getPrototypeOf('foo'); });\n    if (!objectGetProtoAcceptsPrimitives) {\n      var originalGetProto = Object.getPrototypeOf;\n      overrideNative(Object, 'getPrototypeOf', function getPrototypeOf(value) {\n        return originalGetProto(ES.ToObject(value));\n      });\n    }\n  }\n\n  var hasFlags = supportsDescriptors && (function () {\n    var desc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags');\n    return desc && ES.IsCallable(desc.get);\n  }());\n  if (supportsDescriptors && !hasFlags) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n\n  var regExpSupportsFlagsWithRegex = supportsDescriptors && valueOrFalseIfThrows(function () {\n    return String(new RegExp(/a/g, 'i')) === '/a/i';\n  });\n  var regExpNeedsToSupportSymbolMatch = hasSymbols && supportsDescriptors && (function () {\n    // Edge 0.12 supports flags fully, but does not support Symbol.match\n    var regex = /./;\n    regex[Symbol.match] = false;\n    return RegExp(regex) === regex;\n  }());\n\n  var regexToStringIsGeneric = valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'abc' }) === '/abc/';\n  });\n  var regexToStringSupportsGenericFlags = regexToStringIsGeneric && valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'a', flags: 'b' }) === '/a/b';\n  });\n  if (!regexToStringIsGeneric || !regexToStringSupportsGenericFlags) {\n    var origRegExpToString = RegExp.prototype.toString;\n    defineProperty(RegExp.prototype, 'toString', function toString() {\n      var R = ES.RequireObjectCoercible(this);\n      if (Type.regex(R)) {\n        return _call(origRegExpToString, R);\n      }\n      var pattern = $String(R.source);\n      var flags = $String(R.flags);\n      return '/' + pattern + '/' + flags;\n    }, true);\n    Value.preserveToString(RegExp.prototype.toString, origRegExpToString);\n    RegExp.prototype.toString.prototype = void 0;\n  }\n\n  if (supportsDescriptors && (!regExpSupportsFlagsWithRegex || regExpNeedsToSupportSymbolMatch)) {\n    var flagsGetter = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get;\n    var sourceDesc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'source') || {};\n    var legacySourceGetter = function () {\n      // prior to it being a getter, it's own + nonconfigurable\n      return this.source;\n    };\n    var sourceGetter = ES.IsCallable(sourceDesc.get) ? sourceDesc.get : legacySourceGetter;\n\n    var OrigRegExp = RegExp;\n    var RegExpShim = (function () {\n      return function RegExp(pattern, flags) {\n        var patternIsRegExp = ES.IsRegExp(pattern);\n        var calledWithNew = this instanceof RegExp;\n        if (!calledWithNew && patternIsRegExp && typeof flags === 'undefined' && pattern.constructor === RegExp) {\n          return pattern;\n        }\n\n        var P = pattern;\n        var F = flags;\n        if (Type.regex(pattern)) {\n          P = ES.Call(sourceGetter, pattern);\n          F = typeof flags === 'undefined' ? ES.Call(flagsGetter, pattern) : flags;\n          return new RegExp(P, F);\n        } else if (patternIsRegExp) {\n          P = pattern.source;\n          F = typeof flags === 'undefined' ? pattern.flags : flags;\n        }\n        return new OrigRegExp(pattern, flags);\n      };\n    }());\n    wrapConstructor(OrigRegExp, RegExpShim, {\n      $input: true // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n    });\n    RegExp = RegExpShim; // eslint-disable-line no-global-assign\n    Value.redefine(globals, 'RegExp', RegExpShim);\n  }\n\n  if (supportsDescriptors) {\n    var regexGlobals = {\n      input: '$_',\n      lastMatch: '$&',\n      lastParen: '$+',\n      leftContext: '$`',\n      rightContext: '$\\''\n    };\n    _forEach(keys(regexGlobals), function (prop) {\n      if (prop in RegExp && !(regexGlobals[prop] in RegExp)) {\n        Value.getter(RegExp, regexGlobals[prop], function get() {\n          return RegExp[prop];\n        });\n      }\n    });\n  }\n  addDefaultSpecies(RegExp);\n\n  var inverseEpsilon = 1 / Number.EPSILON;\n  var roundTiesToEven = function roundTiesToEven(n) {\n    // Even though this reduces down to `return n`, it takes advantage of built-in rounding.\n    return (n + inverseEpsilon) - inverseEpsilon;\n  };\n  var BINARY_32_EPSILON = Math.pow(2, -23);\n  var BINARY_32_MAX_VALUE = Math.pow(2, 127) * (2 - BINARY_32_EPSILON);\n  var BINARY_32_MIN_VALUE = Math.pow(2, -126);\n  var E = Math.E;\n  var LOG2E = Math.LOG2E;\n  var LOG10E = Math.LOG10E;\n  var numberCLZ = Number.prototype.clz;\n  delete Number.prototype.clz; // Safari 8 has Number#clz\n\n  var MathShims = {\n    acosh: function acosh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || value < 1) { return NaN; }\n      if (x === 1) { return 0; }\n      if (x === Infinity) { return x; }\n\n      var xInvSquared = 1 / (x * x);\n      if (x < 2) {\n        return _log1p(x - 1 + (_sqrt(1 - xInvSquared) * x));\n      }\n      var halfX = x / 2;\n      return _log1p(halfX + (_sqrt(1 - xInvSquared) * halfX) - 1) + (1 / LOG2E);\n    },\n\n    asinh: function asinh(value) {\n      var x = Number(value);\n      if (x === 0 || !globalIsFinite(x)) {\n        return x;\n      }\n\n      var a = _abs(x);\n      var aSquared = a * a;\n      var s = _sign(x);\n      if (a < 1) {\n        return s * _log1p(a + (aSquared / (_sqrt(aSquared + 1) + 1)));\n      }\n      return s * (_log1p((a / 2) + (_sqrt(1 + (1 / aSquared)) * a / 2) - 1) + (1 / LOG2E));\n    },\n\n    atanh: function atanh(value) {\n      var x = Number(value);\n\n      if (x === 0) { return x; }\n      if (x === -1) { return -Infinity; }\n      if (x === 1) { return Infinity; }\n      if (numberIsNaN(x) || x < -1 || x > 1) {\n        return NaN;\n      }\n\n      var a = _abs(x);\n      return _sign(x) * _log1p(2 * a / (1 - a)) / 2;\n    },\n\n    cbrt: function cbrt(value) {\n      var x = Number(value);\n      if (x === 0) { return x; }\n      var negate = x < 0;\n      var result;\n      if (negate) { x = -x; }\n      if (x === Infinity) {\n        result = Infinity;\n      } else {\n        result = _exp(_log(x) / 3);\n        // from http://en.wikipedia.org/wiki/Cube_root#Numerical_methods\n        result = ((x / (result * result)) + (2 * result)) / 3;\n      }\n      return negate ? -result : result;\n    },\n\n    clz32: function clz32(value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      var x = Number(value);\n      var number = ES.ToUint32(x);\n      if (number === 0) {\n        return 32;\n      }\n      return numberCLZ ? ES.Call(numberCLZ, number) : 31 - _floor(_log(number + 0.5) * LOG2E);\n    },\n\n    cosh: function cosh(value) {\n      var x = Number(value);\n      if (x === 0) { return 1; } // +0 or -0\n      if (numberIsNaN(x)) { return NaN; }\n      if (!globalIsFinite(x)) { return Infinity; }\n\n      var t = _exp(_abs(x) - 1);\n      return (t + (1 / (t * E * E))) * (E / 2);\n    },\n\n    expm1: function expm1(value) {\n      var x = Number(value);\n      if (x === -Infinity) { return -1; }\n      if (!globalIsFinite(x) || x === 0) { return x; }\n      if (_abs(x) > 0.5) {\n        return _exp(x) - 1;\n      }\n      // A more precise approximation using Taylor series expansion\n      // from https://github.com/paulmillr/es6-shim/issues/314#issuecomment-70293986\n      var t = x;\n      var sum = 0;\n      var n = 1;\n      while (sum + t !== sum) {\n        sum += t;\n        n += 1;\n        t *= x / n;\n      }\n      return sum;\n    },\n\n    hypot: function hypot(x, y) {\n      var result = 0;\n      var largest = 0;\n      for (var i = 0; i < arguments.length; ++i) {\n        var value = _abs(Number(arguments[i]));\n        if (largest < value) {\n          result *= (largest / value) * (largest / value);\n          result += 1;\n          largest = value;\n        } else {\n          result += value > 0 ? (value / largest) * (value / largest) : value;\n        }\n      }\n      return largest === Infinity ? Infinity : largest * _sqrt(result);\n    },\n\n    log2: function log2(value) {\n      return _log(value) * LOG2E;\n    },\n\n    log10: function log10(value) {\n      return _log(value) * LOG10E;\n    },\n\n    log1p: _log1p,\n\n    sign: _sign,\n\n    sinh: function sinh(value) {\n      var x = Number(value);\n      if (!globalIsFinite(x) || x === 0) { return x; }\n\n      var a = _abs(x);\n      if (a < 1) {\n        var u = Math.expm1(a);\n        return _sign(x) * u * (1 + (1 / (u + 1))) / 2;\n      }\n      var t = _exp(a - 1);\n      return _sign(x) * (t - (1 / (t * E * E))) * (E / 2);\n    },\n\n    tanh: function tanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x === 0) { return x; }\n      // can exit early at +-20 as JS loses precision for true value at this integer\n      if (x >= 20) { return 1; }\n      if (x <= -20) { return -1; }\n\n      return (Math.expm1(x) - Math.expm1(-x)) / (_exp(x) + _exp(-x));\n    },\n\n    trunc: function trunc(value) {\n      var x = Number(value);\n      return x < 0 ? -_floor(-x) : _floor(x);\n    },\n\n    imul: function imul(x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      var a = ES.ToUint32(x);\n      var b = ES.ToUint32(y);\n      var ah = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return (al * bl) + ((((ah * bl) + (al * bh)) << 16) >>> 0) | 0;\n    },\n\n    fround: function fround(x) {\n      var v = Number(x);\n      if (v === 0 || v === Infinity || v === -Infinity || numberIsNaN(v)) {\n        return v;\n      }\n      var sign = _sign(v);\n      var abs = _abs(v);\n      if (abs < BINARY_32_MIN_VALUE) {\n        return sign * roundTiesToEven(abs / BINARY_32_MIN_VALUE / BINARY_32_EPSILON) * BINARY_32_MIN_VALUE * BINARY_32_EPSILON;\n      }\n      // Veltkamp's splitting (?)\n      var a = (1 + (BINARY_32_EPSILON / Number.EPSILON)) * abs;\n      var result = a - (a - abs);\n      if (result > BINARY_32_MAX_VALUE || numberIsNaN(result)) {\n        return sign * Infinity;\n      }\n      return sign * result;\n    }\n  };\n\n  var withinULPDistance = function withinULPDistance(result, expected, distance) {\n    return _abs(1 - (result / expected)) / Number.EPSILON < (distance || 8);\n  };\n\n  defineProperties(Math, MathShims);\n  // Chrome < 40 sinh returns âˆž for large numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(710) === Infinity);\n  // Chrome < 40 cosh returns âˆž for large numbers\n  defineProperty(Math, 'cosh', MathShims.cosh, Math.cosh(710) === Infinity);\n  // IE 11 TP has an imprecise log1p: reports Math.log1p(-1e-17) as 0\n  defineProperty(Math, 'log1p', MathShims.log1p, Math.log1p(-1e-17) !== -1e-17);\n  // IE 11 TP has an imprecise asinh: reports Math.asinh(-1e7) as not exactly equal to -Math.asinh(1e7)\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(-1e7) !== -Math.asinh(1e7));\n  // Chrome < 54 asinh returns âˆž for large numbers and should not\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(1e+300) === Infinity);\n  // Chrome < 54 atanh incorrectly returns 0 for large numbers\n  defineProperty(Math, 'atanh', MathShims.atanh, Math.atanh(1e-300) === 0);\n  // Chrome 40 has an imprecise Math.tanh with very small numbers\n  defineProperty(Math, 'tanh', MathShims.tanh, Math.tanh(-2e-17) !== -2e-17);\n  // Chrome 40 loses Math.acosh precision with high numbers\n  defineProperty(Math, 'acosh', MathShims.acosh, Math.acosh(Number.MAX_VALUE) === Infinity);\n  // Chrome < 54 has an inaccurate acosh for EPSILON deltas\n  defineProperty(Math, 'acosh', MathShims.acosh, !withinULPDistance(Math.acosh(1 + Number.EPSILON), Math.sqrt(2 * Number.EPSILON)));\n  // Firefox 38 on Windows\n  defineProperty(Math, 'cbrt', MathShims.cbrt, !withinULPDistance(Math.cbrt(1e-300), 1e-100));\n  // node 0.11 has an imprecise Math.sinh with very small numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(-2e-17) !== -2e-17);\n  // FF 35 on Linux reports 22025.465794806725 for Math.expm1(10)\n  var expm1OfTen = Math.expm1(10);\n  defineProperty(Math, 'expm1', MathShims.expm1, expm1OfTen > 22025.465794806719 || expm1OfTen < 22025.4657948067165168);\n  // node v12.11 - v12.15 report NaN\n  defineProperty(Math, 'hypot', MathShims.hypot, Math.hypot(Infinity, NaN) !== Infinity);\n\n  var origMathRound = Math.round;\n  // breaks in e.g. Safari 8, Internet Explorer 11, Opera 12\n  var roundHandlesBoundaryConditions = Math.round(0.5 - (Number.EPSILON / 4)) === 0\n    && Math.round(-0.5 + (Number.EPSILON / 3.99)) === 1;\n\n  // When engines use Math.floor(x + 0.5) internally, Math.round can be buggy for large integers.\n  // This behavior should be governed by \"round to nearest, ties to even mode\"\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-terms-and-definitions-number-type\n  // These are the boundary cases where it breaks.\n  var smallestPositiveNumberWhereRoundBreaks = inverseEpsilon + 1;\n  var largestPositiveNumberWhereRoundBreaks = (2 * inverseEpsilon) - 1;\n  var roundDoesNotIncreaseIntegers = [\n    smallestPositiveNumberWhereRoundBreaks,\n    largestPositiveNumberWhereRoundBreaks\n  ].every(function (num) {\n    return Math.round(num) === num;\n  });\n  defineProperty(Math, 'round', function round(x) {\n    var floor = _floor(x);\n    var ceil = floor === -1 ? -0 : floor + 1;\n    return x - floor < 0.5 ? floor : ceil;\n  }, !roundHandlesBoundaryConditions || !roundDoesNotIncreaseIntegers);\n  Value.preserveToString(Math.round, origMathRound);\n\n  var origImul = Math.imul;\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n    Value.preserveToString(Math.imul, origImul);\n  }\n  if (Math.imul.length !== 2) {\n    // Safari 8.0.4 has a length of 1\n    // fixed in https://bugs.webkit.org/show_bug.cgi?id=143658\n    overrideNative(Math, 'imul', function imul(x, y) {\n      return ES.Call(origImul, Math, arguments);\n    });\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = (function () {\n    var setTimeout = globals.setTimeout;\n    // some environments don't have setTimeout - no way to shim here.\n    if (typeof setTimeout !== 'function' && typeof setTimeout !== 'object') { return; }\n\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (typeof promise._promise === 'undefined') {\n        return false; // uninitialized, or missing our hidden field.\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsConstructor(C)) {\n        throw new TypeError('Bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        if (capability.resolve !== void 0 || capability.reject !== void 0) {\n          throw new TypeError('Bad Promise implementation!');\n        }\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      // Initialize fields to inform optimizers about the object shape.\n      capability.resolve = void 0;\n      capability.reject = void 0;\n      capability.promise = new C(resolver);\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('Bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var makeZeroTimeout;\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          _push(timeouts, fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) { return; }\n            var fn = _shift(timeouts);\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      var pr = P && P.resolve && P.resolve();\n      return pr && function (task) {\n        return pr.then(task);\n      };\n    };\n    var enqueue = ES.IsCallable(globals.setImmediate)\n      ? globals.setImmediate\n      : (\n        typeof process === 'object' && process.nextTick\n          ? process.nextTick\n          : makePromiseAsap() || (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() : function (task) { setTimeout(task, 0); })\n      ); // fallback\n\n    // Constants for Promise implementation\n    var PROMISE_IDENTITY = function (x) { return x; };\n    var PROMISE_THROWER = function (e) { throw e; };\n    var PROMISE_PENDING = 0;\n    var PROMISE_FULFILLED = 1;\n    var PROMISE_REJECTED = 2;\n    // We store fulfill/reject handlers and capabilities in a single array.\n    var PROMISE_FULFILL_OFFSET = 0;\n    var PROMISE_REJECT_OFFSET = 1;\n    var PROMISE_CAPABILITY_OFFSET = 2;\n    // This is used in an optimization for chaining promises via then.\n    var PROMISE_FAKE_CAPABILITY = {};\n\n    var enqueuePromiseReactionJob = function (handler, capability, argument) {\n      enqueue(function () {\n        promiseReactionJob(handler, capability, argument);\n      });\n    };\n\n    var promiseReactionJob = function (handler, promiseCapability, argument) {\n      var handlerResult, f;\n      if (promiseCapability === PROMISE_FAKE_CAPABILITY) {\n        // Fast case, when we don't actually need to chain through to a\n        // (real) promiseCapability.\n        return handler(argument);\n      }\n      try {\n        handlerResult = handler(argument);\n        f = promiseCapability.resolve;\n      } catch (e) {\n        handlerResult = e;\n        f = promiseCapability.reject;\n      }\n      f(handlerResult);\n    };\n\n    var fulfillPromise = function (promise, value) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.fulfillReactionHandler0,\n          _promise.reactionCapability0,\n          value\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_FULFILL_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              value\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = value;\n      _promise.state = PROMISE_FULFILLED;\n      _promise.reactionLength = 0;\n    };\n\n    var rejectPromise = function (promise, reason) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.rejectReactionHandler0,\n          _promise.reactionCapability0,\n          reason\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_REJECT_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              reason\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = reason;\n      _promise.state = PROMISE_REJECTED;\n      _promise.reactionLength = 0;\n    };\n\n    var createResolvingFunctions = function (promise) {\n      var alreadyResolved = false;\n      var resolve = function (resolution) {\n        var then;\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        if (resolution === promise) {\n          return rejectPromise(promise, new TypeError('Self resolution'));\n        }\n        if (!ES.TypeIsObject(resolution)) {\n          return fulfillPromise(promise, resolution);\n        }\n        try {\n          then = resolution.then;\n        } catch (e) {\n          return rejectPromise(promise, e);\n        }\n        if (!ES.IsCallable(then)) {\n          return fulfillPromise(promise, resolution);\n        }\n        enqueue(function () {\n          promiseResolveThenableJob(promise, resolution, then);\n        });\n      };\n      var reject = function (reason) {\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        return rejectPromise(promise, reason);\n      };\n      return { resolve: resolve, reject: reject };\n    };\n\n    var optimizedThen = function (then, thenable, resolve, reject) {\n      // Optimization: since we discard the result, we can pass our\n      // own then implementation a special hint to let it know it\n      // doesn't have to create it.  (The PROMISE_FAKE_CAPABILITY\n      // object is local to this implementation and unforgeable outside.)\n      if (then === Promise$prototype$then) {\n        _call(then, thenable, resolve, reject, PROMISE_FAKE_CAPABILITY);\n      } else {\n        _call(then, thenable, resolve, reject);\n      }\n    };\n    var promiseResolveThenableJob = function (promise, thenable, then) {\n      var resolvingFunctions = createResolvingFunctions(promise);\n      var resolve = resolvingFunctions.resolve;\n      var reject = resolvingFunctions.reject;\n      try {\n        optimizedThen(then, thenable, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var Promise$prototype, Promise$prototype$then;\n    var Promise = (function () {\n      var PromiseShim = function Promise(resolver) {\n        if (!(this instanceof PromiseShim)) {\n          throw new TypeError('Constructor Promise requires \"new\"');\n        }\n        if (this && this._promise) {\n          throw new TypeError('Bad construction');\n        }\n        // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n        if (!ES.IsCallable(resolver)) {\n          throw new TypeError('not a valid resolver');\n        }\n        var promise = emulateES6construct(this, PromiseShim, Promise$prototype, {\n          _promise: {\n            result: void 0,\n            state: PROMISE_PENDING,\n            // The first member of the \"reactions\" array is inlined here,\n            // since most promises only have one reaction.\n            // We've also exploded the 'reaction' object to inline the\n            // \"handler\" and \"capability\" fields, since both fulfill and\n            // reject reactions share the same capability.\n            reactionLength: 0,\n            fulfillReactionHandler0: void 0,\n            rejectReactionHandler0: void 0,\n            reactionCapability0: void 0\n          }\n        });\n        var resolvingFunctions = createResolvingFunctions(promise);\n        var reject = resolvingFunctions.reject;\n        try {\n          resolver(resolvingFunctions.resolve, reject);\n        } catch (e) {\n          reject(e);\n        }\n        return promise;\n      };\n      return PromiseShim;\n    }());\n    Promise$prototype = Promise.prototype;\n\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var alreadyCalled = false;\n      return function (x) {\n        if (alreadyCalled) { return; }\n        alreadyCalled = true;\n        values[index] = x;\n        if ((--remaining.count) === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n\n    var performPromiseAll = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var values = [];\n      var remaining = { count: 1 };\n      var next, nextValue;\n      var index = 0;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        values[index] = void 0;\n        var nextPromise = C.resolve(nextValue);\n        var resolveElement = _promiseAllResolver(\n          index,\n          values,\n          resultCapability,\n          remaining\n        );\n        remaining.count += 1;\n        optimizedThen(nextPromise.then, nextPromise, resolveElement, resultCapability.reject);\n        index += 1;\n      }\n      if ((--remaining.count) === 0) {\n        var resolve = resultCapability.resolve;\n        resolve(values); // call w/ this===undefined\n      }\n      return resultCapability.promise;\n    };\n\n    var performPromiseRace = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var next, nextValue, nextPromise;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            // NOTE: If iterable has no items, resulting promise will never\n            // resolve; see:\n            // https://github.com/domenic/promises-unwrapping/issues/75\n            // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        nextPromise = C.resolve(nextValue);\n        optimizedThen(nextPromise.then, nextPromise, resultCapability.resolve, resultCapability.reject);\n      }\n      return resultCapability.promise;\n    };\n\n    defineProperties(Promise, {\n      all: function all(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseAll(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      race: function race(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseRace(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      reject: function reject(reason) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        var capability = new PromiseCapability(C);\n        var rejectFunc = capability.reject;\n        rejectFunc(reason); // call with this===undefined\n        return capability.promise;\n      },\n\n      resolve: function resolve(v) {\n        // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        if (ES.IsPromise(v)) {\n          var constructor = v.constructor;\n          if (constructor === C) {\n            return v;\n          }\n        }\n        var capability = new PromiseCapability(C);\n        var resolveFunc = capability.resolve;\n        resolveFunc(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(null, onRejected);\n      },\n\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) { throw new TypeError('not a promise'); }\n        var C = ES.SpeciesConstructor(promise, Promise);\n        var resultCapability;\n        var returnValueIsIgnored = arguments.length > 2 && arguments[2] === PROMISE_FAKE_CAPABILITY;\n        if (returnValueIsIgnored && C === Promise) {\n          resultCapability = PROMISE_FAKE_CAPABILITY;\n        } else {\n          resultCapability = new PromiseCapability(C);\n        }\n        // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n        // Note that we've split the 'reaction' object into its two\n        // components, \"capabilities\" and \"handler\"\n        // \"capabilities\" is always equal to `resultCapability`\n        var fulfillReactionHandler = ES.IsCallable(onFulfilled) ? onFulfilled : PROMISE_IDENTITY;\n        var rejectReactionHandler = ES.IsCallable(onRejected) ? onRejected : PROMISE_THROWER;\n        var _promise = promise._promise;\n        var value;\n        if (_promise.state === PROMISE_PENDING) {\n          if (_promise.reactionLength === 0) {\n            _promise.fulfillReactionHandler0 = fulfillReactionHandler;\n            _promise.rejectReactionHandler0 = rejectReactionHandler;\n            _promise.reactionCapability0 = resultCapability;\n          } else {\n            var idx = 3 * (_promise.reactionLength - 1);\n            _promise[idx + PROMISE_FULFILL_OFFSET] = fulfillReactionHandler;\n            _promise[idx + PROMISE_REJECT_OFFSET] = rejectReactionHandler;\n            _promise[idx + PROMISE_CAPABILITY_OFFSET] = resultCapability;\n          }\n          _promise.reactionLength += 1;\n        } else if (_promise.state === PROMISE_FULFILLED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            fulfillReactionHandler,\n            resultCapability,\n            value\n          );\n        } else if (_promise.state === PROMISE_REJECTED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            rejectReactionHandler,\n            resultCapability,\n            value\n          );\n        } else {\n          throw new TypeError('unexpected Promise state');\n        }\n        return resultCapability.promise;\n      }\n    });\n    // This helps the optimizer by ensuring that methods which take\n    // capabilities aren't polymorphic.\n    PROMISE_FAKE_CAPABILITY = new PromiseCapability(Promise);\n    Promise$prototype$then = Promise$prototype.then;\n\n    return Promise;\n  }());\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  if (typeof PromiseShim === 'function') {\n    // export the Promise constructor.\n    defineProperties(globals, { Promise: PromiseShim });\n    // In Chrome 33 (and thereabouts) Promise is defined, but the\n    // implementation is buggy in a number of ways.  Let's check subclassing\n    // support to see if we have a buggy implementation.\n    var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n      return S.resolve(42).then(function () {}) instanceof S;\n    });\n    var promiseIgnoresNonFunctionThenCallbacks = !throwsError(function () {\n      return globals.Promise.reject(42).then(null, 5).then(null, noop);\n    });\n    var promiseRequiresObjectContext = throwsError(function () { return globals.Promise.call(3, noop); });\n    // Promise.resolve() was errata'ed late in the ES6 process.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1170742\n    //      https://code.google.com/p/v8/issues/detail?id=4161\n    // It serves as a proxy for a number of other bugs in early Promise\n    // implementations.\n    var promiseResolveBroken = (function (Promise) {\n      var p = Promise.resolve(5);\n      p.constructor = {};\n      var p2 = Promise.resolve(p);\n      try {\n        p2.then(null, noop).then(null, noop); // avoid \"uncaught rejection\" warnings in console\n      } catch (e) {\n        return true; // v8 native Promises break here https://code.google.com/p/chromium/issues/detail?id=575314\n      }\n      return p === p2; // This *should* be false!\n    }(globals.Promise));\n\n    // Chrome 46 (probably older too) does not retrieve a thenable's .then synchronously\n    var getsThenSynchronously = supportsDescriptors && (function () {\n      var count = 0;\n      // eslint-disable-next-line getter-return\n      var thenable = Object.defineProperty({}, 'then', { get: function () { count += 1; } });\n      Promise.resolve(thenable);\n      return count === 1;\n    }());\n\n    var BadResolverPromise = function BadResolverPromise(executor) {\n      var p = new Promise(executor);\n      executor(3, function () {});\n      this.then = p.then;\n      this.constructor = BadResolverPromise;\n    };\n    BadResolverPromise.prototype = Promise.prototype;\n    BadResolverPromise.all = Promise.all;\n    // Chrome Canary 49 (probably older too) has some implementation bugs\n    var hasBadResolverPromise = valueOrFalseIfThrows(function () {\n      return !!BadResolverPromise.all([1, 2]);\n    });\n\n    if (\n      !promiseSupportsSubclassing\n      || !promiseIgnoresNonFunctionThenCallbacks\n      || !promiseRequiresObjectContext\n      || promiseResolveBroken\n      || !getsThenSynchronously\n      || hasBadResolverPromise\n    ) {\n      Promise = PromiseShim; // eslint-disable-line no-global-assign\n      overrideNative(globals, 'Promise', PromiseShim);\n    }\n    if (Promise.all.length !== 1) {\n      var origAll = Promise.all;\n      overrideNative(Promise, 'all', function all(iterable) {\n        return ES.Call(origAll, this, arguments);\n      });\n    }\n    if (Promise.race.length !== 1) {\n      var origRace = Promise.race;\n      overrideNative(Promise, 'race', function race(iterable) {\n        return ES.Call(origRace, this, arguments);\n      });\n    }\n    if (Promise.resolve.length !== 1) {\n      var origResolve = Promise.resolve;\n      overrideNative(Promise, 'resolve', function resolve(x) {\n        return ES.Call(origResolve, this, arguments);\n      });\n    }\n    if (Promise.reject.length !== 1) {\n      var origReject = Promise.reject;\n      overrideNative(Promise, 'reject', function reject(r) {\n        return ES.Call(origReject, this, arguments);\n      });\n    }\n    ensureEnumerable(Promise, 'all');\n    ensureEnumerable(Promise, 'race');\n    ensureEnumerable(Promise, 'resolve');\n    ensureEnumerable(Promise, 'reject');\n    addDefaultSpecies(Promise);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = keys(_reduce(a, function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n\n  if (supportsDescriptors) {\n\n    var fastkey = function fastkey(key, skipInsertionOrderCheck) {\n      if (!skipInsertionOrderCheck && !preservesInsertionOrder) {\n        return null;\n      }\n      if (isNullOrUndefined(key)) {\n        return '^' + ES.ToString(key);\n      } else if (typeof key === 'string') {\n        return '$' + key;\n      } else if (typeof key === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      } else if (typeof key === 'boolean') {\n        return 'b' + key;\n      }\n      return null;\n    };\n\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n\n    var addIterableToMap = function addIterableToMap(MapConstructor, map, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (entry) {\n          if (!ES.TypeIsObject(entry)) {\n            throw new TypeError('Iterator value ' + entry + ' is not an entry object');\n          }\n          map.set(entry[0], entry[1]);\n        });\n      } else if (iterable instanceof MapConstructor) {\n        _call(MapConstructor.prototype.forEach, iterable, function (value, key) {\n          map.set(key, value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = map.set;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad map'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextItem = next.value;\n            try {\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');\n              }\n              _call(adder, map, nextItem[0], nextItem[1]);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n    var addIterableToSet = function addIterableToSet(SetConstructor, set, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (value) {\n          set.add(value);\n        });\n      } else if (iterable instanceof SetConstructor) {\n        _call(SetConstructor.prototype.forEach, iterable, function (value) {\n          set.add(value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = set.add;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad set'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextValue = next.value;\n            try {\n              _call(adder, set, nextValue);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n\n    var collectionShims = {\n      Map: (function () {\n\n        var empty = {};\n\n        var MapEntry = function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        };\n\n        MapEntry.prototype.isRemoved = function isRemoved() {\n          return this.key === empty;\n        };\n\n        var isMap = function isMap(map) {\n          return !!map._es6map;\n        };\n\n        var requireMapSlot = function requireMapSlot(map, method) {\n          if (!ES.TypeIsObject(map) || !isMap(map)) {\n            throw new TypeError('Method Map.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(map));\n          }\n        };\n\n        var MapIterator = function MapIterator(map, kind) {\n          requireMapSlot(map, '[[MapIterator]]');\n          defineProperty(this, 'head', map._head);\n          defineProperty(this, 'i', this.head);\n          defineProperty(this, 'kind', kind);\n        };\n\n        MapIterator.prototype = {\n          isMapIterator: true,\n          next: function next() {\n            if (!this.isMapIterator) {\n              throw new TypeError('Not a MapIterator');\n            }\n            var i = this.i;\n            var kind = this.kind;\n            var head = this.head;\n            if (typeof this.i === 'undefined') {\n              return iteratorResult();\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            var result;\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return iteratorResult(result);\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return iteratorResult();\n          }\n        };\n        addIterator(MapIterator.prototype);\n\n        var Map$prototype;\n        var MapShim = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          if (this && this._es6map) {\n            throw new TypeError('Bad construction');\n          }\n          var map = emulateES6construct(this, Map, Map$prototype, {\n            _es6map: true,\n            _head: null,\n            _map: OrigMap ? new OrigMap() : null,\n            _size: 0,\n            _storage: emptyObject()\n          });\n\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          /* eslint no-multi-assign: 1 */\n          head.next = head.prev = head;\n          map._head = head;\n\n          // Optionally initialize map from iterable\n          if (arguments.length > 0) {\n            addIterableToMap(Map, map, arguments[0]);\n          }\n          return map;\n        };\n        Map$prototype = MapShim.prototype;\n\n        Value.getter(Map$prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n\n        defineProperties(Map$prototype, {\n          get: function get(key) {\n            requireMapSlot(this, 'get');\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              }\n              return;\n\n            }\n            if (this._map) {\n              // fast object key path\n              entry = origMapGet.call(this._map, key);\n              if (entry) {\n                return entry.value;\n              }\n              return;\n\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n\n          has: function has(key) {\n            requireMapSlot(this, 'has');\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            if (this._map) {\n              // fast object key path\n              return origMapHas.call(this._map, key);\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n\n          set: function set(key, value) {\n            requireMapSlot(this, 'set');\n            var head = this._head;\n            var i = head;\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              }\n              entry = this._storage[fkey] = new MapEntry(key, value); /* eslint no-multi-assign: 1 */\n              i = head.prev;\n              // fall through\n\n            } else if (this._map) {\n              // fast object key path\n              if (origMapHas.call(this._map, key)) {\n                origMapGet.call(this._map, key).value = value;\n              } else {\n                entry = new MapEntry(key, value);\n                origMapSet.call(this._map, key, entry);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n\n          'delete': function (key) {\n            requireMapSlot(this, 'delete');\n            var head = this._head;\n            var i = head;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            } else if (this._map) {\n              // fast object key path\n              if (!origMapHas.call(this._map, key)) {\n                return false;\n              }\n              i = origMapGet.call(this._map, key).prev;\n              origMapDelete.call(this._map, key);\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = empty;\n                i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n\n          clear: function clear() {\n            /* eslint no-multi-assign: 1 */\n            requireMapSlot(this, 'clear');\n            this._map = OrigMap ? new OrigMap() : null;\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head;\n            var i = head;\n            var p = i.next;\n            while ((i = p) !== head) {\n              i.key = empty;\n              i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n\n          keys: function keys() {\n            requireMapSlot(this, 'keys');\n            return new MapIterator(this, 'key');\n          },\n\n          values: function values() {\n            requireMapSlot(this, 'values');\n            return new MapIterator(this, 'value');\n          },\n\n          entries: function entries() {\n            requireMapSlot(this, 'entries');\n            return new MapIterator(this, 'key+value');\n          },\n\n          forEach: function forEach(callback) {\n            requireMapSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                _call(callback, context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map$prototype, Map$prototype.entries);\n\n        return MapShim;\n      }()),\n\n      Set: (function () {\n        var isSet = function isSet(set) {\n          return set._es6set && typeof set._storage !== 'undefined';\n        };\n        var requireSetSlot = function requireSetSlot(set, method) {\n          if (!ES.TypeIsObject(set) || !isSet(set)) {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('Set.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(set));\n          }\n        };\n\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var Set$prototype;\n        var SetShim = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          if (this && this._es6set) {\n            throw new TypeError('Bad construction');\n          }\n          var set = emulateES6construct(this, Set, Set$prototype, {\n            _es6set: true,\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          // Optionally initialize Set from iterable\n          if (arguments.length > 0) {\n            addIterableToSet(Set, set, arguments[0]);\n          }\n          return set;\n        };\n        Set$prototype = SetShim.prototype;\n\n        var decodeKey = function (key) {\n          var k = key;\n          if (k === '^null') {\n            return null;\n          } else if (k === '^undefined') {\n            return void 0;\n          }\n          var first = k.charAt(0);\n          if (first === '$') {\n            return _strSlice(k, 1);\n          } else if (first === 'n') {\n            return +_strSlice(k, 1);\n          } else if (first === 'b') {\n            return k === 'btrue';\n          }\n\n          return +k;\n        };\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = new collectionShims.Map();\n            set['[[SetData]]'] = m;\n            _forEach(keys(set._storage), function (key) {\n              var k = decodeKey(key);\n              m.set(k, k);\n            });\n            set['[[SetData]]'] = m;\n          }\n          set._storage = null; // free old backing storage\n        };\n\n        Value.getter(SetShim.prototype, 'size', function () {\n          requireSetSlot(this, 'size');\n          if (this._storage) {\n            return keys(this._storage).length;\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n\n        defineProperties(SetShim.prototype, {\n          has: function has(key) {\n            requireSetSlot(this, 'has');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n\n          add: function add(key) {\n            requireSetSlot(this, 'add');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n\n          'delete': function (key) {\n            requireSetSlot(this, 'delete');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return (delete this._storage[fkey]) && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n\n          clear: function clear() {\n            requireSetSlot(this, 'clear');\n            if (this._storage) {\n              this._storage = emptyObject();\n            }\n            if (this['[[SetData]]']) {\n              this['[[SetData]]'].clear();\n            }\n          },\n\n          values: function values() {\n            requireSetSlot(this, 'values');\n            ensureMap(this);\n            return new SetIterator(this['[[SetData]]'].values());\n          },\n\n          entries: function entries() {\n            requireSetSlot(this, 'entries');\n            ensureMap(this);\n            return new SetIterator(this['[[SetData]]'].entries());\n          },\n\n          forEach: function forEach(callback) {\n            requireSetSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                _call(callback, context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim.prototype, 'keys', SetShim.prototype.values, true);\n        addIterator(SetShim.prototype, SetShim.prototype.values);\n\n        var SetIterator = function SetIterator(it) {\n          defineProperty(this, 'it', it);\n        };\n        SetIterator.prototype = {\n          isSetIterator: true,\n          next: function next() {\n            if (!this.isSetIterator) {\n              throw new TypeError('Not a SetIterator');\n            }\n            return this.it.next();\n          }\n        };\n        addIterator(SetIterator.prototype);\n\n        return SetShim;\n      }())\n    };\n\n    var isGoogleTranslate = globals.Set && !Set.prototype['delete'] && Set.prototype.remove && Set.prototype.items && Set.prototype.map && Array.isArray(new Set().keys);\n    if (isGoogleTranslate) {\n      // special-case force removal of wildly invalid Set implementation in Google Translate iframes\n      // see https://github.com/paulmillr/es6-shim/issues/438 / https://twitter.com/ljharb/status/849335573114363904\n      globals.Set = collectionShims.Set;\n    }\n    if (globals.Map || globals.Set) {\n      // Safari 8, for example, doesn't accept an iterable.\n      var mapAcceptsArguments = valueOrFalseIfThrows(function () { return new Map([[1, 2]]).get(1) === 2; });\n      if (!mapAcceptsArguments) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, globals.Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = create(OrigMap.prototype);\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var testMap = new Map();\n      var mapUsesSameValueZero = (function () {\n        // Chrome 38-42, node 0.11/0.12, iojs 1/2 also have a bug when the Map has a size > 4\n        var m = new Map([[1, 0], [2, 0], [3, 0], [4, 0]]);\n        m.set(-0, m);\n        return m.get(0) === m && m.get(-0) === m && m.has(0) && m.has(-0);\n      }());\n      var mapSupportsChaining = testMap.set(1, 2) === testMap;\n      if (!mapUsesSameValueZero || !mapSupportsChaining) {\n        overrideNative(Map.prototype, 'set', function set(k, v) {\n          _call(origMapSet, this, k === 0 ? 0 : k, v);\n          return this;\n        });\n      }\n      if (!mapUsesSameValueZero) {\n        defineProperties(Map.prototype, {\n          get: function get(k) {\n            return _call(origMapGet, this, k === 0 ? 0 : k);\n          },\n          has: function has(k) {\n            return _call(origMapHas, this, k === 0 ? 0 : k);\n          }\n        }, true);\n        Value.preserveToString(Map.prototype.get, origMapGet);\n        Value.preserveToString(Map.prototype.has, origMapHas);\n      }\n      var testSet = new Set();\n      var setUsesSameValueZero = Set.prototype['delete'] && Set.prototype.add && Set.prototype.has && (function (s) {\n        s['delete'](0);\n        s.add(-0);\n        return !s.has(0);\n      }(testSet));\n      var setSupportsChaining = testSet.add(1) === testSet;\n      if (!setUsesSameValueZero || !setSupportsChaining) {\n        var origSetAdd = Set.prototype.add;\n        Set.prototype.add = function add(v) {\n          _call(origSetAdd, this, v === 0 ? 0 : v);\n          return this;\n        };\n        Value.preserveToString(Set.prototype.add, origSetAdd);\n      }\n      if (!setUsesSameValueZero) {\n        var origSetHas = Set.prototype.has;\n        Set.prototype.has = function has(v) {\n          return _call(origSetHas, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype.has, origSetHas);\n        var origSetDel = Set.prototype['delete'];\n        Set.prototype['delete'] = function SetDelete(v) {\n          return _call(origSetDel, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype['delete'], origSetDel);\n      }\n      var mapSupportsSubclassing = supportsSubclassing(globals.Map, function (M) {\n        var m = new M([]);\n        // Firefox 32 is ok with the instantiating the subclass but will\n        // throw when the map is used.\n        m.set(42, 42);\n        return m instanceof M;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var mapFailsToSupportSubclassing = Object.setPrototypeOf && !mapSupportsSubclassing;\n      var mapRequiresNew = (function () {\n        try {\n          return !(globals.Map() instanceof globals.Map);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Map.length !== 0 || mapFailsToSupportSubclassing || !mapRequiresNew) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = OrigMap.prototype;\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var setSupportsSubclassing = supportsSubclassing(globals.Set, function (S) {\n        var s = new S([]);\n        s.add(42, 42);\n        return s instanceof S;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var setFailsToSupportSubclassing = Object.setPrototypeOf && !setSupportsSubclassing;\n      var setRequiresNew = (function () {\n        try {\n          return !(globals.Set() instanceof globals.Set);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Set.length !== 0 || setFailsToSupportSubclassing || !setRequiresNew) {\n        var OrigSet = globals.Set;\n        globals.Set = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          var s = new OrigSet();\n          if (arguments.length > 0) {\n            addIterableToSet(Set, s, arguments[0]);\n          }\n          delete s.constructor;\n          Object.setPrototypeOf(s, Set.prototype);\n          return s;\n        };\n        globals.Set.prototype = OrigSet.prototype;\n        defineProperty(globals.Set.prototype, 'constructor', globals.Set, true);\n        Value.preserveToString(globals.Set, OrigSet);\n      }\n      var newMap = new globals.Map();\n      var mapIterationThrowsStopIterator = !valueOrFalseIfThrows(function () {\n        return newMap.keys().next().done;\n      });\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (\n        typeof globals.Map.prototype.clear !== 'function'\n        || new globals.Set().size !== 0\n        || newMap.size !== 0\n        || typeof globals.Map.prototype.keys !== 'function'\n        || typeof globals.Set.prototype.keys !== 'function'\n        || typeof globals.Map.prototype.forEach !== 'function'\n        || typeof globals.Set.prototype.forEach !== 'function'\n        || isCallableWithoutNew(globals.Map)\n        || isCallableWithoutNew(globals.Set)\n        || typeof newMap.keys().next !== 'function' // Safari 8\n        || mapIterationThrowsStopIterator // Firefox 25\n        || !mapSupportsSubclassing\n      ) {\n        defineProperties(globals, {\n          Map: collectionShims.Map,\n          Set: collectionShims.Set\n        }, true);\n      }\n\n      if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n        // Fixed in WebKit with https://bugs.webkit.org/show_bug.cgi?id=144190\n        defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n      }\n\n      // Shim incomplete iterator implementations.\n      addIterator(Object.getPrototypeOf((new globals.Map()).keys()));\n      addIterator(Object.getPrototypeOf((new globals.Set()).keys()));\n\n      if (functionsHaveNames && globals.Set.prototype.has.name !== 'has') {\n        // Microsoft Edge v0.11.10074.0 is missing a name on Set#has\n        var anonymousSetHas = globals.Set.prototype.has;\n        overrideNative(globals.Set.prototype, 'has', function has(key) {\n          return _call(anonymousSetHas, this, key);\n        });\n      }\n    }\n    defineProperties(globals, collectionShims);\n    addDefaultSpecies(globals.Map);\n    addDefaultSpecies(globals.Set);\n  }\n\n  var throwUnlessTargetIsObject = function throwUnlessTargetIsObject(target) {\n    if (!ES.TypeIsObject(target)) {\n      throw new TypeError('target must be an object');\n    }\n  };\n\n  // Some Reflect methods are basically the same as\n  // those on the Object global, except that a TypeError is thrown if\n  // target isn't an object. As well as returning a boolean indicating\n  // the success of the operation.\n  var ReflectShims = {\n    // Apply method in a functional form.\n    apply: function apply() {\n      return ES.Call(ES.Call, null, arguments);\n    },\n\n    // New operator in a functional form.\n    construct: function construct(constructor, args) {\n      if (!ES.IsConstructor(constructor)) {\n        throw new TypeError('First argument must be a constructor.');\n      }\n      var newTarget = arguments.length > 2 ? arguments[2] : constructor;\n      if (!ES.IsConstructor(newTarget)) {\n        throw new TypeError('new.target must be a constructor.');\n      }\n      return ES.Construct(constructor, args, newTarget, 'internal');\n    },\n\n    // When deleting a non-existent or configurable property,\n    // true is returned.\n    // When attempting to delete a non-configurable property,\n    // it will return false.\n    deleteProperty: function deleteProperty(target, key) {\n      throwUnlessTargetIsObject(target);\n      if (supportsDescriptors) {\n        var desc = Object.getOwnPropertyDescriptor(target, key);\n\n        if (desc && !desc.configurable) {\n          return false;\n        }\n      }\n\n      // Will return true.\n      return delete target[key];\n    },\n\n    has: function has(target, key) {\n      throwUnlessTargetIsObject(target);\n      return key in target;\n    }\n  };\n\n  if (Object.getOwnPropertyNames) {\n    Object.assign(ReflectShims, {\n      // Basically the result of calling the internal [[OwnPropertyKeys]].\n      // Concatenating propertyNames and propertySymbols should do the trick.\n      // This should continue to work together with a Symbol shim\n      // which overrides Object.getOwnPropertyNames and implements\n      // Object.getOwnPropertySymbols.\n      ownKeys: function ownKeys(target) {\n        throwUnlessTargetIsObject(target);\n        var keys = Object.getOwnPropertyNames(target);\n\n        if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n          _pushApply(keys, Object.getOwnPropertySymbols(target));\n        }\n\n        return keys;\n      }\n    });\n  }\n\n  var callAndCatchException = function ConvertExceptionToBoolean(func) {\n    return !throwsError(func);\n  };\n\n  if (Object.preventExtensions) {\n    Object.assign(ReflectShims, {\n      isExtensible: function isExtensible(target) {\n        throwUnlessTargetIsObject(target);\n        return Object.isExtensible(target);\n      },\n      preventExtensions: function preventExtensions(target) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          return Object.preventExtensions(target);\n        });\n      }\n    });\n  }\n\n  if (supportsDescriptors) {\n    var internalGet = function get(target, key, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent === null) {\n          return void 0;\n        }\n\n        return internalGet(parent, key, receiver);\n      }\n\n      if ('value' in desc) {\n        return desc.value;\n      }\n\n      if (desc.get) {\n        return ES.Call(desc.get, receiver);\n      }\n\n      return void 0;\n    };\n\n    var internalSet = function set(target, key, value, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent !== null) {\n          return internalSet(parent, key, value, receiver);\n        }\n\n        desc = {\n          value: void 0,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        };\n      }\n\n      if ('value' in desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        if (!ES.TypeIsObject(receiver)) {\n          return false;\n        }\n\n        var existingDesc = Object.getOwnPropertyDescriptor(receiver, key);\n\n        if (existingDesc) {\n          return Reflect.defineProperty(receiver, key, {\n            value: value\n          });\n        }\n        return Reflect.defineProperty(receiver, key, {\n          value: value,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        });\n\n      }\n\n      if (desc.set) {\n        _call(desc.set, receiver, value);\n        return true;\n      }\n\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      defineProperty: function defineProperty(target, propertyKey, attributes) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          return Object.defineProperty(target, propertyKey, attributes);\n        });\n      },\n\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n        throwUnlessTargetIsObject(target);\n        return Object.getOwnPropertyDescriptor(target, propertyKey);\n      },\n\n      // Syntax in a functional form.\n      get: function get(target, key) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 2 ? arguments[2] : target;\n\n        return internalGet(target, key, receiver);\n      },\n\n      set: function set(target, key, value) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 3 ? arguments[3] : target;\n\n        return internalSet(target, key, value, receiver);\n      }\n    });\n  }\n\n  if (Object.getPrototypeOf) {\n    var objectDotGetPrototypeOf = Object.getPrototypeOf;\n    ReflectShims.getPrototypeOf = function getPrototypeOf(target) {\n      throwUnlessTargetIsObject(target);\n      return objectDotGetPrototypeOf(target);\n    };\n  }\n\n  if (Object.setPrototypeOf && ReflectShims.getPrototypeOf) {\n    var willCreateCircularPrototype = function (object, lastProto) {\n      var proto = lastProto;\n      while (proto) {\n        if (object === proto) {\n          return true;\n        }\n        proto = ReflectShims.getPrototypeOf(proto);\n      }\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      // Sets the prototype of the given object.\n      // Returns true on success, otherwise false.\n      setPrototypeOf: function setPrototypeOf(object, proto) {\n        throwUnlessTargetIsObject(object);\n        if (proto !== null && !ES.TypeIsObject(proto)) {\n          throw new TypeError('proto must be an object or null');\n        }\n\n        // If they already are the same, we're done.\n        if (proto === Reflect.getPrototypeOf(object)) {\n          return true;\n        }\n\n        // Cannot alter prototype if object not extensible.\n        if (Reflect.isExtensible && !Reflect.isExtensible(object)) {\n          return false;\n        }\n\n        // Ensure that we do not create a circular prototype chain.\n        if (willCreateCircularPrototype(object, proto)) {\n          return false;\n        }\n\n        Object.setPrototypeOf(object, proto);\n\n        return true;\n      }\n    });\n  }\n  var defineOrOverrideReflectProperty = function (key, shim) {\n    if (!ES.IsCallable(globals.Reflect[key])) {\n      defineProperty(globals.Reflect, key, shim);\n    } else {\n      var acceptsPrimitives = valueOrFalseIfThrows(function () {\n        globals.Reflect[key](1);\n        globals.Reflect[key](NaN);\n        globals.Reflect[key](true);\n        return true;\n      });\n      if (acceptsPrimitives) {\n        overrideNative(globals.Reflect, key, shim);\n      }\n    }\n  };\n  Object.keys(ReflectShims).forEach(function (key) {\n    defineOrOverrideReflectProperty(key, ReflectShims[key]);\n  });\n  var originalReflectGetProto = globals.Reflect.getPrototypeOf;\n  if (functionsHaveNames && originalReflectGetProto && originalReflectGetProto.name !== 'getPrototypeOf') {\n    overrideNative(globals.Reflect, 'getPrototypeOf', function getPrototypeOf(target) {\n      return _call(originalReflectGetProto, globals.Reflect, target);\n    });\n  }\n  if (globals.Reflect.setPrototypeOf) {\n    if (valueOrFalseIfThrows(function () {\n      globals.Reflect.setPrototypeOf(1, {});\n      return true;\n    })) {\n      overrideNative(globals.Reflect, 'setPrototypeOf', ReflectShims.setPrototypeOf);\n    }\n  }\n  if (globals.Reflect.defineProperty) {\n    if (!valueOrFalseIfThrows(function () {\n      var basic = !globals.Reflect.defineProperty(1, 'test', { value: 1 });\n      // \"extensible\" fails on Edge 0.12\n      var extensible = typeof Object.preventExtensions !== 'function' || !globals.Reflect.defineProperty(Object.preventExtensions({}), 'test', {});\n      return basic && extensible;\n    })) {\n      overrideNative(globals.Reflect, 'defineProperty', ReflectShims.defineProperty);\n    }\n  }\n  if (globals.Reflect.construct) {\n    if (!valueOrFalseIfThrows(function () {\n      var F = function F() {};\n      return globals.Reflect.construct(function () {}, [], F) instanceof F;\n    })) {\n      overrideNative(globals.Reflect, 'construct', ReflectShims.construct);\n    }\n  }\n\n  if (String(new Date(NaN)) !== 'Invalid Date') {\n    var dateToString = Date.prototype.toString;\n    var shimmedDateToString = function toString() {\n      var valueOf = +this;\n      if (valueOf !== valueOf) {\n        return 'Invalid Date';\n      }\n      return ES.Call(dateToString, this);\n    };\n    overrideNative(Date.prototype, 'toString', shimmedDateToString);\n  }\n\n  // Annex B HTML methods\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-additional-properties-of-the-string.prototype-object\n  var stringHTMLshims = {\n    anchor: function anchor(name) { return ES.CreateHTML(this, 'a', 'name', name); },\n    big: function big() { return ES.CreateHTML(this, 'big', '', ''); },\n    blink: function blink() { return ES.CreateHTML(this, 'blink', '', ''); },\n    bold: function bold() { return ES.CreateHTML(this, 'b', '', ''); },\n    fixed: function fixed() { return ES.CreateHTML(this, 'tt', '', ''); },\n    fontcolor: function fontcolor(color) { return ES.CreateHTML(this, 'font', 'color', color); },\n    fontsize: function fontsize(size) { return ES.CreateHTML(this, 'font', 'size', size); },\n    italics: function italics() { return ES.CreateHTML(this, 'i', '', ''); },\n    link: function link(url) { return ES.CreateHTML(this, 'a', 'href', url); },\n    small: function small() { return ES.CreateHTML(this, 'small', '', ''); },\n    strike: function strike() { return ES.CreateHTML(this, 'strike', '', ''); },\n    sub: function sub() { return ES.CreateHTML(this, 'sub', '', ''); },\n    sup: function sub() { return ES.CreateHTML(this, 'sup', '', ''); }\n  };\n  _forEach(Object.keys(stringHTMLshims), function (key) {\n    var method = String.prototype[key];\n    var shouldOverwrite = false;\n    if (ES.IsCallable(method)) {\n      var output = _call(method, '', ' \" ');\n      var quotesCount = _concat([], output.match(/\"/g)).length;\n      shouldOverwrite = output !== output.toLowerCase() || quotesCount > 2;\n    } else {\n      shouldOverwrite = true;\n    }\n    if (shouldOverwrite) {\n      overrideNative(String.prototype, key, stringHTMLshims[key]);\n    }\n  });\n\n  var JSONstringifiesSymbols = (function () {\n    // Microsoft Edge v0.12 stringifies Symbols incorrectly\n    if (!hasSymbols) { return false; } // Symbols are not supported\n    var stringify = typeof JSON === 'object' && typeof JSON.stringify === 'function' ? JSON.stringify : null;\n    if (!stringify) { return false; } // JSON.stringify is not supported\n    if (typeof stringify(Symbol()) !== 'undefined') { return true; } // Symbols should become `undefined`\n    if (stringify([Symbol()]) !== '[null]') { return true; } // Symbols in arrays should become `null`\n    var obj = { a: Symbol() };\n    obj[Symbol()] = true;\n    if (stringify(obj) !== '{}') { return true; } // Symbol-valued keys *and* Symbol-valued properties should be omitted\n    return false;\n  }());\n  var JSONstringifyAcceptsObjectSymbol = valueOrFalseIfThrows(function () {\n    // Chrome 45 throws on stringifying object symbols\n    if (!hasSymbols) { return true; } // Symbols are not supported\n    return JSON.stringify(Object(Symbol())) === '{}' && JSON.stringify([Object(Symbol())]) === '[{}]';\n  });\n  if (JSONstringifiesSymbols || !JSONstringifyAcceptsObjectSymbol) {\n    var origStringify = JSON.stringify;\n    overrideNative(JSON, 'stringify', function stringify(value) {\n      if (typeof value === 'symbol') { return; }\n      var replacer;\n      if (arguments.length > 1) {\n        replacer = arguments[1];\n      }\n      var args = [value];\n      if (!isArray(replacer)) {\n        var replaceFn = ES.IsCallable(replacer) ? replacer : null;\n        var wrappedReplacer = function (key, val) {\n          var parsedValue = replaceFn ? _call(replaceFn, this, key, val) : val;\n          if (typeof parsedValue !== 'symbol') {\n            if (Type.symbol(parsedValue)) {\n              return assignTo({})(parsedValue);\n            }\n            return parsedValue;\n\n          }\n        };\n        args.push(wrappedReplacer);\n      } else {\n        // create wrapped replacer that handles an array replacer?\n        args.push(replacer);\n      }\n      if (arguments.length > 2) {\n        args.push(arguments[2]);\n      }\n      return origStringify.apply(this, args);\n    });\n  }\n\n  return globals;\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}