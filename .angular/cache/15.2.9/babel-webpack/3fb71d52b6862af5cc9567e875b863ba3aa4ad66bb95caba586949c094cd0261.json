{"ast":null,"code":"import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nimport { clearStyles, addBackgroundStyle, getBackgroundColorByName, isReduceMotionEnabled } from '../helpers';\nexport var withBackground = function withBackground(StoryFn, context) {\n  var _globals$BACKGROUNDS_;\n  var globals = context.globals,\n    parameters = context.parameters;\n  var globalsBackgroundColor = (_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.value;\n  var backgroundsConfig = parameters[BACKGROUNDS_PARAM_KEY];\n  var selectedBackgroundColor = useMemo(function () {\n    if (backgroundsConfig.disable) {\n      return 'transparent';\n    }\n    return getBackgroundColorByName(globalsBackgroundColor, backgroundsConfig.values, backgroundsConfig.default);\n  }, [backgroundsConfig, globalsBackgroundColor]);\n  var isActive = useMemo(function () {\n    return selectedBackgroundColor && selectedBackgroundColor !== 'transparent';\n  }, [selectedBackgroundColor]);\n  var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n  var backgroundStyles = useMemo(function () {\n    var transitionStyle = 'transition: background-color 0.3s;';\n    return \"\\n      \".concat(selector, \" {\\n        background: \").concat(selectedBackgroundColor, \" !important;\\n        \").concat(isReduceMotionEnabled() ? '' : transitionStyle, \"\\n      }\\n    \");\n  }, [selectedBackgroundColor, selector]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-docs-\".concat(context.id) : \"addon-backgrounds-color\";\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n    addBackgroundStyle(selectorId, backgroundStyles, context.viewMode === 'docs' ? context.id : null);\n  }, [isActive, backgroundStyles, context]);\n  return StoryFn();\n};","map":{"version":3,"names":["useMemo","useEffect","PARAM_KEY","BACKGROUNDS_PARAM_KEY","clearStyles","addBackgroundStyle","getBackgroundColorByName","isReduceMotionEnabled","withBackground","StoryFn","context","_globals$BACKGROUNDS_","globals","parameters","globalsBackgroundColor","value","backgroundsConfig","selectedBackgroundColor","disable","values","default","isActive","selector","viewMode","concat","id","backgroundStyles","transitionStyle","selectorId"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addon-backgrounds/dist/esm/decorators/withBackground.js"],"sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nimport { clearStyles, addBackgroundStyle, getBackgroundColorByName, isReduceMotionEnabled } from '../helpers';\nexport var withBackground = function withBackground(StoryFn, context) {\n  var _globals$BACKGROUNDS_;\n\n  var globals = context.globals,\n      parameters = context.parameters;\n  var globalsBackgroundColor = (_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.value;\n  var backgroundsConfig = parameters[BACKGROUNDS_PARAM_KEY];\n  var selectedBackgroundColor = useMemo(function () {\n    if (backgroundsConfig.disable) {\n      return 'transparent';\n    }\n\n    return getBackgroundColorByName(globalsBackgroundColor, backgroundsConfig.values, backgroundsConfig.default);\n  }, [backgroundsConfig, globalsBackgroundColor]);\n  var isActive = useMemo(function () {\n    return selectedBackgroundColor && selectedBackgroundColor !== 'transparent';\n  }, [selectedBackgroundColor]);\n  var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n  var backgroundStyles = useMemo(function () {\n    var transitionStyle = 'transition: background-color 0.3s;';\n    return \"\\n      \".concat(selector, \" {\\n        background: \").concat(selectedBackgroundColor, \" !important;\\n        \").concat(isReduceMotionEnabled() ? '' : transitionStyle, \"\\n      }\\n    \");\n  }, [selectedBackgroundColor, selector]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-docs-\".concat(context.id) : \"addon-backgrounds-color\";\n\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n\n    addBackgroundStyle(selectorId, backgroundStyles, context.viewMode === 'docs' ? context.id : null);\n  }, [isActive, backgroundStyles, context]);\n  return StoryFn();\n};"],"mappings":"AAAA,OAAO,sCAAsC;AAC7C,OAAO,wCAAwC;AAC/C,OAAO,iDAAiD;AACxD,OAAO,oCAAoC;AAC3C,SAASA,OAAO,EAAEC,SAAS,QAAQ,mBAAmB;AACtD,SAASC,SAAS,IAAIC,qBAAqB,QAAQ,cAAc;AACjE,SAASC,WAAW,EAAEC,kBAAkB,EAAEC,wBAAwB,EAAEC,qBAAqB,QAAQ,YAAY;AAC7G,OAAO,IAAIC,cAAc,GAAG,SAASA,cAAcA,CAACC,OAAO,EAAEC,OAAO,EAAE;EACpE,IAAIC,qBAAqB;EAEzB,IAAIC,OAAO,GAAGF,OAAO,CAACE,OAAO;IACzBC,UAAU,GAAGH,OAAO,CAACG,UAAU;EACnC,IAAIC,sBAAsB,GAAG,CAACH,qBAAqB,GAAGC,OAAO,CAACT,qBAAqB,CAAC,MAAM,IAAI,IAAIQ,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACI,KAAK;EACzK,IAAIC,iBAAiB,GAAGH,UAAU,CAACV,qBAAqB,CAAC;EACzD,IAAIc,uBAAuB,GAAGjB,OAAO,CAAC,YAAY;IAChD,IAAIgB,iBAAiB,CAACE,OAAO,EAAE;MAC7B,OAAO,aAAa;IACtB;IAEA,OAAOZ,wBAAwB,CAACQ,sBAAsB,EAAEE,iBAAiB,CAACG,MAAM,EAAEH,iBAAiB,CAACI,OAAO,CAAC;EAC9G,CAAC,EAAE,CAACJ,iBAAiB,EAAEF,sBAAsB,CAAC,CAAC;EAC/C,IAAIO,QAAQ,GAAGrB,OAAO,CAAC,YAAY;IACjC,OAAOiB,uBAAuB,IAAIA,uBAAuB,KAAK,aAAa;EAC7E,CAAC,EAAE,CAACA,uBAAuB,CAAC,CAAC;EAC7B,IAAIK,QAAQ,GAAGZ,OAAO,CAACa,QAAQ,KAAK,MAAM,GAAG,WAAW,CAACC,MAAM,CAACd,OAAO,CAACe,EAAE,EAAE,cAAc,CAAC,GAAG,eAAe;EAC7G,IAAIC,gBAAgB,GAAG1B,OAAO,CAAC,YAAY;IACzC,IAAI2B,eAAe,GAAG,oCAAoC;IAC1D,OAAO,UAAU,CAACH,MAAM,CAACF,QAAQ,EAAE,0BAA0B,CAAC,CAACE,MAAM,CAACP,uBAAuB,EAAE,wBAAwB,CAAC,CAACO,MAAM,CAACjB,qBAAqB,CAAC,CAAC,GAAG,EAAE,GAAGoB,eAAe,EAAE,iBAAiB,CAAC;EACpM,CAAC,EAAE,CAACV,uBAAuB,EAAEK,QAAQ,CAAC,CAAC;EACvCrB,SAAS,CAAC,YAAY;IACpB,IAAI2B,UAAU,GAAGlB,OAAO,CAACa,QAAQ,KAAK,MAAM,GAAG,yBAAyB,CAACC,MAAM,CAACd,OAAO,CAACe,EAAE,CAAC,GAAG,yBAAyB;IAEvH,IAAI,CAACJ,QAAQ,EAAE;MACbjB,WAAW,CAACwB,UAAU,CAAC;MACvB;IACF;IAEAvB,kBAAkB,CAACuB,UAAU,EAAEF,gBAAgB,EAAEhB,OAAO,CAACa,QAAQ,KAAK,MAAM,GAAGb,OAAO,CAACe,EAAE,GAAG,IAAI,CAAC;EACnG,CAAC,EAAE,CAACJ,QAAQ,EAAEK,gBAAgB,EAAEhB,OAAO,CAAC,CAAC;EACzC,OAAOD,OAAO,CAAC,CAAC;AAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}