{"ast":null,"code":"import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/* eslint-disable operator-assignment */\n\n/* eslint-disable no-param-reassign */\nvar colors = {\n  margin: '#f6b26b',\n  border: '#ffe599',\n  padding: '#93c47d',\n  content: '#6fa8dc',\n  text: '#232020'\n};\nvar labelPadding = 6;\nfunction roundedRect(context, _ref) {\n  var x = _ref.x,\n    y = _ref.y,\n    w = _ref.w,\n    h = _ref.h,\n    r = _ref.r;\n  x = x - w / 2;\n  y = y - h / 2;\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n}\nfunction positionCoordinate(position, _ref2) {\n  var padding = _ref2.padding,\n    border = _ref2.border,\n    width = _ref2.width,\n    height = _ref2.height,\n    top = _ref2.top,\n    left = _ref2.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  var x = left + border.left + padding.left;\n  var y = top + border.top + padding.top;\n  if (position === 'top') {\n    x += contentWidth / 2;\n  } else if (position === 'right') {\n    x += contentWidth;\n    y += contentHeight / 2;\n  } else if (position === 'bottom') {\n    x += contentWidth / 2;\n    y += contentHeight;\n  } else if (position === 'left') {\n    y += contentHeight / 2;\n  } else if (position === 'center') {\n    x += contentWidth / 2;\n    y += contentHeight / 2;\n  }\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Offset the label based on how many layers appear before it\n * For example:\n * margin labels will shift further outwards if there are\n * padding labels\n */\n\nfunction offset(type, position, _ref3, labelPaddingSize, external) {\n  var margin = _ref3.margin,\n    border = _ref3.border,\n    padding = _ref3.padding;\n  var shift = function shift(dir) {\n    return 0;\n  };\n  var offsetX = 0;\n  var offsetY = 0; // If external labels then push them to the edge of the band\n  // else keep them centred\n\n  var locationMultiplier = external ? 1 : 0.5; // Account for padding within the label\n\n  var labelPaddingShift = external ? labelPaddingSize * 2 : 0;\n  if (type === 'padding') {\n    shift = function shift(dir) {\n      return padding[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'border') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'margin') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] + margin[dir] * locationMultiplier + labelPaddingShift;\n    };\n  }\n  if (position === 'top') {\n    offsetY = -shift('top');\n  } else if (position === 'right') {\n    offsetX = shift('right');\n  } else if (position === 'bottom') {\n    offsetY = shift('bottom');\n  } else if (position === 'left') {\n    offsetX = -shift('left');\n  }\n  return {\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\nfunction collide(a, b) {\n  return Math.abs(a.x - b.x) < Math.abs(a.w + b.w) / 2 && Math.abs(a.y - b.y) < Math.abs(a.h + b.h) / 2;\n}\nfunction overlapAdjustment(position, currentRect, prevRect) {\n  if (position === 'top') {\n    currentRect.y = prevRect.y - prevRect.h - labelPadding;\n  } else if (position === 'right') {\n    currentRect.x = prevRect.x + prevRect.w / 2 + labelPadding + currentRect.w / 2;\n  } else if (position === 'bottom') {\n    currentRect.y = prevRect.y + prevRect.h + labelPadding;\n  } else if (position === 'left') {\n    currentRect.x = prevRect.x - prevRect.w / 2 - labelPadding - currentRect.w / 2;\n  }\n  return {\n    x: currentRect.x,\n    y: currentRect.y\n  };\n}\nfunction textWithRect(context, type, _ref4, text) {\n  var x = _ref4.x,\n    y = _ref4.y,\n    w = _ref4.w,\n    h = _ref4.h;\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\nfunction configureText(context, text) {\n  context.font = '600 12px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n  var metrics = context.measureText(text);\n  var actualHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  var w = metrics.width + labelPadding * 2;\n  var h = actualHeight + labelPadding * 2;\n  return {\n    w: w,\n    h: h\n  };\n}\nfunction drawLabel(context, measurements, _ref5, prevRect) {\n  var type = _ref5.type,\n    _ref5$position = _ref5.position,\n    position = _ref5$position === void 0 ? 'center' : _ref5$position,\n    text = _ref5.text;\n  var external = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var _positionCoordinate = positionCoordinate(position, measurements),\n    x = _positionCoordinate.x,\n    y = _positionCoordinate.y;\n  var _offset = offset(type, position, measurements, labelPadding + 1, external),\n    offsetX = _offset.offsetX,\n    offsetY = _offset.offsetY; // Shift coordinate to center within\n  // the band of measurement\n\n  x += offsetX;\n  y += offsetY;\n  var _configureText = configureText(context, text),\n    w = _configureText.w,\n    h = _configureText.h; // Adjust for overlap\n\n  if (prevRect && collide({\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, prevRect)) {\n    var adjusted = overlapAdjustment(position, {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    }, prevRect);\n    x = adjusted.x;\n    y = adjusted.y;\n  }\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\nfunction floatingOffset(alignment, _ref6) {\n  var w = _ref6.w,\n    h = _ref6.h;\n  var deltaW = w * 0.5 + labelPadding;\n  var deltaH = h * 0.5 + labelPadding;\n  return {\n    offsetX: (alignment.x === 'left' ? -1 : 1) * deltaW,\n    offsetY: (alignment.y === 'top' ? -1 : 1) * deltaH\n  };\n}\nexport function drawFloatingLabel(context, measurements, _ref7) {\n  var type = _ref7.type,\n    text = _ref7.text;\n  var floatingAlignment = measurements.floatingAlignment,\n    extremities = measurements.extremities;\n  var x = extremities[floatingAlignment.x];\n  var y = extremities[floatingAlignment.y];\n  var _configureText2 = configureText(context, text),\n    w = _configureText2.w,\n    h = _configureText2.h;\n  var _floatingOffset = floatingOffset(floatingAlignment, {\n      w: w,\n      h: h\n    }),\n    offsetX = _floatingOffset.offsetX,\n    offsetY = _floatingOffset.offsetY;\n  x += offsetX;\n  y += offsetY;\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\nfunction drawStack(context, measurements, stack, external) {\n  var rects = [];\n  stack.forEach(function (l, idx) {\n    // Move the centred label to floating in external mode\n    var rect = external && l.position === 'center' ? drawFloatingLabel(context, measurements, l) : drawLabel(context, measurements, l, rects[idx - 1], external);\n    rects[idx] = rect;\n  });\n}\nexport function labelStacks(context, measurements, labels, externalLabels) {\n  var stacks = labels.reduce(function (acc, l) {\n    if (!Object.prototype.hasOwnProperty.call(acc, l.position)) {\n      acc[l.position] = [];\n    }\n    acc[l.position].push(l);\n    return acc;\n  }, {});\n  if (stacks.top) {\n    drawStack(context, measurements, stacks.top, externalLabels);\n  }\n  if (stacks.right) {\n    drawStack(context, measurements, stacks.right, externalLabels);\n  }\n  if (stacks.bottom) {\n    drawStack(context, measurements, stacks.bottom, externalLabels);\n  }\n  if (stacks.left) {\n    drawStack(context, measurements, stacks.left, externalLabels);\n  }\n  if (stacks.center) {\n    drawStack(context, measurements, stacks.center, externalLabels);\n  }\n}","map":{"version":3,"names":["colors","margin","border","padding","content","text","labelPadding","roundedRect","context","_ref","x","y","w","h","r","beginPath","moveTo","arcTo","closePath","positionCoordinate","position","_ref2","width","height","top","left","contentWidth","right","contentHeight","bottom","offset","type","_ref3","labelPaddingSize","external","shift","dir","offsetX","offsetY","locationMultiplier","labelPaddingShift","collide","a","b","Math","abs","overlapAdjustment","currentRect","prevRect","textWithRect","_ref4","fillStyle","concat","fill","strokeStyle","stroke","fillText","configureText","font","textBaseline","textAlign","metrics","measureText","actualHeight","actualBoundingBoxAscent","actualBoundingBoxDescent","drawLabel","measurements","_ref5","_ref5$position","arguments","length","undefined","_positionCoordinate","_offset","_configureText","adjusted","floatingOffset","alignment","_ref6","deltaW","deltaH","drawFloatingLabel","_ref7","floatingAlignment","extremities","_configureText2","_floatingOffset","drawStack","stack","rects","forEach","l","idx","rect","labelStacks","labels","externalLabels","stacks","reduce","acc","Object","prototype","hasOwnProperty","call","push","center"],"sources":["/Users/michael.restrepo/code/personal/web-components/rimuru/node_modules/@storybook/addon-measure/dist/esm/box-model/labels.js"],"sourcesContent":["import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/* eslint-disable operator-assignment */\n\n/* eslint-disable no-param-reassign */\nvar colors = {\n  margin: '#f6b26b',\n  border: '#ffe599',\n  padding: '#93c47d',\n  content: '#6fa8dc',\n  text: '#232020'\n};\nvar labelPadding = 6;\n\nfunction roundedRect(context, _ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      r = _ref.r;\n  x = x - w / 2;\n  y = y - h / 2;\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n}\n\nfunction positionCoordinate(position, _ref2) {\n  var padding = _ref2.padding,\n      border = _ref2.border,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      left = _ref2.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  var x = left + border.left + padding.left;\n  var y = top + border.top + padding.top;\n\n  if (position === 'top') {\n    x += contentWidth / 2;\n  } else if (position === 'right') {\n    x += contentWidth;\n    y += contentHeight / 2;\n  } else if (position === 'bottom') {\n    x += contentWidth / 2;\n    y += contentHeight;\n  } else if (position === 'left') {\n    y += contentHeight / 2;\n  } else if (position === 'center') {\n    x += contentWidth / 2;\n    y += contentHeight / 2;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Offset the label based on how many layers appear before it\n * For example:\n * margin labels will shift further outwards if there are\n * padding labels\n */\n\n\nfunction offset(type, position, _ref3, labelPaddingSize, external) {\n  var margin = _ref3.margin,\n      border = _ref3.border,\n      padding = _ref3.padding;\n\n  var shift = function shift(dir) {\n    return 0;\n  };\n\n  var offsetX = 0;\n  var offsetY = 0; // If external labels then push them to the edge of the band\n  // else keep them centred\n\n  var locationMultiplier = external ? 1 : 0.5; // Account for padding within the label\n\n  var labelPaddingShift = external ? labelPaddingSize * 2 : 0;\n\n  if (type === 'padding') {\n    shift = function shift(dir) {\n      return padding[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'border') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'margin') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] + margin[dir] * locationMultiplier + labelPaddingShift;\n    };\n  }\n\n  if (position === 'top') {\n    offsetY = -shift('top');\n  } else if (position === 'right') {\n    offsetX = shift('right');\n  } else if (position === 'bottom') {\n    offsetY = shift('bottom');\n  } else if (position === 'left') {\n    offsetX = -shift('left');\n  }\n\n  return {\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nfunction collide(a, b) {\n  return Math.abs(a.x - b.x) < Math.abs(a.w + b.w) / 2 && Math.abs(a.y - b.y) < Math.abs(a.h + b.h) / 2;\n}\n\nfunction overlapAdjustment(position, currentRect, prevRect) {\n  if (position === 'top') {\n    currentRect.y = prevRect.y - prevRect.h - labelPadding;\n  } else if (position === 'right') {\n    currentRect.x = prevRect.x + prevRect.w / 2 + labelPadding + currentRect.w / 2;\n  } else if (position === 'bottom') {\n    currentRect.y = prevRect.y + prevRect.h + labelPadding;\n  } else if (position === 'left') {\n    currentRect.x = prevRect.x - prevRect.w / 2 - labelPadding - currentRect.w / 2;\n  }\n\n  return {\n    x: currentRect.x,\n    y: currentRect.y\n  };\n}\n\nfunction textWithRect(context, type, _ref4, text) {\n  var x = _ref4.x,\n      y = _ref4.y,\n      w = _ref4.w,\n      h = _ref4.h;\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\n\nfunction configureText(context, text) {\n  context.font = '600 12px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n  var metrics = context.measureText(text);\n  var actualHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  var w = metrics.width + labelPadding * 2;\n  var h = actualHeight + labelPadding * 2;\n  return {\n    w: w,\n    h: h\n  };\n}\n\nfunction drawLabel(context, measurements, _ref5, prevRect) {\n  var type = _ref5.type,\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'center' : _ref5$position,\n      text = _ref5.text;\n  var external = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var _positionCoordinate = positionCoordinate(position, measurements),\n      x = _positionCoordinate.x,\n      y = _positionCoordinate.y;\n\n  var _offset = offset(type, position, measurements, labelPadding + 1, external),\n      offsetX = _offset.offsetX,\n      offsetY = _offset.offsetY; // Shift coordinate to center within\n  // the band of measurement\n\n\n  x += offsetX;\n  y += offsetY;\n\n  var _configureText = configureText(context, text),\n      w = _configureText.w,\n      h = _configureText.h; // Adjust for overlap\n\n\n  if (prevRect && collide({\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, prevRect)) {\n    var adjusted = overlapAdjustment(position, {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    }, prevRect);\n    x = adjusted.x;\n    y = adjusted.y;\n  }\n\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction floatingOffset(alignment, _ref6) {\n  var w = _ref6.w,\n      h = _ref6.h;\n  var deltaW = w * 0.5 + labelPadding;\n  var deltaH = h * 0.5 + labelPadding;\n  return {\n    offsetX: (alignment.x === 'left' ? -1 : 1) * deltaW,\n    offsetY: (alignment.y === 'top' ? -1 : 1) * deltaH\n  };\n}\n\nexport function drawFloatingLabel(context, measurements, _ref7) {\n  var type = _ref7.type,\n      text = _ref7.text;\n  var floatingAlignment = measurements.floatingAlignment,\n      extremities = measurements.extremities;\n  var x = extremities[floatingAlignment.x];\n  var y = extremities[floatingAlignment.y];\n\n  var _configureText2 = configureText(context, text),\n      w = _configureText2.w,\n      h = _configureText2.h;\n\n  var _floatingOffset = floatingOffset(floatingAlignment, {\n    w: w,\n    h: h\n  }),\n      offsetX = _floatingOffset.offsetX,\n      offsetY = _floatingOffset.offsetY;\n\n  x += offsetX;\n  y += offsetY;\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction drawStack(context, measurements, stack, external) {\n  var rects = [];\n  stack.forEach(function (l, idx) {\n    // Move the centred label to floating in external mode\n    var rect = external && l.position === 'center' ? drawFloatingLabel(context, measurements, l) : drawLabel(context, measurements, l, rects[idx - 1], external);\n    rects[idx] = rect;\n  });\n}\n\nexport function labelStacks(context, measurements, labels, externalLabels) {\n  var stacks = labels.reduce(function (acc, l) {\n    if (!Object.prototype.hasOwnProperty.call(acc, l.position)) {\n      acc[l.position] = [];\n    }\n\n    acc[l.position].push(l);\n    return acc;\n  }, {});\n\n  if (stacks.top) {\n    drawStack(context, measurements, stacks.top, externalLabels);\n  }\n\n  if (stacks.right) {\n    drawStack(context, measurements, stacks.right, externalLabels);\n  }\n\n  if (stacks.bottom) {\n    drawStack(context, measurements, stacks.bottom, externalLabels);\n  }\n\n  if (stacks.left) {\n    drawStack(context, measurements, stacks.left, externalLabels);\n  }\n\n  if (stacks.center) {\n    drawStack(context, measurements, stacks.center, externalLabels);\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}